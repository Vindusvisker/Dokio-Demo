(()=>{"use strict";var e,t,r,s={4565:(e,t,r)=>{var s=r(4848),n=r(6540),a=r(5338),i=r(964),o=r(3558),l=r(8445),c=r(2864),d=r(5899),u=r(3160),h=r(6589),x=r(4164),m=r(856);function b(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,m.QP)((0,x.$)(e))}const p=function(e){var t=e.currentView,r=e.onViewChange,n=function(e){switch(e){case"ambient":return"linear-gradient(135deg, rgb(147, 51, 234), rgb(99, 102, 241), rgb(59, 130, 246))";case"minimal":return"linear-gradient(135deg, rgb(156, 163, 175), rgb(107, 114, 128), rgb(75, 85, 99))";case"neon":return"linear-gradient(135deg, rgb(34, 197, 94), rgb(59, 130, 246), rgb(147, 51, 234))";case"warm":return"linear-gradient(135deg, rgb(251, 146, 60), rgb(239, 68, 68), rgb(245, 158, 11))";case"cool":return"linear-gradient(135deg, rgb(59, 130, 246), rgb(99, 102, 241), rgb(20, 184, 166))";case"mintlify":return"linear-gradient(135deg, rgb(34, 160, 120), rgb(4, 140, 160), rgb(20, 150, 70))";case"space":return"linear-gradient(135deg, rgb(99, 102, 241), rgb(139, 92, 246), rgb(168, 85, 247))";default:return"linear-gradient(135deg, rgb(122, 105, 249), rgb(242, 99, 120), rgb(245, 131, 63))"}}(e.currentTheme.id),a=[{id:"home",label:"Home",icon:l.A},{id:"productivity",label:"Productivity",icon:c.A},{id:"personal",label:"Personal",icon:d.A},{id:"vision",label:"Vision",icon:u.A},{id:"financial",label:"Expenses",icon:h.A}];return(0,s.jsx)("div",{className:"fixed top-6 left-1/2 transform -translate-x-1/2 z-50",children:(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)("div",{className:"flex items-center space-x-4 bg-black/20 backdrop-blur-xl rounded-full p-2 border border-white/10 shadow-2xl",children:a.map((function(e){var a=e.icon,i=t===e.id;return(0,s.jsxs)("button",{onClick:function(){return r(e.id)},className:b("relative flex items-center space-x-2 px-6 py-3 rounded-full text-sm font-medium transition-all duration-500 overflow-hidden group",i?"text-white shadow-lg":"text-white/70 hover:text-white hover:bg-white/10"),style:{transitionTimingFunction:"cubic-bezier(0.34,1.56,0.64,1)"},children:[i&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"absolute inset-0 rounded-full animate-in fade-in-0 zoom-in-90 duration-[1200ms]",style:{background:n,animationTimingFunction:"cubic-bezier(0.16,1,0.3,1)"}}),(0,s.jsx)("div",{className:"absolute inset-0 rounded-full blur-sm opacity-50 animate-in fade-in-0 zoom-in-75 duration-[1500ms]",style:{background:n,animationTimingFunction:"cubic-bezier(0.16,1,0.3,1)"}})]}),(0,s.jsx)(a,{className:b("h-4 w-4 transition-transform duration-200 relative z-10",i?"scale-110":"group-hover:scale-105")}),(0,s.jsx)("span",{className:"relative z-10 whitespace-nowrap",children:e.label})]},e.id)}))})})})},g=function(){return(0,s.jsxs)("button",{onClick:function(){window.open("https://github.com/Vindusvisker/productivity-tab","_blank")},className:"group relative bg-black/20 backdrop-blur-xl border border-white/10 rounded-full p-px overflow-hidden shadow-2xl",children:[(0,s.jsx)("span",{className:"absolute inset-0 rounded-full overflow-hidden",children:(0,s.jsx)("span",{className:"inset-0 absolute pointer-events-none select-none",children:(0,s.jsx)("span",{className:"block -translate-x-1/2 -translate-y-1/3 size-24 blur-xl",style:{background:"linear-gradient(135deg, rgb(122, 105, 249), rgb(242, 99, 120), rgb(245, 131, 63))"}})})}),(0,s.jsx)("span",{className:"inset-0 absolute pointer-events-none select-none animate-border-glow-translate",children:(0,s.jsx)("span",{className:"block z-0 h-full w-12 blur-xl -translate-x-1/2 rounded-full animate-border-glow-scale",style:{background:"linear-gradient(135deg, rgb(122, 105, 249), rgb(242, 99, 120), rgb(245, 131, 63))"}})}),(0,s.jsxs)("span",{className:"flex items-center justify-center gap-1 relative z-[1] bg-black/60 backdrop-blur-md rounded-full py-2 px-4 pl-2 w-full border border-white/5",children:[(0,s.jsxs)("span",{className:"relative group-hover:scale-105 transition-transform group-hover:rotate-[360deg] duration-500",children:[(0,s.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"opacity-80 animate-star-rotate",children:[(0,s.jsx)("path",{d:"M11.5268 2.29489C11.5706 2.20635 11.6383 2.13183 11.7223 2.07972C11.8062 2.02761 11.903 2 12.0018 2C12.1006 2 12.1974 2.02761 12.2813 2.07972C12.3653 2.13183 12.433 2.20635 12.4768 2.29489L14.7868 6.97389C14.939 7.28186 15.1636 7.5483 15.4414 7.75035C15.7192 7.95239 16.0419 8.08401 16.3818 8.13389L21.5478 8.88989C21.6457 8.90408 21.7376 8.94537 21.8133 9.00909C21.8889 9.07282 21.9452 9.15644 21.9758 9.2505C22.0064 9.34456 22.0101 9.4453 21.9864 9.54133C21.9627 9.63736 21.9126 9.72485 21.8418 9.79389L18.1058 13.4319C17.8594 13.672 17.6751 13.9684 17.5686 14.2955C17.4622 14.6227 17.4369 14.9708 17.4948 15.3099L18.3768 20.4499C18.3941 20.5477 18.3835 20.6485 18.3463 20.7406C18.3091 20.8327 18.2467 20.9125 18.1663 20.9709C18.086 21.0293 17.9908 21.0639 17.8917 21.0708C17.7926 21.0777 17.6935 21.0566 17.6058 21.0099L12.9878 18.5819C12.6835 18.4221 12.345 18.3386 12.0013 18.3386C11.6576 18.3386 11.3191 18.4221 11.0148 18.5819L6.3978 21.0099C6.31013 21.0563 6.2112 21.0772 6.11225 21.0701C6.0133 21.0631 5.91832 21.0285 5.83809 20.9701C5.75787 20.9118 5.69563 20.8321 5.65846 20.7401C5.62128 20.6482 5.61066 20.5476 5.6278 20.4499L6.5088 15.3109C6.567 14.9716 6.54178 14.6233 6.43534 14.2959C6.32889 13.9686 6.14441 13.672 5.8978 13.4319L2.1618 9.79489C2.09039 9.72593 2.03979 9.63829 2.01576 9.54197C1.99173 9.44565 1.99524 9.34451 2.02588 9.25008C2.05652 9.15566 2.11307 9.07174 2.18908 9.00788C2.26509 8.94402 2.3575 8.90279 2.4558 8.88889L7.6208 8.13389C7.96106 8.08439 8.28419 7.95295 8.56238 7.75088C8.84058 7.54881 9.0655 7.28216 9.2178 6.97389L11.5268 2.29489Z",fill:"url(#paint0_linear_171_8212)",stroke:"url(#paint1_linear_171_8212)",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsxs)("defs",{children:[(0,s.jsxs)("linearGradient",{id:"paint0_linear_171_8212",x1:"-0.5",y1:"9",x2:"15.5",y2:"-1.5",gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{stopColor:"#7A69F9"}),(0,s.jsx)("stop",{offset:"0.575",stopColor:"#F26378"}),(0,s.jsx)("stop",{offset:"1",stopColor:"#F5833F"})]}),(0,s.jsxs)("linearGradient",{id:"paint1_linear_171_8212",x1:"-0.5",y1:"9",x2:"15.5",y2:"-1.5",gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{stopColor:"#7A69F9"}),(0,s.jsx)("stop",{offset:"0.575",stopColor:"#F26378"}),(0,s.jsx)("stop",{offset:"1",stopColor:"#F5833F"})]})]})]}),(0,s.jsx)("span",{className:"rounded-full size-11 absolute opacity-0 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 blur-lg animate-star-shine",style:{background:"linear-gradient(135deg, rgb(59, 196, 242), rgb(122, 105, 249), rgb(242, 99, 120), rgb(245, 131, 63))"}})]}),(0,s.jsx)("span",{className:"bg-gradient-to-b ml-1.5 from-white to-white/60 bg-clip-text text-xs text-transparent group-hover:scale-105 transition transform-gpu",children:"Star Marcus Ruud on Github"})]})]})};var f=r(3422),v=r(8697),y=function(){return y=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},y.apply(this,arguments)},j=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]])}return r},w=f.bL,N=(f.l9,f.ZL),k=(f.bm,n.forwardRef((function(e,t){var r=e.className,n=j(e,["className"]);return(0,s.jsx)(f.hJ,y({ref:t,className:b("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r)},n))})));k.displayName=f.hJ.displayName;var C=n.forwardRef((function(e,t){var r=e.className,n=e.children,a=j(e,["className","children"]);return(0,s.jsxs)(N,{children:[(0,s.jsx)(k,{}),(0,s.jsxs)(f.UC,y({ref:t,className:b("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-3xl",r)},a,{children:[n,(0,s.jsxs)(f.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(v.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})}));C.displayName=f.UC.displayName;var S=function(e){var t=e.className,r=j(e,["className"]);return(0,s.jsx)("div",y({className:b("flex flex-col space-y-1.5 text-center sm:text-left",t)},r))};S.displayName="DialogHeader";var A=n.forwardRef((function(e,t){var r=e.className,n=j(e,["className"]);return(0,s.jsx)(f.hE,y({ref:t,className:b("text-lg font-semibold leading-none tracking-tight",r)},n))}));A.displayName=f.hE.displayName;var D=n.forwardRef((function(e,t){var r=e.className,n=j(e,["className"]);return(0,s.jsx)(f.VY,y({ref:t,className:b("text-sm text-muted-foreground",r)},n))}));D.displayName=f.VY.displayName;var T=r(2732),P=function(){return P=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},P.apply(this,arguments)},M=(0,T.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function O(e){var t=e.className,r=e.variant,n=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]])}return r}(e,["className","variant"]);return(0,s.jsx)("div",P({className:b(M({variant:r}),t)},n))}var E=function(e){var t=e.onClick,r=e.disabled,n=e.children,a=e.variant,i=void 0===a?"golden":a;return(0,s.jsxs)("button",{onClick:t,disabled:r,className:"\n        relative overflow-hidden\n        transition-all duration-300 ease-in-out\n        py-2 px-5 rounded-full\n        flex items-center justify-center gap-2.5\n        font-bold text-sm border-2\n        ".concat(function(){if(r)return"bg-gray-600/50 border-gray-500/30 text-gray-400 cursor-not-allowed shadow-none";switch(i){case"green":return"bg-green-600 border-green-400/30 text-white hover:border-green-400/60 hover:scale-105 shadow-xl shadow-green-500/20";case"purple":return"bg-purple-600 border-purple-400/30 text-white hover:border-purple-400/60 hover:scale-105 shadow-xl shadow-purple-500/20";case"blue":return"bg-blue-600 border-blue-400/30 text-white hover:border-blue-400/60 hover:scale-105 shadow-xl shadow-blue-500/20";default:return"bg-yellow-600 border-yellow-400/30 text-white hover:border-yellow-400/60 hover:scale-105 shadow-xl shadow-yellow-500/20"}}(),"\n        ").concat(r?"":"group","\n      "),style:{background:function(){if(!r)switch(i){case"green":return"linear-gradient(135deg, rgb(34 197 94), rgb(22 163 74))";case"purple":return"linear-gradient(135deg, rgb(147 51 234), rgb(126 34 206))";case"blue":return"linear-gradient(135deg, rgb(37 99 235), rgb(29 78 216))";default:return"linear-gradient(135deg, rgb(245 158 11), rgb(217 119 6), rgb(180 83 9))"}}()},children:[!r&&(0,s.jsx)("div",{className:"absolute top-0 -left-[100px] w-[100px] h-full bg-gradient-to-r from-transparent via-white/80 to-transparent opacity-60 group-hover:animate-shine-sweep transition-all duration-1500 ease-out"}),n]})},L=r(1181),R=r(4471),F=r(6858),I=r(6846),U=r(6110),H=r(1767),B=r(7078),W=function(e,t,r,s){return new(r||(r=Promise))((function(n,a){function i(e){try{l(s.next(e))}catch(e){a(e)}}function o(e){try{l(s.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))},z=function(e,t){var r,s,n,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(r=1,s&&(n=2&o[0]?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},G=new(function(){function e(){}return e.prototype.save=function(e,t){return W(this,void 0,Promise,(function(){return z(this,(function(r){try{localStorage.setItem(e,JSON.stringify(t)),console.log("Saved ".concat(e," to localStorage:"),t)}catch(t){console.warn("Failed to save ".concat(e,":"),t)}return[2]}))}))},e.prototype.load=function(e){return W(this,void 0,Promise,(function(){var t;return z(this,(function(r){try{return[2,(t=localStorage.getItem(e))?JSON.parse(t):null]}catch(t){return console.warn("Failed to load ".concat(e,":"),t),[2,null]}}))}))},e.prototype.remove=function(e){return W(this,void 0,Promise,(function(){return z(this,(function(t){try{localStorage.removeItem(e),console.log("Removed ".concat(e," from localStorage"))}catch(t){console.warn("Failed to remove ".concat(e,":"),t)}return[2]}))}))},e.prototype.clear=function(){return W(this,void 0,Promise,(function(){return z(this,(function(e){try{localStorage.clear(),console.log("Cleared all localStorage data")}catch(e){console.warn("Failed to clear localStorage:",e)}return[2]}))}))},e.prototype.getKeys=function(e){return W(this,void 0,Promise,(function(){var t;return z(this,(function(r){try{return t=Object.keys(localStorage),[2,e?t.filter((function(t){return t.startsWith(e)})):t]}catch(e){return console.warn("Failed to get keys:",e),[2,[]]}}))}))},e.prototype.saveBulk=function(e){return W(this,void 0,Promise,(function(){var t,r,s,n,a;return z(this,(function(i){switch(i.label){case 0:t=0,r=Object.entries(e),i.label=1;case 1:return t<r.length?(s=r[t],n=s[0],a=s[1],[4,this.save(n,a)]):[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))},e.prototype.loadBulk=function(e){return W(this,void 0,Promise,(function(){var t,r,s,n,a,i;return z(this,(function(o){switch(o.label){case 0:t={},r=0,s=e,o.label=1;case 1:return r<s.length?(n=s[r],a=t,i=n,[4,this.load(n)]):[3,4];case 2:a[i]=o.sent(),o.label=3;case 3:return r++,[3,1];case 4:return[2,t]}}))}))},e}()),X=function(e,t,r,s){return new(r||(r=Promise))((function(n,a){function i(e){try{l(s.next(e))}catch(e){a(e)}}function o(e){try{l(s.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))},Y=function(e,t){var r,s,n,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(r=1,s&&(n=2&o[0]?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},q=function(e,t,r){if(r||2===arguments.length)for(var s,n=0,a=t.length;n<a;n++)!s&&n in t||(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))};function V(e){var t=this,r=e.isOpen,a=e.onClose,i=e.themes,o=e.currentTheme,l=e.onThemeChange,c=(0,n.useState)({level:1,totalXP:0}),d=c[0],u=c[1],h=(0,n.useState)([]),x=h[0],m=h[1],b=(0,n.useState)([]),p=b[0],g=b[1],f=(0,n.useState)("unlocked"),y=f[0],j=f[1];(0,n.useEffect)((function(){r&&(N(),k())}),[r]);var N=function(){return X(t,void 0,void 0,(function(){var e,t,r,s,n,a,i,o,l,c,d,h,x;return Y(this,(function(m){switch(m.label){case 0:return m.trys.push([0,9,,10]),[4,G.load("daily-logs")];case 1:return e=m.sent()||{},[4,G.load("mission-xp")];case 2:return t=m.sent()||0,[4,G.load("achievement-xp")];case 3:return r=m.sent()||0,[4,G.load("daily-activity-xp")];case 4:return s=m.sent()||0,[4,G.load("weekly-bonus-xp")];case 5:return n=m.sent()||0,[4,G.load("monthly-bonus-xp")];case 6:return a=m.sent()||0,i=0,Object.values(e).forEach((function(e){var t=50*e.habitsCompleted+25*e.focusSessions-10*e.snusCount;i+=Math.max(0,t)})),[4,G.load("habit-streak")];case 7:return o=m.sent()||0,[4,G.load("snus-data")];case 8:return l=m.sent()||{currentStreak:0},c=100*o+150*l.currentStreak,d=i+s+n+a+c+t+r,h=Math.floor(d/1e3)+1,u({level:h,totalXP:d}),[3,10];case 9:return x=m.sent(),console.error("Error loading profile data:",x),[3,10];case 10:return[2]}}))}))},k=function(){return X(t,void 0,void 0,(function(){var e,t;return Y(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,G.load("unlocked-themes")];case 1:return e=r.sent()||["ambient"],m(e),[3,3];case 2:return t=r.sent(),console.error("Error loading unlocked themes:",t),m(["ambient"]),[3,3];case 3:return[2]}}))}))},D=function(e){switch(e){case"starter":default:return 0;case"common":return 100;case"rare":return 250;case"epic":return 500;case"legendary":return 1e3;case"mythic":return 2500;case"transcendent":return 5e3}},T=function(e){switch(e){case"starter":default:return"from-gray-400 to-gray-600";case"common":return"from-green-400 to-green-600";case"rare":return"from-blue-400 to-blue-600";case"epic":return"from-purple-400 to-purple-600";case"legendary":return"from-yellow-400 via-orange-500 to-red-600";case"mythic":return"from-pink-400 via-purple-500 to-indigo-600";case"transcendent":return"from-yellow-300 via-yellow-400 via-orange-500 via-red-500 via-pink-500 to-purple-600"}},P=function(e){switch(e){case"starter":default:return(0,s.jsx)(L.A,{className:"h-4 w-4"});case"common":return(0,s.jsx)(R.A,{className:"h-4 w-4"});case"rare":return(0,s.jsx)(F.A,{className:"h-4 w-4"});case"epic":case"mythic":return(0,s.jsx)(I.A,{className:"h-4 w-4"});case"legendary":case"transcendent":return(0,s.jsx)(U.A,{className:"h-4 w-4"})}},M=function(e){switch(e){case"starter":default:return"border-gray-500/30";case"common":return"border-green-500/30";case"rare":return"border-blue-500/30";case"epic":return"border-purple-500/30";case"legendary":return"border-yellow-500/30";case"mythic":return"border-pink-500/30";case"transcendent":return"border-yellow-400/40"}},W=function(){return Object.values(i).filter((function(e){return d.level>=e.levelRequired&&!x.includes(e.id)}))},z=function(){return Object.values(i).filter((function(e){return d.level<e.levelRequired})).sort((function(e,t){return e.levelRequired-t.levelRequired}))},V=function(){return Object.values(i).filter((function(e){return x.includes(e.id)}))};return(0,s.jsx)(w,{open:r,onOpenChange:a,children:(0,s.jsxs)(C,{className:"max-w-6xl bg-black/95 backdrop-blur-2xl border-2 border-purple-500/30 text-white rounded-3xl p-0 overflow-hidden h-[85vh]",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 via-blue-500/5 to-cyan-500/5"}),(0,s.jsxs)("div",{className:"relative z-10 flex flex-col h-full",children:[(0,s.jsxs)(S,{className:"px-6 py-4 border-b border-white/10 flex-shrink-0",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)(A,{className:"text-2xl font-bold text-white flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center shadow-xl",children:(0,s.jsx)(H.A,{className:"h-5 w-5 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{children:"Theme Gallery"}),(0,s.jsxs)("div",{className:"text-sm font-normal text-gray-300",children:["Level ",d.level," • ",d.totalXP.toLocaleString()," XP"]})]})]}),(0,s.jsx)("button",{onClick:a,className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:(0,s.jsx)(v.A,{className:"h-5 w-5 text-white/70"})})]}),(0,s.jsxs)("div",{className:"flex space-x-1 bg-black/20 rounded-xl p-1",children:[(0,s.jsxs)("button",{onClick:function(){return j("unlocked")},className:"flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center justify-center space-x-2 ".concat("unlocked"===y?"bg-white/15 text-white shadow-lg border border-white/20":"text-white/60 hover:text-white/80 hover:bg-white/5"),children:[(0,s.jsx)(R.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"My Themes"}),(0,s.jsx)("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-0.5 rounded-full",children:V().length})]}),(0,s.jsxs)("button",{onClick:function(){return j("store")},className:"flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center justify-center space-x-2 ".concat("store"===y?"bg-white/15 text-white shadow-lg border border-white/20":"text-white/60 hover:text-white/80 hover:bg-white/5"),children:[(0,s.jsx)(H.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Store"}),W().length>0&&(0,s.jsx)("span",{className:"text-xs bg-yellow-500/20 text-yellow-400 px-2 py-0.5 rounded-full animate-pulse",children:W().length})]})]})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 min-h-0",children:["unlocked"===y&&(0,s.jsx)("div",{children:0===V().length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-gray-500/20 rounded-xl flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(R.A,{className:"h-8 w-8 text-gray-400"})}),(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-300 mb-2",children:"No Themes Unlocked"}),(0,s.jsx)("p",{className:"text-gray-400 mb-4",children:"Visit the store to unlock your first theme!"}),(0,s.jsx)("button",{onClick:function(){return j("store")},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Browse Store"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-white",children:"Your Collection"}),(0,s.jsxs)(O,{className:"bg-green-500/20 text-green-400 px-2 py-1 text-xs",children:[V().length," Themes"]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:V().map((function(e){return(0,s.jsx)("div",{className:"group bg-gradient-to-br from-black/60 via-gray-900/60 to-black/60 border-2 ".concat(M(e.rarity)," rounded-xl p-4 relative overflow-hidden hover:border-white/40 transition-all duration-300 cursor-pointer hover:scale-105 ").concat((null==o?void 0:o.id)===e.id?"ring-2 ring-white/40 bg-gradient-to-br from-white/10 via-white/5 to-white/10":""),onClick:function(){return l(e.id)},children:(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsxs)("div",{className:"w-full h-16 rounded-lg border-2 border-white/20 relative overflow-hidden mb-3",style:{backgroundColor:e.backgroundColor},children:[e.gradientSpots.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"absolute top-0.5 right-0.5 w-3 h-3 bg-gradient-to-r from-orange-400 to-amber-500 rounded-full blur-sm opacity-70"}),(0,s.jsx)("div",{className:"absolute bottom-0.5 left-0.5 w-4 h-4 bg-gradient-to-r from-purple-500 to-pink-400 rounded-full blur-sm opacity-60"}),(0,s.jsx)("div",{className:"absolute top-0.5 left-1/2 w-2 h-2 bg-gradient-to-r from-blue-400 to-cyan-400 rounded-full blur-sm opacity-80"})]}),(0,s.jsx)("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle at 50% 50%, rgba(255,255,255,0.1) 1px, transparent 1px)",backgroundSize:"8px 8px"}}),(null==o?void 0:o.id)===e.id&&(0,s.jsx)("div",{className:"absolute top-1 right-1 bg-white text-black text-xs px-1.5 py-0.5 rounded-full font-bold",children:"ACTIVE"}),p.includes(e.id)&&(0,s.jsx)("div",{className:"absolute top-1 left-1 bg-gradient-to-r from-yellow-400 to-orange-500 text-black text-xs px-1.5 py-0.5 rounded-full font-bold animate-pulse",children:"NEW!"})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,s.jsx)("h4",{className:"text-base font-bold text-white",children:e.name}),(0,s.jsxs)(O,{className:"bg-gradient-to-r ".concat(T(e.rarity)," text-white px-1.5 py-0.5 text-xs flex items-center space-x-1"),children:[P(e.rarity),(0,s.jsx)("span",{children:e.rarityLabel})]})]}),(0,s.jsx)("p",{className:"text-xs text-gray-300 line-clamp-2",children:e.description})]}),(0,s.jsx)("button",{onClick:function(t){t.stopPropagation(),l(e.id)},className:"w-full px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ".concat((null==o?void 0:o.id)===e.id?"bg-white/20 text-white border-2 border-white/40":"bg-white/10 text-white/80 hover:bg-white/20 hover:text-white border-2 border-white/20 hover:border-white/40"),children:(null==o?void 0:o.id)===e.id?"Currently Active":"Apply Theme"})]})},e.id)}))})]})}),"store"===y&&(0,s.jsxs)("div",{className:"space-y-6",children:[W().length>0&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,s.jsx)(H.A,{className:"h-5 w-5 text-yellow-400"}),(0,s.jsx)("h3",{className:"text-xl font-bold text-yellow-400",children:"Ready to Unlock!"}),(0,s.jsxs)(O,{className:"bg-yellow-500/20 text-yellow-400 px-2 py-1 text-xs",children:[W().length," Available"]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:W().map((function(e){return(0,s.jsxs)("div",{className:"group bg-gradient-to-br from-yellow-500/10 via-orange-500/10 to-red-500/10 border-2 border-yellow-500/40 rounded-xl p-4 relative overflow-hidden hover:border-yellow-500/60 transition-all duration-300 hover:scale-105 hover:shadow-2xl",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-500/5 via-orange-500/5 to-red-500/5 animate-pulse opacity-60"}),(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsxs)("div",{className:"w-full h-16 rounded-lg border-2 border-white/20 relative overflow-hidden mb-3",style:{backgroundColor:e.backgroundColor},children:[e.gradientSpots.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"absolute top-0.5 right-0.5 w-3 h-3 bg-gradient-to-r from-orange-400 to-amber-500 rounded-full blur-sm opacity-70"}),(0,s.jsx)("div",{className:"absolute bottom-0.5 left-0.5 w-4 h-4 bg-gradient-to-r from-purple-500 to-pink-400 rounded-full blur-sm opacity-60"}),(0,s.jsx)("div",{className:"absolute top-0.5 left-1/2 w-2 h-2 bg-gradient-to-r from-blue-400 to-cyan-400 rounded-full blur-sm opacity-80"})]}),(0,s.jsx)("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle at 50% 50%, rgba(255,255,255,0.1) 1px, transparent 1px)",backgroundSize:"8px 8px"}}),(0,s.jsx)("div",{className:"absolute top-1 right-1 bg-yellow-500 text-black text-xs px-1.5 py-0.5 rounded-full font-bold animate-bounce",children:"NEW!"})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,s.jsx)("h4",{className:"text-base font-bold text-white",children:e.name}),(0,s.jsxs)(O,{className:"bg-gradient-to-r ".concat(T(e.rarity)," text-white px-1.5 py-0.5 text-xs flex items-center space-x-1"),children:[P(e.rarity),(0,s.jsx)("span",{children:e.rarityLabel})]})]}),(0,s.jsx)("p",{className:"text-xs text-gray-300 mb-2 line-clamp-2",children:e.description}),(0,s.jsx)("div",{className:"bg-black/40 rounded-lg p-2 border border-white/10",children:(0,s.jsxs)("p",{className:"text-xs text-yellow-300 font-medium line-clamp-2",children:['"',e.unlockMessage,'"']})})]}),(0,s.jsx)(E,{onClick:function(){return r=e.id,X(t,void 0,void 0,(function(){var e,t,s,n,a;return Y(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),e=q(q([],x,!0),[r],!1),m(e),g(q(q([],p,!0),[r],!1)),[4,G.save("unlocked-themes",e)];case 1:return o.sent(),[4,G.load("achievement-xp")];case 2:return t=o.sent()||0,s=i[r],n=D(s.rarity),[4,G.save("achievement-xp",t+n)];case 3:return o.sent(),window.dispatchEvent(new CustomEvent("achievementUnlocked")),console.log("🎉 Theme unlocked: ".concat(s.name," (+").concat(n," XP)")),[3,5];case 4:return a=o.sent(),console.error("Error unlocking theme:",a),[3,5];case 5:return[2]}}))}));var r},disabled:!1,variant:"golden",children:(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,s.jsx)(U.A,{className:"h-4 w-4"}),(0,s.jsxs)("span",{children:["Unlock (+",D(e.rarity)," XP)"]})]})})]})]},e.id)}))})]}),z().length>0&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,s.jsx)(B.A,{className:"h-5 w-5 text-gray-400"}),(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-400",children:"Future Unlocks"}),(0,s.jsxs)(O,{className:"bg-gray-500/20 text-gray-400 px-2 py-1 text-xs",children:[z().length," Locked"]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:z().map((function(e){return(0,s.jsx)("div",{className:"group bg-gradient-to-br from-gray-900/40 via-gray-800/40 to-gray-900/40 border-2 border-gray-600/30 rounded-xl p-4 relative overflow-hidden opacity-75",children:(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsxs)("div",{className:"w-full h-16 rounded-lg border-2 border-gray-600/40 relative overflow-hidden mb-3 grayscale",style:{backgroundColor:e.backgroundColor,filter:"brightness(0.3)"},children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/50"}),(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)(B.A,{className:"h-6 w-6 text-white/60"})})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,s.jsx)("h4",{className:"text-base font-bold text-gray-300",children:e.name}),(0,s.jsxs)(O,{className:"bg-gradient-to-r ".concat(T(e.rarity)," text-white px-1.5 py-0.5 text-xs flex items-center space-x-1 opacity-60"),children:[P(e.rarity),(0,s.jsx)("span",{children:e.rarityLabel})]})]}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mb-2 line-clamp-2",children:e.description}),(0,s.jsx)("div",{className:"bg-gray-800/60 rounded-lg p-2 border border-gray-600/30",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-xs text-gray-300",children:"Required Level:"}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)("span",{className:"text-sm font-bold text-yellow-400",children:e.levelRequired}),(0,s.jsxs)("span",{className:"text-xs text-gray-400",children:["(",Math.max(0,1e3*(e.levelRequired-1)-d.totalXP).toLocaleString()," XP)"]})]})]})})]}),(0,s.jsxs)("button",{disabled:!0,className:"w-full px-3 py-2 bg-gray-700/40 text-gray-400 rounded-lg text-sm font-medium border-2 border-gray-600/30 cursor-not-allowed flex items-center justify-center space-x-2",children:[(0,s.jsx)(B.A,{className:"h-3 w-3"}),(0,s.jsxs)("span",{children:["Level ",e.levelRequired," Required"]})]})]})},e.id)}))})]}),0===W().length&&0===z().length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-gray-500/20 rounded-xl flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(H.A,{className:"h-8 w-8 text-gray-400"})}),(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-300 mb-2",children:"All Themes Unlocked!"}),(0,s.jsx)("p",{className:"text-gray-400",children:"You've collected every theme available. Legendary!"})]})]})]})]})]})})}var K=r(3362),J=function(){return J=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},J.apply(this,arguments)},_=(0,T.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$=n.forwardRef((function(e,t){var r=e.className,n=e.variant,a=e.size,i=e.asChild,o=void 0!==i&&i,l=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]])}return r}(e,["className","variant","size","asChild"]),c=o?K.DX:"button";return(0,s.jsx)(c,J({className:b(_({variant:n,size:a,className:r})),ref:t},l))}));$.displayName="Button";var Z=r(5005),Q=r(8686),ee=r(7792),te=r(7235),re=r(8309),se=r(2708),ne=r(418),ae=function(){return ae=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},ae.apply(this,arguments)},ie=n.forwardRef((function(e,t){var r=e.className,n=e.type,a=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]])}return r}(e,["className","type"]);return(0,s.jsx)("input",ae({type:n,className:b("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t},a))}));ie.displayName="Input";var oe=function(){return oe=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},oe.apply(this,arguments)},le=(0,T.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ce=n.forwardRef((function(e,t){var r=e.className,n=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]])}return r}(e,["className"]);return(0,s.jsx)("label",oe({ref:t,className:b(le(),r)},n))}));ce.displayName="Label";var de=function(){return de=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},de.apply(this,arguments)},ue=function(e,t,r,s){return new(r||(r=Promise))((function(n,a){function i(e){try{l(s.next(e))}catch(e){a(e)}}function o(e){try{l(s.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))},he=function(e,t){var r,s,n,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(r=1,s&&(n=2&o[0]?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};function xe(e){var t=this,r=e.isOpen,a=e.onClose,o=e.userConfig,l=e.onConfigUpdate,c=(0,n.useState)(!1),d=c[0],u=c[1],x=(0,n.useState)(!1),m=x[0],b=x[1],p=(0,n.useState)(!1),g=p[0],f=p[1],v=(0,n.useState)(!1),y=v[0],j=v[1],N=(0,n.useState)(!1),k=N[0],D=N[1],T=(0,n.useState)(!1),P=T[0],M=T[1],O=(0,n.useState)(o||null),E=O[0],L=O[1],F=(0,n.useState)(!1),I=F[0],U=F[1],H=function(e){switch(e){case"USD":return"$";case"EUR":return"€";default:return"kr"}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(w,{open:r,onOpenChange:a,children:(0,s.jsxs)(C,{className:"bg-black/90 backdrop-blur-xl border border-white/20 text-white max-w-md",children:[(0,s.jsx)(S,{children:(0,s.jsxs)(A,{className:"flex items-center gap-2 text-xl",children:[(0,s.jsx)(i.A,{className:"h-5 w-5"}),"Settings"]})}),(0,s.jsxs)("div",{className:"space-y-6 py-4",children:[o&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white/90",children:"Personal Configuration"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)($,{onClick:function(){L(o),M(!0)},className:"w-full bg-purple-600 hover:bg-purple-700 text-white flex items-center gap-2",children:[(0,s.jsx)(Z.A,{className:"h-4 w-4"}),"Edit Personal Settings"]}),I&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-green-400 text-sm",children:[(0,s.jsx)(R.A,{className:"h-4 w-4"}),"Configuration updated successfully!"]}),(0,s.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:(0,s.jsxs)("div",{className:"text-xs text-white/70 space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(Q.A,{className:"h-3 w-3"}),(0,s.jsx)("span",{children:o.firstName})]}),o.hasAddiction&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(ee.A,{className:"h-3 w-3"}),(0,s.jsxs)("span",{children:["Tracking: ",o.addictionName||o.addictionType]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(h.A,{className:"h-3 w-3"}),(0,s.jsxs)("span",{children:[o.costPerUnit," ",H(o.currency)," per unit"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(te.A,{className:"h-3 w-3"}),(0,s.jsxs)("span",{children:[o.hourlyRate," ",H(o.currency),"/hour"]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(h.A,{className:"h-3 w-3"}),(0,s.jsxs)("span",{children:["Monthly savings: ",o.monthlyContribution," ",H(o.currency)]})]})]})})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white/90",children:"Data Management"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)($,{onClick:function(){return ue(t,void 0,void 0,(function(){var e,t,r,s,n,a,i,o;return he(this,(function(l){switch(l.label){case 0:b(!0),l.label=1;case 1:return l.trys.push([1,4,5,6]),e={},"undefined"!=typeof chrome&&chrome.storage?[4,chrome.storage.local.get(null)]:[3,3];case 2:t=l.sent(),Object.assign(e,t),l.label=3;case 3:return r={exportDate:(new Date).toISOString(),version:"1.0",data:e},s=JSON.stringify(r,null,2),n=new Blob([s],{type:"application/json"}),a=URL.createObjectURL(n),(i=document.createElement("a")).href=a,i.download="new-tab-backup-".concat((new Date).toISOString().split("T")[0],".json"),document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a),j(!0),setTimeout((function(){return j(!1)}),3e3),[3,6];case 4:return o=l.sent(),console.error("Error exporting data:",o),[3,6];case 5:return b(!1),[7];case 6:return[2]}}))}))},disabled:m,className:"w-full bg-blue-600 hover:bg-blue-700 text-white flex items-center gap-2",children:m?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white/30 border-t-white"}),"Exporting..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(re.A,{className:"h-4 w-4"}),"Export Data"]})}),y&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-green-400 text-sm",children:[(0,s.jsx)(R.A,{className:"h-4 w-4"}),"Data exported successfully!"]}),(0,s.jsx)("p",{className:"text-xs text-white/60",children:"Download a backup of all your settings, quick links, and preferences."})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)($,{onClick:function(){return u(!0)},disabled:g,variant:"destructive",className:"w-full bg-red-600 hover:bg-red-700 text-white flex items-center gap-2",children:g?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white/30 border-t-white"}),"Resetting..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(se.A,{className:"h-4 w-4"}),"Reset All Data"]})}),k&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-green-400 text-sm",children:[(0,s.jsx)(R.A,{className:"h-4 w-4"}),"Data reset successfully! Reloading..."]}),(0,s.jsx)("p",{className:"text-xs text-white/60",children:"Clear all data and return to default settings. This cannot be undone."})]})]})]})]})}),(0,s.jsx)(w,{open:d,onOpenChange:u,children:(0,s.jsxs)(C,{className:"bg-black/90 backdrop-blur-xl border border-white/20 text-white max-w-md",children:[(0,s.jsx)(S,{children:(0,s.jsxs)(A,{className:"flex items-center gap-2 text-red-400",children:[(0,s.jsx)(ne.A,{className:"h-5 w-5"}),"Confirm Data Reset"]})}),(0,s.jsxs)("div",{className:"py-4",children:[(0,s.jsxs)("p",{className:"text-white/70 mb-4",children:["This will permanently delete ",(0,s.jsx)("strong",{children:"ALL"})," extension data including:"]}),(0,s.jsxs)("ul",{className:"list-disc ml-6 mb-4 space-y-2 text-white/70",children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"All view data:"})," Productivity habits, personal goals, financial subscriptions, vision board items, and home customizations"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"User preferences:"})," Theme settings, quick access links, and all custom configurations"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Progress & history:"})," Streaks, achievements, tracking data, and all saved progress across the entire extension"]})]}),(0,s.jsxs)("p",{className:"text-white/70",children:[(0,s.jsx)("strong",{children:"This action cannot be undone."})," The extension will be completely reset to factory defaults. Consider exporting your data first."]})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)($,{onClick:function(){return u(!1)},className:"flex-1 bg-white/10 hover:bg-white/20 text-white border border-white/20",children:"Cancel"}),(0,s.jsx)($,{onClick:function(){return ue(t,void 0,void 0,(function(){var e;return he(this,(function(t){switch(t.label){case 0:f(!0),t.label=1;case 1:return t.trys.push([1,4,5,6]),"undefined"!=typeof chrome&&chrome.storage?[4,chrome.storage.local.clear()]:[3,3];case 2:t.sent(),t.label=3;case 3:return D(!0),setTimeout((function(){D(!1),window.location.reload()}),2e3),[3,6];case 4:return e=t.sent(),console.error("Error resetting data:",e),[3,6];case 5:return f(!1),u(!1),[7];case 6:return[2]}}))}))},className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:"Yes, Reset All Data"})]})]})}),(0,s.jsx)(w,{open:P,onOpenChange:M,children:(0,s.jsxs)(C,{className:"bg-black/90 backdrop-blur-xl border border-white/20 text-white max-w-md",children:[(0,s.jsx)(S,{children:(0,s.jsxs)(A,{className:"flex items-center gap-2 text-xl",children:[(0,s.jsx)(Z.A,{className:"h-5 w-5"}),"Edit Personal Settings"]})}),(0,s.jsx)("div",{className:"space-y-4 py-4 max-h-[70vh] overflow-y-auto",children:E&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsx)(ce,{className:"text-white text-sm mb-2 block",children:"First Name"}),(0,s.jsx)(ie,{value:(null==E?void 0:E.firstName)||"",onChange:function(e){return L((function(t){return t?de(de({},t),{firstName:e.target.value}):null}))},className:"bg-transparent border-none text-white placeholder:text-gray-400 text-sm focus:ring-0"})]}),E.hasAddiction&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsx)(ce,{className:"text-white text-sm mb-2 block",children:"Custom Habit Name"}),(0,s.jsx)(ie,{value:(null==E?void 0:E.addictionName)||"",onChange:function(e){return L((function(t){return t?de(de({},t),{addictionName:e.target.value}):null}))},className:"bg-transparent border-none text-white placeholder:text-gray-400 text-sm focus:ring-0",placeholder:"e.g., Premium Snus"})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsx)(ce,{className:"text-white text-sm mb-2 block",children:"Cost per unit"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(ie,{type:"number",step:"0.01",value:(null==E?void 0:E.costPerUnit)||0,onChange:function(e){return L((function(t){return t?de(de({},t),{costPerUnit:Number(e.target.value)}):null}))},className:"bg-transparent border-none text-white placeholder:text-gray-400 text-sm focus:ring-0 flex-1"}),(0,s.jsx)("span",{className:"text-gray-400 text-sm",children:H((null==E?void 0:E.currency)||"NOK")})]})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsx)(ce,{className:"text-white text-sm mb-2 block",children:"Hourly Rate"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(ie,{type:"number",step:"0.01",value:(null==E?void 0:E.hourlyRate)||0,onChange:function(e){return L((function(t){return t?de(de({},t),{hourlyRate:Number(e.target.value)}):null}))},className:"bg-transparent border-none text-white placeholder:text-gray-400 text-sm focus:ring-0 flex-1"}),(0,s.jsxs)("span",{className:"text-gray-400 text-sm",children:[H((null==E?void 0:E.currency)||"NOK"),"/hour"]})]})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsx)(ce,{className:"text-white text-sm mb-2 block",children:"Units per package"}),(0,s.jsx)(ie,{type:"number",value:(null==E?void 0:E.unitsPerPackage)||0,onChange:function(e){return L((function(t){return t?de(de({},t),{unitsPerPackage:Number(e.target.value),packageCost:Number(e.target.value)*(t.costPerUnit||0)}):null}))},className:"bg-transparent border-none text-white placeholder:text-gray-400 text-sm focus:ring-0"})]})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsx)(ce,{className:"text-white text-sm mb-2 block",children:"Monthly Savings Contribution"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(ie,{type:"number",value:(null==E?void 0:E.monthlyContribution)||0,onChange:function(e){return L((function(t){return t?de(de({},t),{monthlyContribution:Number(e.target.value)}):null}))},className:"bg-transparent border-none text-white placeholder:text-gray-400 text-sm focus:ring-0 flex-1"}),(0,s.jsx)("span",{className:"text-gray-400 text-sm",children:H((null==E?void 0:E.currency)||"NOK")})]})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsx)(ce,{className:"text-white text-sm mb-2 block",children:"Motivation (Optional)"}),(0,s.jsx)(ie,{value:(null==E?void 0:E.motivation)||"",onChange:function(e){return L((function(t){return t?de(de({},t),{motivation:e.target.value}):null}))},className:"bg-transparent border-none text-white placeholder:text-gray-400 text-sm focus:ring-0",placeholder:"What drives you to save and improve?"})]})]})}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)($,{onClick:function(){return M(!1)},className:"flex-1 bg-white/10 hover:bg-white/20 text-white border border-white/20",children:"Cancel"}),(0,s.jsx)($,{onClick:function(){return ue(t,void 0,void 0,(function(){var e;return he(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),E?[4,G.save("user-config",E)]:[3,2];case 1:t.sent(),l&&l(E),U(!0),setTimeout((function(){return U(!1)}),3e3),M(!1),t.label=2;case 2:return[3,4];case 3:return e=t.sent(),console.error("Error saving config:",e),[3,4];case 4:return[2]}}))}))},className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white",children:"Save Changes"})]})]})})]})}var me=r(232),be=r(8635),pe=function(){return pe=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},pe.apply(this,arguments)},ge=[{value:"snus",label:"Snus/Nicotine",icon:"🚭",description:"Snus, nicotine pouches, chewing tobacco"},{value:"tobacco",label:"Smoking",icon:"🚬",description:"Cigarettes, cigars, vaping"},{value:"alcohol",label:"Alcohol",icon:"🍺",description:"Beer, wine, spirits"},{value:"gambling",label:"Gambling",icon:"🎰",description:"Slots, poker, sports betting, lottery"},{value:"other",label:"Other",icon:"🎯",description:"Custom habit or addiction"}],fe=[{value:"NOK",label:"Norwegian Krone (kr)",symbol:"kr"},{value:"USD",label:"US Dollar ($)",symbol:"$"},{value:"EUR",label:"Euro (€)",symbol:"€"},{value:"SEK",label:"Swedish Krona (kr)",symbol:"kr"}];function ve(e){var t,r,a=this,i=e.isOpen,o=e.onClose,l=e.onComplete,c=(0,n.useState)(1),d=c[0],u=c[1],h=(0,n.useState)(!1),x=h[0],m=h[1],b=(0,n.useState)({hasAddiction:!1,addictionType:"snus",addictionName:"",costPerUnit:4.22,unitsPerPackage:23,packageCost:100,dailyLimit:5,previousMonthlyConsumption:20,hourlyRate:200,currency:"NOK",monthlyContribution:2500,contributionDay:15,firstName:"",motivation:"",onboardingCompleted:!1}),p=b[0],g=b[1],f=p.hasAddiction?11:6,v=function(){var e;return(null===(e=fe.find((function(e){return e.value===p.currency})))||void 0===e?void 0:e.symbol)||"kr"};return(0,s.jsx)(w,{open:i,onOpenChange:o,children:(0,s.jsxs)(C,{className:"max-w-md bg-black/95 backdrop-blur-xl border border-white/20 text-white rounded-3xl p-0",children:[(0,s.jsxs)(S,{className:"p-4 pb-3 border-b border-white/10",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[d>1?(0,s.jsxs)($,{variant:"ghost",size:"sm",onClick:function(){d>1&&u(d-1)},className:"text-white hover:bg-white/10 p-2",children:[(0,s.jsx)(me.A,{className:"h-4 w-4 mr-1"}),"Back"]}):(0,s.jsx)("div",{className:"w-12"}),(0,s.jsx)(A,{className:"text-lg font-bold",children:function(){if(x)return"✨ Finalizing Setup";switch(d){case 1:return"👋 Welcome!";case 2:return"🎯 Habit Tracking";case 3:return p.hasAddiction?"🎯 Habit Type":"💰 Financial Setup";case 4:return p.hasAddiction?"📊 Monthly Usage":"📅 Savings Day";case 5:return p.hasAddiction?"🎯 Daily Goal":"🌟 Personal Touch";case 6:return p.hasAddiction?"💰 Package Cost":"🎉 All Set!";case 7:return p.hasAddiction?"📦 Package Size":"";case 8:return p.hasAddiction?"⏰ Hourly Rate":"";case 9:return p.hasAddiction?"💰 Monthly Savings":"";case 10:return p.hasAddiction?"📅 Payday":"";case 11:return p.hasAddiction?"🌟 Motivation":"";default:return"Setup"}}()}),(0,s.jsxs)("div",{className:"text-xs text-gray-400",children:[d,"/",f]})]}),(0,s.jsx)("div",{className:"w-full bg-white/10 rounded-full h-1 mt-3",children:(0,s.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 h-1 rounded-full transition-all duration-300",style:{width:"".concat(d/f*100,"%")}})})]}),(0,s.jsxs)("div",{className:"p-4 space-y-4 max-h-[70vh] overflow-y-auto",children:[1===d&&(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsx)("div",{className:"text-4xl mb-4",children:"🌟"}),(0,s.jsx)("h2",{className:"text-xl font-bold text-white",children:"Let's personalize your system!"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"This will help us tailor the experience to your goals and habits."}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3 text-left",children:[(0,s.jsx)(ce,{className:"text-white text-sm mb-2 block",children:"What should we call you?"}),(0,s.jsx)(ie,{placeholder:"Your first name",value:p.firstName,onChange:function(e){return g((function(t){return pe(pe({},t),{firstName:e.target.value})}))},className:"bg-transparent border-none text-white placeholder:text-gray-400 text-base focus:ring-0"})]})]}),2===d&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-3xl mb-2",children:"🎯"}),(0,s.jsxs)("h2",{className:"text-lg font-bold text-white mb-2",children:[p.firstName?"".concat(p.firstName,", "):"","do you have a habit you're trying to quit?"]}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"This helps us track savings and motivation"})]}),(0,s.jsxs)("div",{className:"grid gap-3",children:[(0,s.jsx)("button",{onClick:function(){return g((function(e){return pe(pe({},e),{hasAddiction:!0})}))},className:"p-4 rounded-lg border transition-all text-left ".concat(p.hasAddiction?"border-purple-500 bg-purple-500/20":"border-white/20 bg-white/5 hover:bg-white/10"),children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"text-2xl",children:"✅"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-semibold text-white",children:"Yes, I have a habit to quit"}),(0,s.jsx)("div",{className:"text-sm text-gray-400",children:"Track savings and progress"})]})]})}),(0,s.jsx)("button",{onClick:function(){return g((function(e){return pe(pe({},e),{hasAddiction:!1})}))},className:"p-4 rounded-lg border transition-all text-left ".concat(p.hasAddiction?"border-white/20 bg-white/5 hover:bg-white/10":"border-purple-500 bg-purple-500/20"),children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"text-2xl",children:"💰"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-semibold text-white",children:"No, just track savings & goals"}),(0,s.jsx)("div",{className:"text-sm text-gray-400",children:"Focus on financial goals"})]})]})})]})]}),3===d&&p.hasAddiction&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-3xl mb-2",children:"🎯"}),(0,s.jsx)("h2",{className:"text-lg font-bold text-white mb-2",children:"What type of habit?"})]}),(0,s.jsx)("div",{className:"space-y-2",children:ge.map((function(e){return(0,s.jsx)("button",{onClick:function(){return g((function(t){return pe(pe({},t),{addictionType:e.value})}))},className:"w-full p-3 rounded-lg border transition-all text-left ".concat(p.addictionType===e.value?"border-purple-500 bg-purple-500/20":"border-white/20 bg-white/5 hover:bg-white/10"),children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"text-xl",children:e.icon}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-semibold text-white",children:e.label}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:e.description})]})]})},e.value)}))}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsx)(ce,{className:"text-white text-sm mb-2 block",children:"Custom name (optional)"}),(0,s.jsx)(ie,{placeholder:'e.g., "Premium '.concat(null===(t=ge.find((function(e){return e.value===p.addictionType})))||void 0===t?void 0:t.label,'"'),value:p.addictionName,onChange:function(e){return g((function(t){return pe(pe({},t),{addictionName:e.target.value})}))},className:"bg-transparent border-none text-white placeholder:text-gray-400 text-sm focus:ring-0"})]})]}),3===d&&!p.hasAddiction&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-3xl mb-2",children:"💰"}),(0,s.jsx)("h2",{className:"text-lg font-bold text-white mb-2",children:"Monthly Savings Goal"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"How much do you want to save each month?"})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-3",children:fe.map((function(e){return(0,s.jsxs)("button",{onClick:function(){return g((function(t){return pe(pe({},t),{currency:e.value})}))},className:"p-3 rounded-lg border transition-all text-center ".concat(p.currency===e.value?"border-purple-500 bg-purple-500/20":"border-white/20 bg-white/5 hover:bg-white/10"),children:[(0,s.jsx)("div",{className:"text-lg font-bold text-white",children:e.symbol}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:e.value})]},e.value)}))}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsx)(ce,{className:"text-white text-sm mb-2 block",children:"Monthly amount"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(ie,{type:"number",placeholder:"2500",value:p.monthlyContribution,onChange:function(e){return g((function(t){return pe(pe({},t),{monthlyContribution:Number(e.target.value)})}))},className:"bg-transparent border-none text-white placeholder:text-gray-400 text-base focus:ring-0 flex-1"}),(0,s.jsx)("span",{className:"text-gray-400",children:v()})]})]})]}),4===d&&p.hasAddiction&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-3xl mb-2",children:"📊"}),(0,s.jsx)("h2",{className:"text-lg font-bold text-white mb-2",children:"Monthly Usage"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"How much did you typically consume before deciding to quit?"})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsx)(ce,{className:"text-white text-sm mb-2 block",children:"Packages per month"}),(0,s.jsx)(ie,{type:"number",min:"1",max:"100",placeholder:"20",value:p.previousMonthlyConsumption,onChange:function(e){return g((function(t){return pe(pe({},t),{previousMonthlyConsumption:Number(e.target.value)})}))},className:"bg-transparent border-none text-white placeholder:text-gray-400 text-base focus:ring-0 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",style:{MozAppearance:"textfield"}}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"How many packages/packs/bottles did you typically finish per month before deciding to quit?"})]})]}),4===d&&!p.hasAddiction&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-3xl mb-2",children:"📅"}),(0,s.jsx)("h2",{className:"text-lg font-bold text-white mb-2",children:"Savings Day"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"When do you get paid each month?"})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsx)(ce,{className:"text-white text-sm mb-2 block",children:"Day of the month"}),(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsx)(ie,{type:"number",min:"1",max:"31",placeholder:"15",value:p.contributionDay,onChange:function(e){return g((function(t){return pe(pe({},t),{contributionDay:Number(e.target.value)})}))},className:"bg-transparent border-none text-white placeholder:text-gray-400 text-base focus:ring-0 flex-1 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",style:{MozAppearance:"textfield"}})}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"We'll automatically add your monthly savings on this day"})]})]}),5===d&&p.hasAddiction&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-3xl mb-2",children:"🎯"}),(0,s.jsx)("h2",{className:"text-lg font-bold text-white mb-2",children:"Daily Goal"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"What's your daily limit to stay on track?"})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsx)(ce,{className:"text-white text-sm mb-2 block",children:"Daily limit"}),(0,s.jsx)(ie,{type:"number",min:"1",max:"50",placeholder:"5",value:p.dailyLimit,onChange:function(e){return g((function(t){return pe(pe({},t),{dailyLimit:Number(e.target.value)})}))},className:"bg-transparent border-none text-white placeholder:text-gray-400 text-base focus:ring-0 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",style:{MozAppearance:"textfield"}}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Maximum number of units you aim to use per day to stay healthy"})]}),(0,s.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:(0,s.jsxs)("div",{className:"text-sm text-white/80",children:[(0,s.jsxs)("div",{children:["🎯 Your daily goal: ",p.dailyLimit," units max"]}),(0,s.jsxs)("div",{children:["📊 Previous usage: ~",Math.round(p.previousMonthlyConsumption*p.unitsPerPackage/30)," units/day"]}),(0,s.jsxs)("div",{children:["📈 Reduction: ",Math.max(0,Math.round(p.previousMonthlyConsumption*p.unitsPerPackage/30)-p.dailyLimit)," fewer units/day"]})]})})]}),5===d&&!p.hasAddiction&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-3xl mb-2",children:"🌟"}),(0,s.jsx)("h2",{className:"text-lg font-bold text-white mb-2",children:"Personal Touch"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"What's your savings goal or motivation?"})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsx)(ce,{className:"text-white text-sm mb-2 block",children:"Your motivation (optional)"}),(0,s.jsx)(ie,{placeholder:"e.g., Emergency fund, vacation, new car, financial freedom...",value:p.motivation,onChange:function(e){return g((function(t){return pe(pe({},t),{motivation:e.target.value})}))},className:"bg-transparent border-none text-white placeholder:text-gray-400 text-base focus:ring-0"})]})]}),6===d&&p.hasAddiction&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-3xl mb-2",children:"💰"}),(0,s.jsx)("h2",{className:"text-lg font-bold text-white mb-2",children:"Package Cost"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"How much does one package typically cost?"})]}),(0,s.jsx)("div",{className:"grid grid-cols-4 gap-2 mb-4",children:fe.map((function(e){return(0,s.jsxs)("button",{onClick:function(){return g((function(t){return pe(pe({},t),{currency:e.value})}))},className:"p-2 rounded-lg border transition-all text-center text-white text-sm font-medium ".concat(p.currency===e.value?"border-purple-500 bg-purple-500/20":"border-white/20 bg-white/5 hover:bg-white/10"),children:[(0,s.jsx)("div",{children:e.symbol}),(0,s.jsx)("div",{className:"text-[10px] text-gray-400",children:e.value})]},e.value)}))}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsx)(ce,{className:"text-white text-sm mb-2 block",children:"Cost per package"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(ie,{type:"number",step:"0.01",placeholder:"97",value:p.packageCost,onChange:function(e){var t=Number(e.target.value);g((function(e){return pe(pe({},e),{packageCost:t,costPerUnit:t/(e.unitsPerPackage||23)})}))},className:"bg-transparent border-none text-white placeholder:text-gray-400 text-base focus:ring-0 flex-1 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",style:{MozAppearance:"textfield"}}),(0,s.jsx)("span",{className:"text-gray-400",children:v()})]}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Average price for one package/pack/bottle"})]})]}),6===d&&!p.hasAddiction&&(0,s.jsxs)("div",{className:"space-y-4 text-center",children:[(0,s.jsx)("div",{className:"text-4xl mb-4",children:"🎉"}),(0,s.jsx)("h2",{className:"text-xl font-bold text-white",children:"Perfect!"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Your personal savings system is ready to go."}),(0,s.jsx)("div",{className:"bg-gradient-to-r from-purple-500/20 to-blue-500/20 border border-purple-500/30 rounded-lg p-4 text-left",children:(0,s.jsxs)("div",{className:"text-sm text-white/80",children:[(0,s.jsxs)("div",{children:["💰 Monthly savings: ",p.monthlyContribution," ",v()]}),(0,s.jsxs)("div",{children:["📅 Auto-added on the ",p.contributionDay,"th"]}),p.motivation&&(0,s.jsxs)("div",{children:["🌟 Goal: ",p.motivation]})]})})]}),7===d&&p.hasAddiction&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-3xl mb-2",children:"📦"}),(0,s.jsx)("h2",{className:"text-lg font-bold text-white mb-2",children:"Package Size"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"How many units come in one package?"})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsx)(ce,{className:"text-white text-sm mb-2 block",children:"Units per package"}),(0,s.jsx)(ie,{type:"number",placeholder:"23",value:p.unitsPerPackage,onChange:function(e){var t=Number(e.target.value);g((function(e){return pe(pe({},e),{unitsPerPackage:t,costPerUnit:(e.packageCost||97)/t})}))},className:"bg-transparent border-none text-white placeholder:text-gray-400 text-base focus:ring-0 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",style:{MozAppearance:"textfield"}}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"e.g., 23 snus per box, 20 cigarettes per pack, 1 bottle"})]}),(0,s.jsx)("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-3",children:(0,s.jsxs)("div",{className:"text-sm text-white/80",children:[(0,s.jsxs)("div",{children:["Cost per unit: ",p.costPerUnit.toFixed(2)," ",v()]}),(0,s.jsxs)("div",{children:["Package cost: ",p.packageCost," ",v()]})]})})]}),8===d&&p.hasAddiction&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-3xl mb-2",children:"⏰"}),(0,s.jsx)("h2",{className:"text-lg font-bold text-white mb-2",children:"Hourly Rate"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:'This helps us show costs in "work minutes"'})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsx)(ce,{className:"text-white text-sm mb-2 block",children:"Your hourly rate"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(ie,{type:"number",step:"0.01",placeholder:"200",value:p.hourlyRate,onChange:function(e){return g((function(t){return pe(pe({},t),{hourlyRate:Number(e.target.value)})}))},className:"bg-transparent border-none text-white placeholder:text-gray-400 text-base focus:ring-0 flex-1 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",style:{MozAppearance:"textfield"}}),(0,s.jsxs)("span",{className:"text-gray-400",children:[v(),"/hour"]})]}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Monthly salary ÷ working hours, or your freelance rate (gross/net - your choice)"})]}),(0,s.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:(0,s.jsxs)("div",{className:"text-sm text-white/80",children:[(0,s.jsxs)("div",{children:["Work time per unit: ",(p.costPerUnit/p.hourlyRate*60).toFixed(1)," minutes"]}),(0,s.jsxs)("div",{children:["Work time per package: ",(p.packageCost/p.hourlyRate*60).toFixed(1)," minutes"]})]})})]}),9===d&&p.hasAddiction&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-3xl mb-2",children:"💰"}),(0,s.jsx)("h2",{className:"text-lg font-bold text-white mb-2",children:"Monthly Savings"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"How much do you want to save each month?"})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsx)(ce,{className:"text-white text-sm mb-2 block",children:"Monthly contribution"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(ie,{type:"number",placeholder:"2500",value:p.monthlyContribution,onChange:function(e){return g((function(t){return pe(pe({},t),{monthlyContribution:Number(e.target.value)})}))},className:"bg-transparent border-none text-white placeholder:text-gray-400 text-base focus:ring-0 flex-1 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",style:{MozAppearance:"textfield"}}),(0,s.jsx)("span",{className:"text-gray-400",children:v()})]}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"This will be added to your savings fund each month"})]}),(0,s.jsx)("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-3",children:(0,s.jsxs)("div",{className:"text-sm text-white/80",children:[(0,s.jsxs)("div",{children:["💰 Habit savings: ~",(p.previousMonthlyConsumption*p.packageCost).toFixed(0)," ",v(),"/month"]}),(0,s.jsxs)("div",{children:["💵 Monthly contribution: ",p.monthlyContribution," ",v(),"/month"]}),(0,s.jsxs)("div",{children:["🎯 Total potential: ~",(p.previousMonthlyConsumption*p.packageCost+p.monthlyContribution).toFixed(0)," ",v(),"/month"]})]})})]}),10===d&&p.hasAddiction&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-3xl mb-2",children:"📅"}),(0,s.jsx)("h2",{className:"text-lg font-bold text-white mb-2",children:"Payday"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"When do you get paid each month?"})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsx)(ce,{className:"text-white text-sm mb-2 block",children:"Day of the month"}),(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsx)(ie,{type:"number",min:"1",max:"31",placeholder:"15",value:p.contributionDay,onChange:function(e){return g((function(t){return pe(pe({},t),{contributionDay:Number(e.target.value)})}))},className:"bg-transparent border-none text-white placeholder:text-gray-400 text-base focus:ring-0 flex-1 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",style:{MozAppearance:"textfield"}})}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"We'll automatically add your monthly contribution on this day"})]})]}),11===d&&p.hasAddiction&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-3xl mb-2",children:"🌟"}),(0,s.jsx)("h2",{className:"text-lg font-bold text-white mb-2",children:"Motivation"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"What's driving you to quit and save?"})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsx)(ce,{className:"text-white text-sm mb-2 block",children:"Your motivation (optional)"}),(0,s.jsx)(ie,{placeholder:"e.g., Better health, more money for family, financial freedom...",value:p.motivation,onChange:function(e){return g((function(t){return pe(pe({},t),{motivation:e.target.value})}))},className:"bg-transparent border-none text-white placeholder:text-gray-400 text-base focus:ring-0"})]}),(0,s.jsx)("div",{className:"bg-gradient-to-r from-green-500/20 to-blue-500/20 border border-green-500/30 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"text-sm text-white/80 space-y-1",children:[(0,s.jsxs)("div",{children:["🎯 Tracking: ",p.addictionName||(null===(r=ge.find((function(e){return e.value===p.addictionType})))||void 0===r?void 0:r.label)]}),(0,s.jsxs)("div",{children:["📊 Previous usage: ",p.previousMonthlyConsumption," packages/month"]}),(0,s.jsxs)("div",{children:["💰 Cost per unit: ",p.costPerUnit.toFixed(2)," ",v()]}),(0,s.jsxs)("div",{children:["📦 Units per package: ",p.unitsPerPackage]}),(0,s.jsxs)("div",{children:["⏰ Work time per unit: ",(p.costPerUnit/p.hourlyRate*60).toFixed(1)," minutes"]}),(0,s.jsxs)("div",{children:["💵 Monthly contribution: ",p.monthlyContribution," ",v()]}),(0,s.jsxs)("div",{children:["📅 Payday: ",p.contributionDay,"th of each month"]})]})}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-4xl mb-2",children:"🎉"}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"You're all set!"}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Your personalized system is ready to help you succeed."})]})]})]}),(0,s.jsx)("div",{className:"p-4 border-t border-white/10",children:x?(0,s.jsxs)("div",{className:"text-center py-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-3 text-white",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white/30 border-t-white"}),(0,s.jsx)("span",{className:"text-base font-medium",children:"Setting everything up..."})]}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Your system will be ready in a moment"})]}):d<f?(0,s.jsxs)($,{onClick:function(){d<f&&u(d+1)},disabled:!function(){switch(d){case 1:return p.firstName.trim().length>0;case 2:case 11:default:return!0;case 3:return!!p.hasAddiction||p.monthlyContribution>0;case 4:return p.hasAddiction?p.previousMonthlyConsumption>0:p.contributionDay>0&&p.contributionDay<=31;case 5:return p.hasAddiction?p.dailyLimit>0:p.monthlyContribution>0;case 6:return!p.hasAddiction||p.costPerUnit>0;case 7:return!p.hasAddiction||p.unitsPerPackage>0;case 8:return!p.hasAddiction||p.hourlyRate>0;case 9:return!p.hasAddiction||p.monthlyContribution>0;case 10:return!p.hasAddiction||p.contributionDay>0&&p.contributionDay<=31}}(),className:"w-full bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white py-3 rounded-lg text-base font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[(0,s.jsx)("span",{children:"Continue"}),(0,s.jsx)(be.A,{className:"h-4 w-4"})]}):(0,s.jsxs)($,{onClick:function(){return e=a,t=void 0,s=function(){var e,t;return function(e,t){var r,s,n,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(r=1,s&&(n=2&o[0]?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(r){switch(r.label){case 0:m(!0),e=pe(pe({},p),{onboardingCompleted:!0}),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,G.save("user-config",e)];case 2:return r.sent(),l(e),setTimeout((function(){window.location.reload()}),2e3),[3,4];case 3:return t=r.sent(),console.error("Error saving user config:",t),m(!1),[3,4];case 4:return[2]}}))},new((r=void 0)||(r=Promise))((function(n,a){function i(e){try{l(s.next(e))}catch(e){a(e)}}function o(e){try{l(s.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}));var e,t,r,s},disabled:x,className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white py-3 rounded-lg text-base font-medium flex items-center justify-center space-x-2 disabled:opacity-70 disabled:cursor-not-allowed",children:[(0,s.jsx)(R.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Complete Setup"})]})})]})})}var ye=function(){return ye=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},ye.apply(this,arguments)},je=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]])}return r},we=n.forwardRef((function(e,t){var r=e.className,n=je(e,["className"]);return(0,s.jsx)("div",ye({ref:t,className:b("rounded-lg border bg-card text-card-foreground shadow-sm",r)},n))}));we.displayName="Card";var Ne=n.forwardRef((function(e,t){var r=e.className,n=je(e,["className"]);return(0,s.jsx)("div",ye({ref:t,className:b("flex flex-col space-y-1.5 p-6",r)},n))}));Ne.displayName="CardHeader";var ke=n.forwardRef((function(e,t){var r=e.className,n=je(e,["className"]);return(0,s.jsx)("h3",ye({ref:t,className:b("text-2xl font-semibold leading-none tracking-tight",r)},n))}));ke.displayName="CardTitle",n.forwardRef((function(e,t){var r=e.className,n=je(e,["className"]);return(0,s.jsx)("p",ye({ref:t,className:b("text-sm text-muted-foreground",r)},n))})).displayName="CardDescription";var Ce=n.forwardRef((function(e,t){var r=e.className,n=je(e,["className"]);return(0,s.jsx)("div",ye({ref:t,className:b("p-6 pt-0",r)},n))}));Ce.displayName="CardContent",n.forwardRef((function(e,t){var r=e.className,n=je(e,["className"]);return(0,s.jsx)("div",ye({ref:t,className:b("flex items-center p-6 pt-0",r)},n))})).displayName="CardFooter";var Se=r(697),Ae=function(){return Ae=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Ae.apply(this,arguments)},De=function(e,t,r,s){return new(r||(r=Promise))((function(n,a){function i(e){try{l(s.next(e))}catch(e){a(e)}}function o(e){try{l(s.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))},Te=function(e,t){var r,s,n,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(r=1,s&&(n=2&o[0]?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Pe=function(e,t,r){if(r||2===arguments.length)for(var s,n=0,a=t.length;n<a;n++)!s&&n in t||(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))};function Me(e){var t=this,r=e.userConfig,a=(0,n.useState)(0),i=a[0],o=a[1],l=(0,n.useState)(!0),c=l[0],d=l[1],u=(0,n.useState)(!1),h=u[0],x=u[1],m=(0,n.useState)({dailyCount:0,totalDays:0,successfulDays:0,failedDays:0,currentStreak:0,lastDate:""}),b=m[0],p=m[1],g=(null==r?void 0:r.dailyLimit)||5,f=(0,n.useRef)(0);if(!(null==r?void 0:r.hasAddiction))return null;var v=function(){if(r.addictionName&&r.addictionName.trim())return r.addictionName;switch(r.addictionType){case"snus":return"Snus";case"tobacco":return"Smoking";case"alcohol":return"Alcohol";case"gambling":return"Gambling";default:return"Habit"}};(0,n.useEffect)((function(){j(),y()}),[]),(0,n.useEffect)((function(){var e=function(){var e=(new Date).toDateString();b.lastDate&&b.lastDate!==e&&N()};e();var t=setInterval(e,6e4);return function(){return clearInterval(t)}}),[b.lastDate]);var y=function(){return De(t,void 0,void 0,(function(){var e,t,r,s;return Te(this,(function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),e=(new Date).toDateString(),[4,G.load("snus-timestamps-".concat(e))];case 1:return(t=n.sent()||[]).length>0?(r=Pe([],new Set(t),!0)).length===t.length?[3,3]:(console.log("Cleaned up ".concat(t.length-r.length," duplicate timestamps")),[4,G.save("snus-timestamps-".concat(e),r)]):[3,3];case 2:n.sent(),n.label=3;case 3:return[3,5];case 4:return s=n.sent(),console.error("Error cleaning up timestamps:",s),[3,5];case 5:return[2]}}))}))},j=function(){return De(t,void 0,void 0,(function(){var e,t;return Te(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,G.load("snus-data")];case 1:return(e=r.sent())&&(p(e),o(e.dailyCount)),[3,3];case 2:return t=r.sent(),console.error("Error loading snus data:",t),[3,3];case 3:return[2]}}))}))},w=function(e){return De(t,void 0,void 0,(function(){var t;return Te(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,G.save("snus-data",e)];case 1:return r.sent(),p(e),[3,3];case 2:return t=r.sent(),console.error("Error saving snus data:",t),[3,3];case 3:return[2]}}))}))},N=function(){return De(t,void 0,void 0,(function(){var e,t,r,s,n,a,l,c,u;return Te(this,(function(h){switch(h.label){case 0:return e=(new Date).toDateString(),t=(new Date).toISOString().split("T")[0],r=i<=g,s=0===i?"success":i<=g?"pending":"failed",[4,G.load("daily-logs")];case 1:return n=h.sent()||{},a=n[t]||{date:t,habitsCompleted:0,focusSessions:0,snusCount:0},n[t]=Ae(Ae({},a),{snusCount:i}),[4,G.save("daily-logs",n)];case 2:return h.sent(),[4,G.load("day-data-".concat(e))];case 3:return l=h.sent()||{},c=Ae(Ae({},l),{date:e,snusCount:i,snusStatus:s,habits:l.habits||[],focusSessions:l.focusSessions||0,allHabitsCompleted:l.allHabitsCompleted||!1}),[4,G.save("day-data-".concat(e),c)];case 4:return h.sent(),u=Ae(Ae({},b),{dailyCount:0,totalDays:b.totalDays+1,successfulDays:r?b.successfulDays+1:b.successfulDays,failedDays:r?b.failedDays:b.failedDays+1,currentStreak:r?b.currentStreak+1:0,lastDate:e}),[4,w(u)];case 5:return h.sent(),o(0),d(!1),window.dispatchEvent(new CustomEvent("dailyLogsUpdated")),[2]}}))}))},k=function(){return 0===i?"text-green-400":i<=g?"text-yellow-400":"text-red-400"},C=function(){return Math.min(i/g*100,100)},S=2*Math.PI*35,A=S,D=S-C()/100*S;return(0,s.jsx)(we,{className:"bg-black/60 backdrop-blur-xl border border-white/10 shadow-2xl rounded-3xl overflow-hidden",children:(0,s.jsxs)(Ce,{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-2xl font-semibold text-white mb-1",children:[v()," Tracker"]}),(0,s.jsx)("p",{className:"text-sm ".concat(k()),children:0===i?"Clean day! 🌟":i<=g?"".concat(g-i," left today"):"Over limit! 😱"})]}),(0,s.jsxs)("div",{className:"relative w-16 h-16",children:[(0,s.jsxs)("svg",{className:"w-16 h-16 transform -rotate-90",viewBox:"0 0 80 80",children:[(0,s.jsx)("circle",{cx:"40",cy:"40",r:35,stroke:"currentColor",strokeWidth:"6",fill:"transparent",className:"text-gray-700"}),(0,s.jsx)("circle",{cx:"40",cy:"40",r:35,stroke:"currentColor",strokeWidth:"6",fill:"transparent",strokeDasharray:A,strokeDashoffset:D,className:"transition-all duration-300 ease-in-out ".concat(i>g?"text-red-400":"text-yellow-400"),strokeLinecap:"round"})]}),(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-lg font-bold ".concat(k()),children:i})})]})]}),(0,s.jsxs)("div",{className:"flex space-x-3 mb-4",children:[(0,s.jsxs)($,{onClick:function(){return De(t,void 0,void 0,(function(){var e,t,r,s,n,a,l,c,u,m,p,v,y;return Te(this,(function(j){switch(j.label){case 0:if((e=Date.now())-f.current<1e3)return console.log("Click too rapid, ignoring"),[2];if(f.current=e,h)return console.log("Already processing, ignoring"),[2];x(!0),j.label=1;case 1:return j.trys.push([1,10,11,12]),t=i+1,r=(new Date).toDateString(),s=(new Date).toISOString().split("T")[0],o(t),d(!0),n=Ae(Ae({},b),{dailyCount:t,lastDate:r}),[4,w(n)];case 2:return j.sent(),a=(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),[4,G.load("snus-timestamps-".concat(r))];case 3:return(l=j.sent()||[]).includes(a)?[3,5]:(c=Pe(Pe([],l,!0),[a],!1),[4,G.save("snus-timestamps-".concat(r),c)]);case 4:j.sent(),j.label=5;case 5:return[4,G.load("daily-logs")];case 6:return u=j.sent()||{},m=u[s]||{date:s,habitsCompleted:0,focusSessions:0,snusCount:0},u[s]=Ae(Ae({},m),{snusCount:t}),[4,G.save("daily-logs",u)];case 7:return j.sent(),[4,G.load("day-data-".concat(r))];case 8:return p=j.sent()||{},v=Ae(Ae({},p),{date:r,snusCount:t,snusStatus:0===t?"success":t<=g?"pending":"failed",habits:p.habits||[],focusSessions:p.focusSessions||0,allHabitsCompleted:p.allHabitsCompleted||!1}),[4,G.save("day-data-".concat(r),v)];case 9:return j.sent(),window.dispatchEvent(new CustomEvent("dailyLogsUpdated")),[3,12];case 10:return y=j.sent(),console.error("Error incrementing snus:",y),[3,12];case 11:return x(!1),[7];case 12:return[2]}}))}))},disabled:h,className:"flex-1 bg-red-500/20 hover:bg-red-500/30 border border-red-500/30 text-red-400 hover:text-red-300 rounded-2xl py-3 disabled:opacity-50",children:[(0,s.jsx)(Se.A,{className:"h-4 w-4 mr-2"}),h?"Adding...":function(){if(r.addictionName&&r.addictionName.trim())return"Use ".concat(r.addictionName);switch(r.addictionType){case"snus":return"Take Snus";case"tobacco":return"Smoke";case"alcohol":return"Have Drink";case"gambling":return"Place Bet";case"other":return"Use Habit";default:return"Track Usage"}}()]}),(0,s.jsx)($,{onClick:function(){return De(t,void 0,void 0,(function(){var e,t,r,s,n,a,l,c,u,m,p,v;return Te(this,(function(y){switch(y.label){case 0:if(i<=0)return[2];if((e=Date.now())-f.current<500)return[2];if(f.current=e,h)return[2];x(!0),y.label=1;case 1:return y.trys.push([1,10,11,12]),t=i-1,r=(new Date).toDateString(),s=(new Date).toISOString().split("T")[0],o(t),d(!0),n=Ae(Ae({},b),{dailyCount:t}),[4,w(n)];case 2:return y.sent(),[4,G.load("snus-timestamps-".concat(r))];case 3:return(a=y.sent()||[]).length>0?(l=a.slice(0,-1),[4,G.save("snus-timestamps-".concat(r),l)]):[3,5];case 4:y.sent(),y.label=5;case 5:return[4,G.load("daily-logs")];case 6:return c=y.sent()||{},u=c[s]||{date:s,habitsCompleted:0,focusSessions:0,snusCount:0},c[s]=Ae(Ae({},u),{snusCount:t}),[4,G.save("daily-logs",c)];case 7:return y.sent(),[4,G.load("day-data-".concat(r))];case 8:return m=y.sent()||{},p=Ae(Ae({},m),{date:r,snusCount:t,snusStatus:0===t?"success":t<=g?"pending":"failed",habits:m.habits||[],focusSessions:m.focusSessions||0,allHabitsCompleted:m.allHabitsCompleted||!1}),[4,G.save("day-data-".concat(r),p)];case 9:return y.sent(),window.dispatchEvent(new CustomEvent("dailyLogsUpdated")),[3,12];case 10:return v=y.sent(),console.error("Error decrementing snus:",v),[3,12];case 11:return x(!1),[7];case 12:return[2]}}))}))},disabled:h||i<=0,variant:"outline",className:"bg-gray-800/60 hover:bg-gray-700/60 border-gray-600 text-gray-300 hover:text-white rounded-2xl py-3 disabled:opacity-50",children:(0,s.jsx)("span",{className:"text-lg font-bold",children:"−"})})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("div",{className:"flex justify-between text-xs text-gray-400 mb-2",children:[(0,s.jsx)("span",{children:"Daily Progress"}),(0,s.jsxs)("span",{children:[i,"/",g]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,s.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(i>g?"bg-gradient-to-r from-red-500 to-red-600":"bg-gradient-to-r from-yellow-500 to-orange-500"),style:{width:"".concat(Math.min(C(),100),"%")}})})]}),c&&(0,s.jsx)("div",{className:"p-3 border rounded-2xl backdrop-blur-sm ".concat(0===i?"bg-green-900/30 border-green-500/50":i<=g?"bg-blue-900/30 border-blue-500/50":"bg-red-900/30 border-red-500/50"),children:(0,s.jsxs)("div",{className:"flex items-center space-x-2 ".concat(0===i?"text-green-400":i<=g?"text-blue-400":"text-red-400"),children:[0===i?(0,s.jsx)(R.A,{className:"h-4 w-4"}):(0,s.jsx)(ne.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:function(e){v().toLowerCase();var t=["Clean start — stay sharp and own the day 🧠","Alright, first one down — stay mindful ⚠️","Second hit logged. Keep your head in the game 📒","Three deep. You're still in control — barely 🧩","Four entries. Yellow zone now. Eyes on the mission 👁️","Limit reached. Time to lock in 🔒","You've crossed the line today. Regain control 🧠⚔️","This is no longer 'just one more'. Recalibrate. ⛔","You're losing the mental edge. Turn it around. 🧭","Momentum killer. You're stronger than this 💢","Double digits. You're at a crossroads 🔻","You're not in control — the habit is. Flip the script 🔄","That's your future savings right there 💸","13 in. What story are you writing today? 📉","tobacco"===r.addictionType?"Your lungs are waving the white flag 🫁":"Your health is paying the price 🏥","15 hits. Your willpower didn't sign up for this 🧱","You're spiraling. Is this how you want to show up? 🎭","Seventeen. Let's not make this your new normal 🛑","You're not escaping. You're looping 🌀","This isn't you. This is addiction running macros 🤖","20 logged. Let this be your last rock bottom for the year 🧨"];return e>=20?t[20]:t[e]||t[6]}(i)})]})})]})})}var Oe=r(684),Ee=r(250),Le=r(7677),Re=r(8931),Fe=r(4718),Ie=r(4934),Ue=r(3378),He=r(2307),Be=r(7504),We=r(2640),ze=r(3954),Ge=r(2250),Xe=r(802),Ye=r(9696),qe=r(7282),Ve=r(3164),Ke=r(1004),Je=r(5793),_e=r(9802),$e=r(6069),Ze=r(4905),Qe=r(5244),et=r(2201),tt=function(){return tt=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},tt.apply(this,arguments)},rt=function(e,t,r){if(r||2===arguments.length)for(var s,n=0,a=t.length;n<a;n++)!s&&n in t||(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},st=[{name:"Github",component:Ue.A,value:"Github"},{name:"Calendar",component:He.A,value:"Calendar"},{name:"Message",component:Be.A,value:"MessageSquare"},{name:"Zap",component:F.A,value:"Zap"},{name:"Bot",component:We.A,value:"Bot"},{name:"Mail",component:ze.A,value:"Mail"},{name:"Music",component:Ge.A,value:"Music"},{name:"Video",component:Xe.A,value:"Video"},{name:"Shopping",component:Ye.A,value:"ShoppingCart"},{name:"Camera",component:qe.A,value:"Camera"},{name:"Code",component:Ve.A,value:"Code"},{name:"Database",component:Ke.A,value:"Database"},{name:"Games",component:Je.A,value:"Gamepad2"},{name:"Audio",component:_e.A,value:"Headphones"},{name:"Location",component:$e.A,value:"MapPin"},{name:"Coffee",component:Ze.A,value:"Coffee"},{name:"Book",component:Qe.A,value:"Book"},{name:"Work",component:et.A,value:"Briefcase"},{name:"Globe",component:Oe.A,value:"Globe"}],nt=[{name:"Purple to Indigo",value:"bg-gradient-to-br from-purple-500 to-indigo-600"},{name:"Purple to Pink",value:"bg-gradient-to-br from-purple-600 to-pink-600"},{name:"Blue to Cyan",value:"bg-gradient-to-br from-blue-500 to-cyan-500"},{name:"Green to Emerald",value:"bg-gradient-to-br from-green-500 to-emerald-600"},{name:"Orange to Red",value:"bg-gradient-to-br from-orange-500 to-red-500"},{name:"Blue to Indigo",value:"bg-gradient-to-br from-blue-600 to-indigo-700"},{name:"Yellow to Orange",value:"bg-gradient-to-br from-yellow-500 to-orange-600"},{name:"Pink to Purple",value:"bg-gradient-to-br from-pink-500 to-purple-600"},{name:"Cyan to Blue",value:"bg-gradient-to-br from-cyan-400 to-blue-600"},{name:"Emerald to Teal",value:"bg-gradient-to-br from-emerald-500 to-teal-600"}],at=["Development","Social","Productivity","Entertainment","Shopping","Education","Other"];function it(e){var t=this,r=e.isOpen,a=e.onClose,i=e.onLinkAdded,o=e.editingLink,l=e.onLinkUpdated,c=(0,n.useState)({name:"",url:"",icon:"Globe",color:"bg-gradient-to-br from-purple-500 to-indigo-600",category:""}),d=c[0],u=c[1],h=(0,n.useState)(!1),x=h[0],m=h[1],b=(0,n.useState)(!1),p=b[0],g=b[1];(0,n.useEffect)((function(){r?o&&u({name:o.name,url:o.url,icon:o.icon,color:o.color,category:""}):(u({name:"",url:"",icon:"Globe",color:"bg-gradient-to-br from-purple-500 to-indigo-600",category:""}),m(!1),g(!1))}),[r,o]);var f,v,y=(f=d.icon,(v=st.find((function(e){return e.value===f})))?v.component:Oe.A);return(0,s.jsx)(w,{open:r,onOpenChange:a,children:(0,s.jsxs)(C,{className:"max-w-md bg-black/95 backdrop-blur-xl border border-white/20 text-white rounded-3xl p-0",children:[(0,s.jsx)(S,{className:"p-4 pb-3 border-b border-white/10",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)($,{variant:"ghost",size:"sm",onClick:a,className:"text-white hover:bg-white/10 p-2",children:[(0,s.jsx)(me.A,{className:"h-4 w-4 mr-1"}),"Back"]}),(0,s.jsx)(A,{className:"text-lg font-bold",children:o?"Edit Link":"Add Quick Link"}),(0,s.jsx)("div",{className:"w-12"})," "]})}),(0,s.jsxs)("div",{className:"p-4 space-y-4 max-h-[75vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("button",{onClick:function(){return m(!x)},className:"w-12 h-12 ".concat(d.color," rounded-2xl flex items-center justify-center hover:opacity-80 transition-opacity shadow-lg"),children:(0,s.jsx)(y,{className:"h-6 w-6 text-white"})}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(ie,{placeholder:"Link Name",value:d.name,onChange:function(e){return u((function(t){return tt(tt({},t),{name:e.target.value})}))},className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 text-base rounded-lg"})})]}),x&&(0,s.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:(0,s.jsx)("div",{className:"grid grid-cols-4 gap-2",children:st.map((function(e){var t=e.component;return(0,s.jsxs)("button",{onClick:function(){u((function(t){return tt(tt({},t),{icon:e.value})})),m(!1)},className:"p-2 flex flex-col items-center justify-center hover:bg-white/10 rounded-lg transition-colors ".concat(d.icon===e.value?"bg-white/20":""),children:[(0,s.jsx)(t,{className:"h-5 w-5 text-white mb-1"}),(0,s.jsx)("span",{className:"text-xs text-gray-300",children:e.name})]},e.value)}))})}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsx)(ce,{className:"text-white text-sm mb-2 block",children:"Color Theme"}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-2",children:nt.map((function(e){return(0,s.jsxs)("button",{onClick:function(){return u((function(t){return tt(tt({},t),{color:e.value})}))},className:"p-2 rounded-lg border-2 transition-all ".concat(d.color===e.value?"border-white":"border-transparent"),children:[(0,s.jsx)("div",{className:"w-full h-8 ".concat(e.value," rounded-lg")}),(0,s.jsx)("span",{className:"text-xs text-gray-300 mt-1 block",children:e.name})]},e.name)}))})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,s.jsx)(Re.A,{className:"h-4 w-4 text-gray-400"}),(0,s.jsx)(ce,{className:"text-white text-sm",children:"URL"})]}),(0,s.jsx)(ie,{type:"url",placeholder:"https://example.com or just example.com",value:d.url,onChange:function(e){return u((function(t){return tt(tt({},t),{url:e.target.value})}))},className:"bg-transparent border-none text-white placeholder:text-gray-400 text-sm focus:ring-0"})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsxs)("button",{onClick:function(){return g(!p)},className:"w-full flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"h-4 w-4 text-gray-400",children:"🏷️"}),(0,s.jsx)(ce,{className:"text-white text-sm",children:"Category (Optional)"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"text-gray-400 text-sm",children:d.category||"None"}),(0,s.jsx)(Le.A,{className:"h-3 w-3 text-gray-400"})]})]}),p&&(0,s.jsx)("div",{className:"mt-2 space-y-1",children:at.map((function(e){return(0,s.jsx)("button",{onClick:function(){u((function(t){return tt(tt({},t),{category:e})})),g(!1)},className:"w-full text-left px-2 py-1 text-white hover:bg-white/10 rounded-lg text-sm",children:e},e)}))})]}),(0,s.jsx)($,{onClick:function(){return e=t,r=void 0,n=function(){var e,t,r,s,n,c,u,h;return function(e,t){var r,s,n,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(r=1,s&&(n=2&o[0]?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(x){switch(x.label){case 0:if(!d.name.trim()||!d.url.trim())return[2];if((e=d.url.trim()).startsWith("http://")||e.startsWith("https://")||(e="https://"+e),!o)return[3,6];t=tt(tt({},o),{name:d.name.trim(),url:e,icon:d.icon,color:d.color}),x.label=1;case 1:return x.trys.push([1,4,,5]),[4,G.load("quick-access-links")];case 2:return r=x.sent()||[],u=r.map((function(e){return e.id===o.id?t:e})),[4,G.save("quick-access-links",u)];case 3:return x.sent(),l&&l(t),a(),[3,5];case 4:return s=x.sent(),console.error("Error updating link:",s),[3,5];case 5:return[3,11];case 6:n={id:Date.now().toString(),name:d.name.trim(),url:e,icon:d.icon,color:d.color},x.label=7;case 7:return x.trys.push([7,10,,11]),[4,G.load("quick-access-links")];case 8:return c=x.sent()||[],u=rt(rt([],c,!0),[n],!1),[4,G.save("quick-access-links",u)];case 9:return x.sent(),i(n),a(),[3,11];case 10:return h=x.sent(),console.error("Error saving link:",h),[3,11];case 11:return[2]}}))},new((s=void 0)||(s=Promise))((function(t,a){function i(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var r;e.done?t(e.value):(r=e.value,r instanceof s?r:new s((function(e){e(r)}))).then(i,o)}l((n=n.apply(e,r||[])).next())}));var e,r,s,n},disabled:!d.name.trim()||!d.url.trim(),className:"w-full bg-purple-500 hover:bg-purple-600 text-white py-3 rounded-lg text-base font-medium disabled:opacity-50 disabled:cursor-not-allowed mt-4",children:o?"Update Link":"Add Link"})]})]})})}var ot=function(){return ot=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},ot.apply(this,arguments)},lt=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]])}return r},ct=n.createContext(void 0),dt=function(){var e=n.useContext(ct);if(!e)throw new Error("useDropdownMenu must be used within a DropdownMenu");return e},ut=n.forwardRef((function(e,t){var r=e.className,a=e.children,i=lt(e,["className","children"]),o=n.useState(!1),l=o[0],c=o[1];return(0,s.jsx)(ct.Provider,{value:{isOpen:l,setIsOpen:c},children:(0,s.jsx)("div",ot({ref:t,className:b("relative inline-block text-left",r)},i,{children:a}))})}));ut.displayName="DropdownMenu";var ht=n.forwardRef((function(e,t){var r=e.className,n=e.children,a=e.onClick,i=lt(e,["className","children","onClick"]),o=dt(),l=o.isOpen,c=o.setIsOpen;return(0,s.jsx)("button",ot({ref:t,className:b("inline-flex items-center justify-center",r),onClick:function(e){c(!l),null==a||a(e)}},i,{children:n}))}));ht.displayName="DropdownMenuTrigger";var xt=n.forwardRef((function(e,t){var r=e.className,a=e.children,i=e.onClose,o=lt(e,["className","children","onClose"]),l=dt(),c=l.isOpen,d=l.setIsOpen,u=n.useRef(null);return n.useEffect((function(){var e=function(e){u.current&&!u.current.contains(e.target)&&(d(!1),null==i||i())};if(c)return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}),[c,d,i]),c?(0,s.jsx)("div",ot({ref:u,className:b("absolute right-0 z-[9999] min-w-[8rem] overflow-hidden rounded-xl border bg-black/90 backdrop-blur-xl border-white/20 p-1 text-white shadow-xl","animate-in fade-in-0 zoom-in-95",r),style:{transform:"translateZ(0)"}},o,{children:a})):null}));xt.displayName="DropdownMenuContent";var mt=n.forwardRef((function(e,t){var r=e.className,n=e.onClick,a=lt(e,["className","onClick"]),i=dt().setIsOpen;return(0,s.jsx)("div",ot({ref:t,className:b("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors hover:bg-white/10 focus:bg-white/10",r),onClick:function(e){null==n||n(e),i(!1)}},a))}));mt.displayName="DropdownMenuItem";var bt=function(){return bt=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},bt.apply(this,arguments)},pt=function(e,t,r,s){return new(r||(r=Promise))((function(n,a){function i(e){try{l(s.next(e))}catch(e){a(e)}}function o(e){try{l(s.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))},gt=function(e,t){var r,s,n,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(r=1,s&&(n=2&o[0]?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},ft=function(e,t,r){if(r||2===arguments.length)for(var s,n=0,a=t.length;n<a;n++)!s&&n in t||(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},vt=[{name:"Gmail",url:"https://https://mail.google.com/mail/u/0/#inbox",color:"bg-gradient-to-br from-purple-500 to-indigo-600",icon:"Mail"},{name:"GitHub",url:"https://github.com/",color:"bg-gradient-to-br from-purple-600 to-pink-600",icon:"Github"},{name:"Daily.dev",url:"https://app.daily.dev/",color:"bg-gradient-to-br from-blue-500 to-cyan-500",icon:"Zap"},{name:"ChatGPT",url:"https://chatgpt.com/",color:"bg-gradient-to-br from-green-500 to-emerald-600",icon:"MessageSquare"},{name:"Claude AI",url:"https://claude.ai/new",color:"bg-gradient-to-br from-orange-500 to-red-500",icon:"Bot"},{name:"Calendar",url:"https://calendar.google.com/calendar/u/0/r/week?pli=1",color:"bg-gradient-to-br from-blue-600 to-indigo-700",icon:"Calendar"}];function yt(){var e=this,t=(0,n.useState)([]),r=t[0],a=t[1],i=(0,n.useState)(!1),o=i[0],l=i[1],c=(0,n.useState)(null),d=c[0],u=c[1],h=(0,n.useState)(0),x=h[0],m=h[1],b=(0,n.useState)(null),p=b[0],g=b[1];(0,n.useEffect)((function(){f()}),[]);var f=function(){return pt(e,void 0,void 0,(function(){var e,t,r,s;return gt(this,(function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),[4,G.load("quick-access-links")];case 1:return(e=n.sent())&&0!==e.length?[3,3]:(t=vt.map((function(e,t){return bt(bt({},e),{id:"default-".concat(t)})})),[4,G.save("quick-access-links",t)]);case 2:return n.sent(),a(t),[3,4];case 3:a(e),n.label=4;case 4:return[3,6];case 5:return r=n.sent(),console.error("Error loading quick links:",r),s=vt.map((function(e,t){return bt(bt({},e),{id:"fallback-".concat(t)})})),a(s),[3,6];case 6:return[2]}}))}))},v=function(){u(null),l(!0)},y=Math.ceil(r.length/6),j=6*x,w=j+6,N=r.slice(j,w),k=6-N.length,C=r.length<18;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(we,{className:"bg-black/60 backdrop-blur-xl border border-white/10 shadow-2xl rounded-3xl overflow-hidden",children:(0,s.jsxs)(Ce,{className:"p-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold text-white",children:"Quick Access"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[y>1&&(0,s.jsxs)("div",{className:"flex items-center space-x-2 mr-4",children:[(0,s.jsx)("button",{onClick:function(){x>0&&m(x-1)},disabled:0===x,className:"p-1 rounded-lg hover:bg-white/10 transition-colors disabled:opacity-30 disabled:cursor-not-allowed",children:(0,s.jsx)(Ee.A,{className:"h-4 w-4 text-white/70"})}),(0,s.jsx)("div",{className:"flex space-x-1",children:Array.from({length:y},(function(e,t){return(0,s.jsx)("button",{onClick:function(){return m(t)},className:"w-2 h-2 rounded-full transition-all ".concat(t===x?"bg-white":"bg-white/30 hover:bg-white/50")},t)}))}),(0,s.jsx)("button",{onClick:function(){x<y-1&&m(x+1)},disabled:x===y-1,className:"p-1 rounded-lg hover:bg-white/10 transition-colors disabled:opacity-30 disabled:cursor-not-allowed",children:(0,s.jsx)(Le.A,{className:"h-4 w-4 text-white/70"})})]}),(0,s.jsx)("button",{onClick:v,disabled:!C,className:"p-2 bg-white/10 hover:bg-white/20 rounded-xl transition-colors border border-white/20 disabled:opacity-30 disabled:cursor-not-allowed",children:(0,s.jsx)(Se.A,{className:"h-5 w-5 text-white"})})]})]}),(0,s.jsxs)("div",{className:"h-[300px]",children:[" ",(0,s.jsxs)("div",{className:"grid grid-cols-3 grid-rows-2 gap-6 h-full",children:[N.map((function(t){var n,i=(n=t.icon,{Github:Ue.A,Calendar:He.A,MessageSquare:Be.A,Zap:F.A,Bot:We.A,Mail:ze.A,Music:Ge.A,Video:Xe.A,ShoppingCart:Ye.A,Camera:qe.A,Code:Ve.A,Database:Ke.A,Gamepad2:Je.A,Headphones:_e.A,MapPin:$e.A,Coffee:Ze.A,Book:Qe.A,Briefcase:et.A,Globe:Oe.A}[n]||Oe.A),o=p===t.id;return(0,s.jsx)("div",{className:"group cursor-pointer transition-all duration-200 hover:scale-105 relative ".concat(o?"z-[100]":"z-0"),onClick:function(){return window.open(t.url,"_blank")},children:(0,s.jsxs)("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 text-center hover:bg-white/10 transition-all duration-200 hover:shadow-xl h-full flex flex-col justify-center relative",children:[(0,s.jsx)("div",{className:"w-12 h-12 ".concat(t.color," rounded-xl mx-auto mb-3 flex items-center justify-center group-hover:scale-110 transition-transform shadow-lg"),children:(0,s.jsx)(i,{className:"h-6 w-6 text-white"})}),(0,s.jsx)("p",{className:"text-sm font-medium text-white/90 group-hover:text-white transition-colors mb-2 line-clamp-1",children:t.name}),(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,s.jsx)(Re.A,{className:"h-3 w-3 text-white/50 group-hover:text-white/70 transition-colors"}),(0,s.jsxs)(ut,{children:[(0,s.jsx)(ht,{className:"p-1 hover:bg-white/20 rounded-md transition-colors opacity-0 group-hover:opacity-100",onClick:function(e){e.stopPropagation(),g(o?null:t.id)},children:(0,s.jsx)(Fe.A,{className:"h-3 w-3 text-white/50 hover:text-white/70"})}),(0,s.jsxs)(xt,{className:"bg-black/90 backdrop-blur-xl border border-white/20 text-white",onClose:function(){return g(null)},children:[(0,s.jsxs)(mt,{onClick:function(e){e.stopPropagation(),g(null),function(e){u(e),l(!0)}(t)},className:"hover:bg-white/10 cursor-pointer",children:[(0,s.jsx)(Ie.A,{className:"h-3 w-3 mr-2"}),"Edit"]}),(0,s.jsxs)(mt,{onClick:function(s){var n;s.stopPropagation(),g(null),n=t.id,pt(e,void 0,void 0,(function(){var e,t,s;return gt(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),e=r.filter((function(e){return e.id!==n})),[4,G.save("quick-access-links",e)];case 1:return i.sent(),a(e),t=Math.ceil(e.length/6),x>=t&&t>0&&m(t-1),[3,3];case 2:return s=i.sent(),console.error("Error deleting link:",s),[3,3];case 3:return[2]}}))}))},className:"hover:bg-white/10 cursor-pointer text-red-400 hover:text-red-300",children:[(0,s.jsx)(se.A,{className:"h-3 w-3 mr-2"}),"Delete"]})]})]})]})]})},t.id)})),k>0&&C&&(0,s.jsx)("div",{onClick:v,className:"group cursor-pointer transition-all duration-200 hover:scale-105",children:(0,s.jsxs)("div",{className:"bg-white/5 backdrop-blur-md border-2 border-dashed border-white/20 rounded-2xl p-4 text-center hover:bg-white/10 hover:border-white/40 transition-all duration-200 h-full flex flex-col justify-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-white/10 rounded-xl mx-auto mb-3 flex items-center justify-center group-hover:bg-white/20 transition-colors",children:(0,s.jsx)(Se.A,{className:"h-6 w-6 text-white/60 group-hover:text-white/80"})}),(0,s.jsx)("p",{className:"text-sm font-medium text-white/60 group-hover:text-white/80 transition-colors",children:"Add Link"})]})}),Array.from({length:k-(C?1:0)},(function(e,t){return(0,s.jsx)("div",{className:"invisible"},"empty-".concat(t))}))]})]}),y>1&&(0,s.jsx)("div",{className:"text-center mt-4",children:(0,s.jsxs)("span",{className:"text-xs text-white/40",children:["Page ",x+1," of ",y," • ",r.length," links"]})})]})}),(0,s.jsx)(it,{isOpen:o,onClose:function(){return l(!1)},onLinkAdded:function(e){a((function(t){return ft(ft([],t,!0),[e],!1)}))},editingLink:d,onLinkUpdated:function(e){a((function(t){return t.map((function(t){return t.id===e.id?e:t}))}))}})]})}var jt=r(4997),wt=r(7213);function Nt(){var e=(0,n.useState)(!1),t=e[0],r=e[1];return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{onClick:function(){return r(!t)},className:"flex items-center gap-2 px-3 py-2 bg-black/20 hover:bg-black/30 rounded-lg transition-all duration-200 backdrop-blur-sm border border-white/10",children:[(0,s.jsx)(jt.A,{className:"w-4 h-4 text-white/70"}),(0,s.jsx)("span",{className:"text-sm text-white/80 font-medium",children:"How Home Works"})]}),t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 z-40 bg-black/50 backdrop-blur-sm",onClick:function(){return r(!1)}}),(0,s.jsxs)("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50 w-full max-w-4xl max-h-[80vh] bg-black/90 backdrop-blur-md rounded-2xl border border-white/10 shadow-2xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(wt.A,{className:"w-6 h-6 text-blue-400"}),(0,s.jsx)("h2",{className:"text-xl font-bold text-white",children:"Home Tab - Your Personal Dashboard"})]}),(0,s.jsx)("button",{onClick:function(){return r(!1)},className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:(0,s.jsx)(v.A,{className:"w-5 h-5 text-white/70"})})]}),(0,s.jsx)("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/20 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(te.A,{className:"w-6 h-6 text-blue-400"}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"🏠 What is the Home Tab?"})]}),(0,s.jsxs)("div",{className:"space-y-4 text-white/80",children:[(0,s.jsx)("p",{className:"text-sm",children:"Home is your central command center - the first thing you see when opening a new tab. It's designed for quick actions and daily tracking."}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"🕐 Time Display:"})," Current time and date prominently shown"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"📊 Habit Tracker:"})," Log and monitor your daily tracked habit usage with smart feedback"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"🚀 Quick Access:"})," Fast links to your most-used tools and websites"]})]})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-red-500/10 to-orange-500/10 border border-red-500/20 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(Se.A,{className:"w-6 h-6 text-red-400"}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"📊 Habit Tracker (Right Side)"})]}),(0,s.jsxs)("div",{className:"space-y-4 text-white/80",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-red-300 mb-2",children:"Daily Limit System"}),(0,s.jsx)("p",{className:"text-sm",children:"Track your habit usage with a daily limit you set. The tracker provides real-time feedback on your progress."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-red-300 mb-2",children:"Smart Messaging"}),(0,s.jsx)("p",{className:"text-sm",children:"Get personalized messages based on your usage count and your daily limit:"}),(0,s.jsxs)("div",{className:"mt-2 bg-black/40 rounded-lg p-3 text-xs font-mono",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("span",{className:"text-green-400",children:"0 used:"}),' "Clean start — stay sharp and own the day 🧠"']}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("span",{className:"text-yellow-400",children:"Below limit:"})," Awareness messages to keep you mindful"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("span",{className:"text-orange-400",children:"At limit:"}),' "Limit reached. Time to lock in 🔒"']}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("span",{className:"text-red-400",children:"Above limit:"})," Tough love messages to help you regain control"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-red-300 mb-2",children:"How to Use"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:'Click "+" button:'})," Log a habit usage (1-second cooldown prevents accidental clicks)"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:'Long-press "+" (3 seconds):'})," Subtract last usage if logged by mistake"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Visual progress bar:"})," See how close you are to your daily limit"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Auto-reset:"})," Resets to 0 at midnight and logs yesterday's data"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-red-300 mb-2",children:"Data Tracking"}),(0,s.jsx)("p",{className:"text-sm",children:"Your daily habit usage automatically feeds into:"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Vision Tab:"})," Calculates savings for financial goals"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Personal Tab:"})," Shows in weekly overview and journey heatmap"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Success/Failure tracking:"})," Days at or below your limit = success, above = failed day"]})]})]}),(0,s.jsx)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:(0,s.jsxs)("p",{className:"text-sm",children:[(0,s.jsx)("strong",{children:"Anti-Spam Protection:"})," 1-second cooldown prevents accidental rapid clicks. Long-press feature allows corrections."]})})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/20 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(Re.A,{className:"w-6 h-6 text-purple-400"}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"🚀 Quick Access (Bottom)"})]}),(0,s.jsxs)("div",{className:"space-y-4 text-white/80",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-purple-300 mb-2",children:"What It Does"}),(0,s.jsx)("p",{className:"text-sm",children:"One-click access to your most frequently used tools and websites. Perfect for new tab replacement workflow."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-purple-300 mb-2",children:"Available Links"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-2 text-xs",children:[(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-2",children:[(0,s.jsx)("div",{children:(0,s.jsx)("strong",{children:"🔧 Development:"})}),(0,s.jsx)("div",{children:"• GitHub"}),(0,s.jsx)("div",{children:"• Daily.dev"})]}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-2",children:[(0,s.jsx)("div",{children:(0,s.jsx)("strong",{children:"🤖 AI Tools:"})}),(0,s.jsx)("div",{children:"• ChatGPT"}),(0,s.jsx)("div",{children:"• Claude AI"})]}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-2",children:[(0,s.jsx)("div",{children:(0,s.jsx)("strong",{children:"📚 Productivity:"})}),(0,s.jsx)("div",{children:"• Gmail"}),(0,s.jsx)("div",{children:"• Google Calendar"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-purple-300 mb-2",children:"Features"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Hover effects:"})," Cards scale slightly on hover"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Color-coded icons:"})," Each service has its own gradient theme"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Opens in new tab:"})," Doesn't disrupt your current workflow"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Responsive grid:"})," 3-column layout that adapts to screen size"]})]})]})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-indigo-500/10 to-blue-500/10 border border-indigo-500/20 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(te.A,{className:"w-6 h-6 text-indigo-400"}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"🕐 Time Display (Left Side)"})]}),(0,s.jsxs)("div",{className:"space-y-3 text-white/80 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Large Clock:"})," Current time in HH:MM format, updates every second"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Date Display:"}),' Full date with weekday (e.g., "Monday, December 16, 2024")']}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Hero Element:"})," Central focus point with elegant animations on load"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Always Current:"})," Real-time updates ensure accuracy"]})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/20 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(ee.A,{className:"w-6 h-6 text-green-400"}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"✨ Animations & User Experience"})]}),(0,s.jsxs)("div",{className:"space-y-3 text-white/80 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Staggered Entrance:"})," Elements animate in sequence for smooth loading"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"iOS-Style Animations:"})," Smooth slide-up effects inspired by mobile design"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Performance:"})," Lightweight components with smooth 60fps animations"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Accessibility:"})," Clear focus states and keyboard navigation support"]})]})]})]})})]})]})]})}const kt=function(e){var t=e.userConfig,r=(0,n.useState)(""),a=r[0],i=r[1],o=(0,n.useState)(""),l=o[0],c=o[1];return(0,n.useEffect)((function(){var e=function(){var e=new Date;i(e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),c(e.toLocaleDateString([],{weekday:"long",year:"numeric",month:"long",day:"numeric"}))};e();var t=setInterval(e,1e3);return function(){return clearInterval(t)}}),[]),(0,s.jsxs)("div",{className:"min-h-screen pt-6 flex items-center justify-center relative",children:[(0,s.jsx)("div",{className:"fixed bottom-6 right-6 z-20",children:(0,s.jsx)(Nt,{})}),(0,s.jsxs)("div",{className:"container mx-auto px-8 max-w-7xl",children:[(0,s.jsxs)("div",{className:"grid ".concat((null==t?void 0:t.hasAddiction)?"grid-cols-2":"grid-cols-1"," gap-8 mb-12"),children:[(0,s.jsx)("div",{className:"flex items-center justify-center ".concat((null==t?void 0:t.hasAddiction)?"":"col-span-2"),children:(0,s.jsxs)("div",{className:"text-center opacity-0 animate-gentle-fade",style:{animationDelay:"50ms",animationFillMode:"forwards"},children:[(0,s.jsx)("div",{className:"text-8xl font-light text-white mb-2 opacity-0 animate-smooth-fade-up",style:{animationDelay:"150ms",animationFillMode:"forwards"},children:a}),(0,s.jsx)("div",{className:"text-xl text-white/80 opacity-0 animate-smooth-fade-up",style:{animationDelay:"350ms",animationFillMode:"forwards"},children:l})]})}),(null==t?void 0:t.hasAddiction)&&(0,s.jsx)("div",{className:"opacity-0 animate-ios-slide-up",style:{animationDelay:"250ms",animationFillMode:"forwards"},children:(0,s.jsx)(Me,{userConfig:t})})]}),(0,s.jsx)("div",{className:"opacity-0 animate-ios-slide-up",style:{animationDelay:"450ms",animationFillMode:"forwards"},children:(0,s.jsx)(yt,{})})]})]})};var Ct=r(9216),St=r(4539),At=r(665),Dt=r(2957),Tt=r(5226),Pt=r(7870),Mt=r(690),Ot=function(){return Ot=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Ot.apply(this,arguments)},Et=function(e,t,r,s){return new(r||(r=Promise))((function(n,a){function i(e){try{l(s.next(e))}catch(e){a(e)}}function o(e){try{l(s.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))},Lt=function(e,t){var r,s,n,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(r=1,s&&(n=2&o[0]?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Rt=function(e,t,r){if(r||2===arguments.length)for(var s,n=0,a=t.length;n<a;n++)!s&&n in t||(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},Ft=[{id:"workout1",name:"First Workout",completed:!1,iconName:"Dumbbell"},{id:"alcohol",name:"No Alcohol",completed:!1,iconName:"X"},{id:"workout2",name:"Second Workout",completed:!1,iconName:"Sun"},{id:"reading",name:"Read 10 pages",completed:!1,iconName:"BookOpen"},{id:"diet",name:"Follow a healthy diet",completed:!1,iconName:"Utensils"},{id:"water",name:"Drink water",completed:!1,iconName:"Droplets"}],It={Dumbbell:Ct.A,X:v.A,Sun:St.A,BookOpen:At.A,Utensils:Dt.A,Droplets:Tt.A,Plus:Se.A,Flame:Pt.A,Circle:Mt.A},Ut=["Dumbbell","X","Sun","BookOpen","Utensils","Droplets","Flame","Circle"];function Ht(){var e=this,t=(0,n.useState)([]),r=t[0],a=t[1],i=(0,n.useState)(0),o=i[0],l=i[1],c=(0,n.useState)(null),d=c[0],u=c[1],h=(0,n.useState)(!0),x=h[0],m=h[1],b=(0,n.useState)(!1),p=b[0],g=b[1],f=(0,n.useState)(null),v=f[0],y=f[1],j=(0,n.useState)(""),w=j[0],N=j[1];(0,n.useEffect)((function(){k()}),[]),(0,n.useEffect)((function(){if(0!==r.length){var e=function(){var e=(new Date).toDateString();localStorage.getItem("habit-date")!==e&&(C(),localStorage.setItem("habit-date",e))};e();var t=setInterval(e,6e4);return function(){return clearInterval(t)}}}),[r]);var k=function(){return Et(e,void 0,void 0,(function(){var e,t,r,s,n,i,o,c;return Lt(this,(function(d){switch(d.label){case 0:return d.trys.push([0,12,13,14]),m(!0),[4,G.load("habit-structure")];case 1:return e=d.sent(),[4,G.load("habits")];case 2:return t=d.sent(),[4,G.load("habit-streak")];case 3:return r=d.sent(),[4,G.load("last-completed-date")];case 4:return s=d.sent(),n=[],e?(n=e,console.log("Loaded habit structure from storage:",n),[3,9]):[3,5];case 5:return t?(n=t,[4,G.save("habit-structure",n)]):[3,7];case 6:return d.sent(),console.log("Migrated habits to new structure:",n),[3,9];case 7:return n=Ft,[4,G.save("habit-structure",n)];case 8:d.sent(),console.log("First time setup with defaults:",n),d.label=9;case 9:return i=(new Date).toDateString(),[4,G.load("day-data-".concat(i))];case 10:return o=d.sent(),n=o&&o.habits?n.map((function(e){return Ot(Ot({},e),{completed:o.habits.includes(e.name)})})):n.map((function(e){return Ot(Ot({},e),{completed:!1})})),a(n),[4,G.save("habits",n)];case 11:return d.sent(),r&&l(r),s&&u(s),[3,14];case 12:return c=d.sent(),console.error("Error initializing habits:",c),a(Ft),[3,14];case 13:return m(!1),[7];case 14:return[2]}}))}))},C=function(){return Et(e,void 0,void 0,(function(){var e,t,s,n,i;return Lt(this,(function(o){switch(o.label){case 0:return(new Date).toDateString(),e=new Date(Date.now()-864e5).toDateString(),(t=r.filter((function(e){return e.completed}))).length>0?(i={date:e,habits:t.map((function(e){return e.name}))},[4,G.load("focus-sessions")]):[3,3];case 1:return i.focusSessions=o.sent()||0,i.snusStatus="pending",i.allHabitsCompleted=t.length===r.length,s=i,[4,G.save("day-data-".concat(e),s)];case 2:o.sent(),o.label=3;case 3:return n=r.map((function(e){return Ot(Ot({},e),{completed:!1})})),a(n),[4,G.save("habits",n)];case 4:return o.sent(),console.log("Daily habits reset for new day"),[2]}}))}))},S=function(t){return Et(e,void 0,void 0,(function(){return Lt(this,(function(e){switch(e.label){case 0:return[4,G.save("habit-structure",t)];case 1:return e.sent(),[4,G.save("habits",t)];case 2:return e.sent(),[2]}}))}))},A=function(){return Et(e,void 0,void 0,(function(){var e,t;return Lt(this,(function(s){switch(s.label){case 0:return w.trim()?(e={id:"habit-".concat(Date.now()),name:w.trim(),completed:!1,iconName:"Circle"},t=Rt(Rt([],r,!0),[e],!1),a(t),[4,S(t)]):[2];case 1:return s.sent(),N(""),[2]}}))}))},D=function(t,s){return Et(e,void 0,void 0,(function(){var e;return Lt(this,(function(n){switch(n.label){case 0:return s.trim()?(e=r.map((function(e){return e.id===t?Ot(Ot({},e),{name:s.trim()}):e})),a(e),[4,S(e)]):[2];case 1:return n.sent(),y(null),[2]}}))}))};if(x)return(0,s.jsx)(we,{className:"bg-black/60 backdrop-blur-xl border border-white/10 shadow-2xl rounded-3xl overflow-hidden",children:(0,s.jsx)(Ce,{className:"p-8",children:(0,s.jsx)("div",{className:"flex items-center justify-center h-40",children:(0,s.jsx)("div",{className:"text-white/70",children:"Loading habits..."})})})});var T=r.filter((function(e){return e.completed})).length,P=r.length>0?T/r.length*100:0,M=2*Math.PI*45,O=M,E=M-P/100*M;return(0,s.jsx)(we,{className:"bg-black/40 backdrop-blur-xl border border-white/10 shadow-2xl rounded-3xl overflow-hidden",children:(0,s.jsxs)(Ce,{className:"p-8",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-3xl font-semibold text-white mb-2",children:"Tasks"}),(0,s.jsx)("p",{className:"text-gray-400 text-lg",children:T===r.length&&r.length>0?"Perfect day! 🎉":"Great start to the day"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("button",{onClick:function(){g(!p),y(null),N("")},className:"p-3 rounded-full transition-all duration-200 ".concat(p?"bg-blue-500 text-white":"bg-white/10 text-white/70 hover:bg-white/20"),children:(0,s.jsx)(Z.A,{className:"h-4 w-4"})}),(0,s.jsxs)("div",{className:"relative w-20 h-20",children:[(0,s.jsxs)("svg",{className:"w-20 h-20 transform -rotate-90",viewBox:"0 0 100 100",children:[(0,s.jsx)("circle",{cx:"50",cy:"50",r:45,stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-gray-700"}),(0,s.jsx)("circle",{cx:"50",cy:"50",r:45,stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:O,strokeDashoffset:E,className:"text-white transition-all duration-300 ease-in-out",strokeLinecap:"round"})]}),(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsxs)("span",{className:"text-white text-xl font-semibold",children:[T,"/",r.length]})})]})]})]}),p&&(0,s.jsx)("div",{className:"mb-6 p-4 bg-white/5 rounded-2xl border border-white/10",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("input",{type:"text",value:w,onChange:function(e){return N(e.target.value)},placeholder:"Enter new habit name...",className:"flex-1 bg-black/30 text-white placeholder-white/50 border border-white/20 rounded-full px-4 py-2 focus:outline-none focus:border-blue-400",onKeyPress:function(e){return"Enter"===e.key&&A()}}),(0,s.jsx)("button",{onClick:A,disabled:!w.trim(),className:"bg-blue-500 hover:bg-blue-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white p-2 rounded-full transition-colors",children:(0,s.jsx)(Se.A,{className:"h-4 w-4"})})]})}),(0,s.jsx)("div",{className:"grid gap-4 ".concat(r.length>6?"grid-cols-3":"grid-cols-2"),children:r.map((function(t){var n=It[t.iconName]||Mt.A,i=v===t.id,c=r.length>6;return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{onClick:function(){return!p&&(s=t.id,Et(e,void 0,void 0,(function(){var t,n,i,c,h,x,m,b,g,f;return Lt(this,(function(v){switch(v.label){case 0:return p?[2]:(t=r.map((function(e){return e.id===s?Ot(Ot({},e),{completed:!e.completed}):e})),a(t),[4,G.save("habits",t)]);case 1:return v.sent(),n=(new Date).toISOString().split("T")[0],i=t.filter((function(e){return e.completed})),c=i.length===t.length,[4,G.load("focus-sessions")];case 2:return h=v.sent()||0,[4,G.load("snus-data")];case 3:return x=v.sent()||{dailyCount:0},[4,G.load("daily-logs")];case 4:return(m=v.sent()||{})[n]={date:n,habitsCompleted:i.length,focusSessions:h,snusCount:x.dailyCount,completedHabits:i.map((function(e){return e.name}))},[4,G.save("daily-logs",m)];case 5:return v.sent(),b=(new Date).toDateString(),g={date:b,habits:i.map((function(e){return e.name})),focusSessions:h,snusStatus:"pending",snusCount:x.dailyCount,allHabitsCompleted:c},[4,G.save("day-data-".concat(b),g)];case 6:return v.sent(),f=t.map((function(e){return Ot(Ot({},e),{completedAt:e.completed?(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):void 0})})),[4,G.save("habit-details-".concat(b),f)];case 7:return v.sent(),window.dispatchEvent(new CustomEvent("dailyLogsUpdated")),c?[4,Et(e,void 0,void 0,(function(){var e,t,r;return Lt(this,(function(s){switch(s.label){case 0:return e=(new Date).toDateString(),t=new Date(Date.now()-864e5).toDateString(),d!==t&&null!==d?[3,3]:(l(r=o+1),u(e),[4,G.save("habit-streak",r)]);case 1:return s.sent(),[4,G.save("last-completed-date",e)];case 2:return s.sent(),[3,6];case 3:return d===e?[3,6]:(l(1),u(e),[4,G.save("habit-streak",1)]);case 4:return s.sent(),[4,G.save("last-completed-date",e)];case 5:s.sent(),s.label=6;case 6:return[2]}}))}))]:[3,9];case 8:v.sent(),v.label=9;case 9:return[2]}}))})));var s},className:"relative flex items-center space-x-3 rounded-full transition-all duration-200 w-full ".concat(c?"px-4 py-3":"px-6 py-4"," ").concat(p?"cursor-default":"hover:scale-105"," ").concat(t.completed&&!p?"bg-white text-black shadow-lg":"bg-gray-800/60 text-white/70 hover:bg-gray-700/60"),children:[(0,s.jsx)("div",{className:"rounded-full ".concat(c?"p-1.5":"p-2"," ").concat(t.completed&&!p?"bg-black":"bg-white/20"," ").concat(p?"cursor-pointer":""),onClick:p?function(s){s.stopPropagation();var n,i,o=(Ut.indexOf(t.iconName)+1)%Ut.length;n=t.id,i=Ut[o],Et(e,void 0,void 0,(function(){var e;return Lt(this,(function(t){switch(t.label){case 0:return e=r.map((function(e){return e.id===n?Ot(Ot({},e),{iconName:i}):e})),a(e),[4,S(e)];case 1:return t.sent(),[2]}}))}))}:void 0,children:(0,s.jsx)(n,{className:"".concat(c?"h-4 w-4":"h-5 w-5"," ").concat(t.completed&&!p?"text-white":"text-white/70")})}),i?(0,s.jsx)("input",{type:"text",defaultValue:t.name,autoFocus:!0,onBlur:function(e){return D(t.id,e.target.value)},onKeyPress:function(e){"Enter"===e.key&&D(t.id,e.currentTarget.value)},onClick:function(e){return e.stopPropagation()},className:"flex-1 bg-transparent font-medium text-left border-none outline-none ".concat(c?"text-xs":"text-sm")}):(0,s.jsx)("span",{className:"font-medium flex-1 text-left ".concat(c?"text-xs":"text-sm"," ").concat(t.completed&&!p?"text-black":"text-white/90"," ").concat(p?"cursor-pointer":""),onClick:p?function(e){e.stopPropagation(),y(t.id)}:void 0,children:t.name}),t.completed&&!p&&(0,s.jsx)(R.A,{className:"text-black ml-auto ".concat(c?"h-5 w-5":"h-6 w-6")})]}),p&&(0,s.jsx)("button",{onClick:function(){return s=t.id,Et(e,void 0,void 0,(function(){var e;return Lt(this,(function(t){switch(t.label){case 0:return e=r.filter((function(e){return e.id!==s})),a(e),[4,S(e)];case 1:return t.sent(),[2]}}))}));var s},className:"absolute bg-red-500 hover:bg-red-600 text-white rounded-full transition-colors shadow-lg ".concat(c?"-top-1 -right-1 p-1":"-top-2 -right-2 p-1.5"),children:(0,s.jsx)(se.A,{className:c?"h-2.5 w-2.5":"h-3 w-3"})})]},t.id)}))})]})})}var Bt=r(5731),Wt=r(8834),zt=function(){return zt=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},zt.apply(this,arguments)},Gt=function(e,t,r,s){return new(r||(r=Promise))((function(n,a){function i(e){try{l(s.next(e))}catch(e){a(e)}}function o(e){try{l(s.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))},Xt=function(e,t){var r,s,n,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(r=1,s&&(n=2&o[0]?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Yt=function(e,t,r){if(r||2===arguments.length)for(var s,n=0,a=t.length;n<a;n++)!s&&n in t||(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))};function qt(){var e=this,t=(0,n.useState)(1500),r=t[0],a=t[1],i=(0,n.useState)(!1),o=i[0],l=i[1],c=(0,n.useState)(!1),d=c[0],u=c[1],h=(0,n.useState)(0),x=h[0],m=h[1],b=(0,n.useState)(null),p=b[0],g=b[1],f=(0,n.useState)(0),v=f[0],y=f[1],j=(0,n.useRef)(1500),w=(0,n.useRef)(null),N=function(e){if(!e.isRunning||!e.startTime)return e.duration;var t=Date.now(),r=Math.floor((t-e.startTime)/1e3);return Math.max(0,e.duration-r)},k=function(){return Gt(e,void 0,Promise,(function(){var e,t;return Xt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,G.load("timer-state")];case 1:return(e=r.sent())?[2,e]:[3,3];case 2:return t=r.sent(),console.error("Error loading timer state:",t),[3,3];case 3:return[2,{startTime:null,duration:1500,isRunning:!1,isBreak:!1,pausedTime:0}]}}))}))},C=function(t){return Gt(e,void 0,void 0,(function(){var e;return Xt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,G.save("timer-state",t)];case 1:return r.sent(),[3,3];case 2:return e=r.sent(),console.error("Error saving timer state:",e),[3,3];case 3:return[2]}}))}))};(0,n.useEffect)((function(){Gt(e,void 0,void 0,(function(){var e,t;return Xt(this,(function(r){switch(r.label){case 0:return[4,k()];case 1:return e=r.sent(),t=N(e),a(t),l(e.isRunning),u(e.isBreak),g(e.startTime),y(e.pausedTime),e.isRunning&&t<=0&&P(),[2]}}))}))}),[]),(0,n.useEffect)((function(){return o&&p?w.current=setInterval((function(){var e=Date.now(),t=Math.floor((e-p)/1e3),r=Math.max(0,j.current-t);a(r),r<=0&&P()}),1e3):w.current&&(clearInterval(w.current),w.current=null),function(){w.current&&clearInterval(w.current)}}),[o,p]),(0,n.useEffect)((function(){var t=function(){return Gt(e,void 0,void 0,(function(){var e,t;return Xt(this,(function(r){switch(r.label){case 0:return!document.hidden&&o&&p?[4,k()]:[3,2];case 1:e=r.sent(),t=N(e),a(t),t<=0&&P(),r.label=2;case 2:return[2]}}))}))};return document.addEventListener("visibilitychange",t),function(){document.removeEventListener("visibilitychange",t)}}),[o,p]),(0,n.useEffect)((function(){Gt(e,void 0,void 0,(function(){var e,t;return Xt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,G.load("focus-sessions")];case 1:return(e=r.sent())&&m(e),[3,3];case 2:return t=r.sent(),console.error("Error loading focus sessions:",t),[3,3];case 3:return[2]}}))}))}),[]);var S,A,D,T,P=function(){return Gt(e,void 0,void 0,(function(){var e,t,r,s,n,i,o,c,h,b;return Xt(this,(function(p){switch(p.label){case 0:return l(!1),g(null),y(0),d?[3,9]:(m(e=x+1),[4,G.save("focus-sessions",e)]);case 1:return p.sent(),t=(new Date).toDateString(),r=(new Date).toISOString().split("T")[0],[4,G.load("daily-logs")];case 2:return s=p.sent()||{},n=s[r]||{date:r,habitsCompleted:0,focusSessions:0,snusCount:0},s[r]=zt(zt({},n),{focusSessions:e}),[4,G.save("daily-logs",s)];case 3:return p.sent(),[4,G.load("day-data-".concat(t))];case 4:return i=p.sent()||{},o=zt(zt({},i),{date:t,focusSessions:e,habits:i.habits||[],snusStatus:i.snusStatus||"pending",snusCount:i.snusCount||0,allHabitsCompleted:i.allHabitsCompleted||!1}),[4,G.save("day-data-".concat(t),o)];case 5:return p.sent(),[4,G.load("focus-details-".concat(t))];case 6:return c=p.sent()||[],h={time:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),duration:25},b=Yt(Yt([],c,!0),[h],!1),[4,G.save("focus-details-".concat(t),b)];case 7:return p.sent(),window.dispatchEvent(new CustomEvent("dailyLogsUpdated")),u(!1),a(1500),[4,C({startTime:null,duration:1500,isRunning:!1,isBreak:!1,pausedTime:0})];case 8:return p.sent(),[3,11];case 9:return u(!1),a(1500),[4,C({startTime:null,duration:1500,isRunning:!1,isBreak:!1,pausedTime:0})];case 10:p.sent(),p.label=11;case 11:return[2]}}))}))},M=2*Math.PI*45,O=M,E=M-((S=d?300:1500)-r)/S*100/100*M;return(0,s.jsx)(we,{className:"bg-black/60 backdrop-blur-xl border border-white/10 shadow-2xl rounded-3xl overflow-hidden",children:(0,s.jsxs)(Ce,{className:"p-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-white mb-1",children:"Focus Timer"}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:d?"Break Time 🧘":"Deep Work Session 🎯"})]}),(0,s.jsxs)("div",{className:"relative w-20 h-20",children:[(0,s.jsxs)("svg",{className:"w-20 h-20 transform -rotate-90",viewBox:"0 0 100 100",children:[(0,s.jsx)("circle",{cx:"50",cy:"50",r:45,stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-gray-700"}),(0,s.jsx)("circle",{cx:"50",cy:"50",r:45,stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:O,strokeDashoffset:E,className:"transition-all duration-300 ease-in-out ".concat(d?"text-green-400":"text-blue-400"),strokeLinecap:"round"})]}),(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)(te.A,{className:"h-6 w-6 ".concat(d?"text-green-400":"text-blue-400")})})]})]}),(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("div",{className:"text-5xl font-light mb-2 ".concat(d?"text-green-400":"text-blue-400"),children:(A=r,D=Math.floor(A/60),T=A%60,"".concat(D.toString().padStart(2,"0"),":").concat(T.toString().padStart(2,"0")))}),(0,s.jsxs)("div",{className:"text-sm text-gray-400",children:[d?"Time for a break!":"Stay focused",o&&(0,s.jsx)("span",{className:"ml-2 text-green-400",children:"• Running in background"})]})]}),(0,s.jsx)("div",{className:"flex space-x-3 mb-6",children:o?(0,s.jsxs)($,{onClick:function(){return Gt(e,void 0,void 0,(function(){var e;return Xt(this,(function(t){switch(t.label){case 0:return p?(e=N({startTime:p,duration:d?300:1500,isRunning:!0,isBreak:d,pausedTime:v}),l(!1),a(e),g(null),y(0),[4,C({startTime:null,duration:e,isRunning:!1,isBreak:d,pausedTime:0})]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},className:"flex-1 bg-orange-500/20 hover:bg-orange-500/30 border border-orange-500/30 text-orange-400 rounded-2xl py-3",children:[(0,s.jsx)(Wt.A,{className:"h-4 w-4 mr-2"}),"Stop"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)($,{onClick:function(){return Gt(e,void 0,void 0,(function(){var e;return Xt(this,(function(t){switch(t.label){case 0:return u(!1),a(1500),e=Date.now(),j.current=1500,l(!0),g(e),y(0),[4,C({startTime:e,duration:1500,isRunning:!0,isBreak:!1,pausedTime:0})];case 1:return t.sent(),[2]}}))}))},className:"flex-1 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-500/30 text-blue-400 rounded-2xl py-3",children:[(0,s.jsx)(Bt.A,{className:"h-4 w-4 mr-2"}),"Focus (25min)"]}),(0,s.jsxs)($,{onClick:function(){return Gt(e,void 0,void 0,(function(){var e;return Xt(this,(function(t){switch(t.label){case 0:return u(!0),a(300),e=Date.now(),j.current=300,l(!0),g(e),y(0),[4,C({startTime:e,duration:300,isRunning:!0,isBreak:!0,pausedTime:0})];case 1:return t.sent(),[2]}}))}))},className:"flex-1 bg-green-500/20 hover:bg-green-500/30 border border-green-500/30 text-green-400 rounded-2xl py-3",children:[(0,s.jsx)(Bt.A,{className:"h-4 w-4 mr-2"}),"Break (5min)"]})]})}),(0,s.jsxs)("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-400 mb-1",children:x}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"Focus Sessions Today"}),x>0&&(0,s.jsxs)("div",{className:"text-xs text-green-400 mt-1",children:["+",25*x," XP earned! 🚀"]})]})]})})}function Vt(e){var t=this,r=e.isOpen,a=e.onClose,i=e.dayData,o=e.userConfig,l=(0,n.useState)([]),c=(l[0],l[1]),u=(0,n.useState)([]),h=u[0],x=u[1],m=(0,n.useState)([]),b=m[0],p=m[1];(0,n.useEffect)((function(){i&&r&&g()}),[i,r]);var g=function(){return e=t,r=void 0,n=function(){var e,t,r,s;return function(e,t){var r,s,n,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(r=1,s&&(n=2&o[0]?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(n){switch(n.label){case 0:if(!i)return[2];n.label=1;case 1:return n.trys.push([1,5,,6]),[4,G.load("habit-details-".concat(i.date))];case 2:return e=n.sent()||[],c(e),[4,G.load("snus-timestamps-".concat(i.date))];case 3:return t=n.sent()||[],x(t),[4,G.load("focus-details-".concat(i.date))];case 4:return r=n.sent()||[],p(r),[3,6];case 5:return s=n.sent(),console.error("Error loading day details:",s),[3,6];case 6:return[2]}}))},new((s=void 0)||(s=Promise))((function(t,a){function i(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var r;e.done?t(e.value):(r=e.value,r instanceof s?r:new s((function(e){e(r)}))).then(i,o)}l((n=n.apply(e,r||[])).next())}));var e,r,s,n},f=function(e){var t=Math.floor(e/60),r=e%60;return t>0?"".concat(t,"h ").concat(r,"m"):"".concat(r,"m")},v=function(){if(!o)return"Habit";if(o.addictionName&&o.addictionName.trim())return o.addictionName;switch(o.addictionType){case"snus":return"Snus";case"tobacco":return"Cigarette";case"alcohol":return"Drink";case"gambling":return"Gambling";default:return"Habit"}};if(!i)return null;var y,j,N,k=i?"success"===i.snusStatus?{text:"Clean Day",color:"bg-green-500/20 text-green-400 border-green-500/30",emoji:"🌟"}:"failed"===i.snusStatus?{text:"Over Limit",color:"bg-red-500/20 text-red-400 border-red-500/30",emoji:"😔"}:{text:"Within Limit",color:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",emoji:"⚠️"}:{text:"",color:"",emoji:""},D=b.reduce((function(e,t){return e+t.duration}),0);return(0,s.jsx)(w,{open:r,onOpenChange:a,children:(0,s.jsxs)(C,{className:"max-w-2xl bg-black/90 backdrop-blur-xl border border-white/20 text-white rounded-3xl",children:[(0,s.jsx)(S,{children:(0,s.jsxs)(A,{className:"text-2xl font-bold text-white flex items-center space-x-2",children:[(0,s.jsx)(He.A,{className:"h-6 w-6 text-blue-400"}),(0,s.jsx)("span",{children:(y=i.date,j=new Date(y),N=new Date,j.toDateString()===N.toDateString()?"Today":j.toDateString()===new Date(N.getTime()-864e5).toDateString()?"Yesterday":j.toLocaleDateString([],{weekday:"long",month:"long",day:"numeric"}))}),i.allHabitsCompleted&&(0,s.jsx)("span",{className:"text-green-400",children:"✨"})]})}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 text-center",children:[(0,s.jsx)(ee.A,{className:"h-6 w-6 text-blue-400 mx-auto mb-2"}),(0,s.jsx)("div",{className:"text-lg font-bold text-white",children:i.habits.length}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"Habits Completed"})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 text-center",children:[(0,s.jsx)(te.A,{className:"h-6 w-6 text-green-400 mx-auto mb-2"}),(0,s.jsx)("div",{className:"text-lg font-bold text-white",children:i.focusSessions}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"Focus Sessions"})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 text-center",children:[(0,s.jsx)(Pt.A,{className:"h-6 w-6 text-orange-400 mx-auto mb-2"}),(0,s.jsx)("div",{className:"text-lg font-bold text-white",children:i.snusCount}),(0,s.jsxs)("div",{className:"text-xs text-gray-400",children:[v()," Count"]})]})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4",children:[(0,s.jsxs)("h3",{className:"font-semibold text-white mb-3 flex items-center",children:[(0,s.jsx)("span",{className:"mr-2",children:function(){if(!o)return"🚭";switch(o.addictionType){case"snus":default:return"🚭";case"tobacco":return"🚬";case"alcohol":return"🍺";case"gambling":return"🎰";case"other":return"🎯"}}()}),v()," Status"]}),(0,s.jsxs)("div",{className:"inline-flex items-center px-3 py-2 rounded-full border text-sm font-medium ".concat(k.color),children:[(0,s.jsx)("span",{className:"mr-2",children:k.emoji}),k.text,i.snusCount>0&&(0,s.jsxs)("span",{className:"ml-2",children:["(",i.snusCount," taken)"]})]}),h.length>0&&(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsx)("div",{className:"text-xs text-gray-400 mb-2",children:"Timeline:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:h.map((function(e,t){return(0,s.jsx)("span",{className:"text-xs bg-red-500/20 text-red-400 px-2 py-1 rounded",children:e},t)}))})]})]}),i.habits.length>0&&(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4",children:[(0,s.jsxs)("h3",{className:"font-semibold text-white mb-3 flex items-center",children:[(0,s.jsx)(R.A,{className:"h-5 w-5 text-green-400 mr-2"}),"Completed Habits",i.allHabitsCompleted&&(0,s.jsx)(O,{className:"ml-2 bg-green-500/20 text-green-400 border-green-500/30",children:"Perfect Day!"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:i.habits.map((function(e,t){return(0,s.jsxs)("div",{className:"flex items-center space-x-2 bg-green-500/10 border border-green-500/30 rounded-lg p-2",children:[(0,s.jsx)(R.A,{className:"h-4 w-4 text-green-400"}),(0,s.jsx)("span",{className:"text-sm text-white",children:e})]},t)}))})]}),i.focusSessions>0&&(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4",children:[(0,s.jsxs)("h3",{className:"font-semibold text-white mb-3 flex items-center",children:[(0,s.jsx)(te.A,{className:"h-5 w-5 text-blue-400 mr-2"}),"Focus Sessions",(0,s.jsx)(O,{className:"ml-2 bg-blue-500/20 text-blue-400 border-blue-500/30",children:D>0?f(D):"".concat(i.focusSessions," sessions")})]}),b.length>0?(0,s.jsx)("div",{className:"space-y-2",children:b.map((function(e,t){return(0,s.jsxs)("div",{className:"flex items-center justify-between bg-blue-500/10 border border-blue-500/30 rounded-lg p-2",children:[(0,s.jsxs)("span",{className:"text-sm text-white",children:["Session ",t+1]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-blue-400",children:[(0,s.jsx)("span",{children:e.time}),(0,s.jsx)("span",{children:"•"}),(0,s.jsx)("span",{children:f(e.duration)})]})]},t)}))}):(0,s.jsxs)("div",{className:"text-sm text-gray-400",children:[i.focusSessions," focus session",i.focusSessions>1?"s":""," completed"]})]}),(0,s.jsx)("div",{className:"bg-gradient-to-r from-purple-500/10 via-blue-500/10 to-green-500/10 border border-purple-500/20 rounded-xl p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(d.A,{className:"h-5 w-5 text-purple-400"}),(0,s.jsx)("span",{className:"font-medium text-white",children:"Day Assessment"})]}),(0,s.jsx)("div",{className:"text-sm text-gray-300",children:i.allHabitsCompleted&&"success"===i.snusStatus?"🏆 Perfect Day!":i.habits.length>=3?"✅ Good Day":"📈 Room for Improvement"})]})})]})]})})}function Kt(){var e=this,t=(0,n.useState)([]),r=t[0],a=t[1],i=(0,n.useState)(!0),o=i[0],l=i[1];(0,n.useEffect)((function(){c();var e=function(){c()};return window.addEventListener("dailyLogsUpdated",e),function(){window.removeEventListener("dailyLogsUpdated",e)}}),[]);var c=function(){return t=e,r=void 0,i=function(){var e,t,r,n,i,o,c,h,x,m,b,p;return function(e,t){var r,s,n,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(r=1,s&&(n=2&o[0]?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(g){switch(g.label){case 0:return g.trys.push([0,2,,3]),[4,G.load("daily-logs")];case 1:return e=g.sent()||{},t=Object.values(e),r=d(t),n=t.reduce((function(e,t){return e+t.habitsCompleted}),0),i=t.reduce((function(e,t){return e+t.focusSessions}),0),o=Math.round(25*i/60),c=t.filter((function(e){return 0===e.snusCount})).length,h=t.length,x=h>0?Math.round(c/h*100):0,m=u(t),b=[{id:"current-streak",title:"Current Streak",value:r,icon:(0,s.jsx)(Pt.A,{className:"h-4 w-4"}),color:"from-orange-500 to-red-500",suffix:"days",subtitle:"".concat(m," best")},{id:"focus-hours",title:"Focus Hours",value:o,icon:(0,s.jsx)(te.A,{className:"h-4 w-4"}),color:"from-blue-500 to-cyan-500",suffix:"hrs",subtitle:"".concat(i," sessions")},{id:"total-habits",title:"Total Habits",value:n,icon:(0,s.jsx)(ee.A,{className:"h-4 w-4"}),color:"from-green-500 to-emerald-500",suffix:"",subtitle:"completed"},{id:"clean-days",title:"Clean Days",value:c,icon:(0,s.jsx)(L.A,{className:"h-4 w-4"}),color:"from-purple-500 to-pink-500",suffix:"",subtitle:"".concat(x,"% rate")}],a(b),l(!1),[3,3];case 2:return p=g.sent(),console.error("Error loading power stats:",p),l(!1),[3,3];case 3:return[2]}}))},new((n=void 0)||(n=Promise))((function(e,s){function a(e){try{l(i.next(e))}catch(e){s(e)}}function o(e){try{l(i.throw(e))}catch(e){s(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(a,o)}l((i=i.apply(t,r||[])).next())}));var t,r,n,i},d=function(e){if(0===e.length)return 0;for(var t=e.sort((function(e,t){return new Date(t.date).getTime()-new Date(e.date).getTime()})),r=0,s=(new Date).toISOString().split("T")[0],n=function(e){return 2*e.habitsCompleted+1*e.focusSessions-1*e.snusCount},a=0,i=t;a<i.length;a++){var o=i[a],l=n(o);if(!(o.date===s&&l<3)){if(!(l>=3))break;r++}}return r},u=function(e){if(0===e.length)return 0;for(var t=0,r=0,s=0,n=e.sort((function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()}));s<n.length;s++)2*(a=n[s]).habitsCompleted+1*a.focusSessions-1*a.snusCount>=3?(r++,t=Math.max(t,r)):r=0;var a;return t};return o?(0,s.jsx)("div",{className:"flex space-x-4",children:[1,2,3,4].map((function(e){return(0,s.jsxs)("div",{className:"bg-white/5 rounded-xl px-4 py-3 flex-1 animate-pulse",children:[(0,s.jsx)("div",{className:"h-4 bg-white/10 rounded mb-2"}),(0,s.jsx)("div",{className:"h-6 bg-white/10 rounded"})]},e)}))}):(0,s.jsx)("div",{className:"grid grid-cols-4 gap-3",children:r.map((function(e){return(0,s.jsx)("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl px-3 py-3 hover:bg-white/10 transition-all group",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r ".concat(e.color," rounded-lg flex items-center justify-center text-white flex-shrink-0"),children:e.icon}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsx)("div",{className:"text-xs text-gray-400 font-medium",children:e.title}),(0,s.jsxs)("div",{className:"text-lg font-bold text-white",children:[e.value.toLocaleString(),e.suffix&&(0,s.jsx)("span",{className:"text-xs ml-1 opacity-70",children:e.suffix})]})]})]})},e.id)}))})}var Jt=function(){return Jt=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Jt.apply(this,arguments)},_t=function(e,t,r,s){return new(r||(r=Promise))((function(n,a){function i(e){try{l(s.next(e))}catch(e){a(e)}}function o(e){try{l(s.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))},$t=function(e,t){var r,s,n,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(r=1,s&&(n=2&o[0]?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};function Zt(e){var t=this,r=e.userConfig,a=(0,n.useState)([]),i=a[0],o=a[1],l=(0,n.useState)(0),c=l[0],d=l[1],u=(0,n.useState)(null),h=u[0],x=u[1],m=(0,n.useState)(!1),b=m[0],p=m[1],g=function(){if(!(null==r?void 0:r.hasAddiction))return"Habit";if(r.addictionName)return r.addictionName;switch(r.addictionType){case"snus":default:return"Snus";case"tobacco":return"Cigarette";case"alcohol":return"Drink";case"gambling":return"Gambling";case"other":return"Habit"}},f=function(){if(!(null==r?void 0:r.hasAddiction))return"🚭";switch(r.addictionType){case"snus":default:return"🚭";case"tobacco":return"🚬";case"alcohol":return"🍺";case"gambling":return"🎰";case"other":return"🎯"}};(0,n.useEffect)((function(){y();var e=null,t=function(){e&&clearTimeout(e),e=setTimeout((function(){y()}),300)};window.addEventListener("dailyLogsUpdated",t);var r=setInterval((function(){var e=(new Date).toDateString();localStorage.getItem("weekly-overview-date")!==e&&(localStorage.setItem("weekly-overview-date",e),y())}),3e4);return function(){window.removeEventListener("dailyLogsUpdated",t),clearInterval(r),e&&clearTimeout(e)}}),[]);var v,y=function(){return _t(t,void 0,void 0,(function(){var e,r,s,n,a,i,l,c,u,h,x,m,b,p,g;return $t(this,(function(f){switch(f.label){case 0:return f.trys.push([0,8,,9]),e=[],r=new Date,[4,G.load("daily-logs")];case 1:s=f.sent()||{},new Date,n=6,f.label=2;case 2:return n>=0?((a=new Date(r)).setDate(r.getDate()-n),i=a.toDateString(),l=a.toISOString().split("T")[0],0!==n?[3,4]:[4,_t(t,void 0,void 0,(function(){var e,t,r,s,n,a,i,o,l,c,d,u,h,x;return $t(this,(function(m){switch(m.label){case 0:return e=(new Date).toDateString(),t=(new Date).toISOString().split("T")[0],[4,G.load("day-data-".concat(e))];case 1:return r=m.sent(),[4,G.load("daily-logs")];case 2:return s=m.sent()||{},r&&r.lastManualEdit&&(n=new Date(r.lastManualEdit),(new Date).getTime()-n.getTime()<3e5)?[2,r]:[4,G.load("habits")];case 3:return a=m.sent()||[],i=a.filter((function(e){return e.completed})),o=a.length>0&&i.length===a.length,[4,G.load("focus-sessions")];case 4:return l=m.sent()||0,[4,G.load("snus-data")];case 5:return c=m.sent()||{dailyCount:0,totalDays:0,successfulDays:0,failedDays:0,currentStreak:0,lastDate:""},d=c.dailyCount,u="pending",c.lastDate===e?(d=c.dailyCount,u=0===d?"success":d<=5?"pending":"failed"):r&&"number"==typeof r.snusCount?(d=r.snusCount,u=r.snusStatus||"pending"):s[t]&&"number"==typeof s[t].snusCount?(d=s[t].snusCount,u=0===d?"success":d<=5?"pending":"failed"):(d=c.dailyCount,u=0===d?"success":"pending"),[4,G.load("daily-logs")];case 6:return(h=m.sent()||{})[t]&&h[t].snusCount?[3,8]:(h[t]=Jt({date:t,habitsCompleted:i.length,focusSessions:l,snusCount:d},h[t]||{}),[4,G.save("daily-logs",h)]);case 7:m.sent(),m.label=8;case 8:return x=Jt({date:e,habits:i.map((function(e){return e.name})),focusSessions:l,snusStatus:u,snusCount:d,allHabitsCompleted:o},r||{}),[4,G.save("day-data-".concat(e),x)];case 9:return m.sent(),window.dispatchEvent(new CustomEvent("dailyLogsUpdated")),[2,x]}}))}))]):[3,7];case 3:f.sent(),f.label=4;case 4:return[4,G.load("day-data-".concat(i))];case 5:if(!(c=f.sent()))if(u=s[l]){if("pending",x="number"==typeof u.snusCount?u.snusCount:0,h=0===x?"success":x<=5?"pending":"failed",m=void 0,u.completedHabits&&u.completedHabits.length>0)m=u.completedHabits;else for(m=[],b=0;b<u.habitsCompleted;b++)m.push("Habit ".concat(b+1));c={date:i,habits:m,focusSessions:u.focusSessions||0,snusStatus:h,snusCount:x,allHabitsCompleted:!1}}else c={date:i,habits:[],focusSessions:0,snusStatus:"pending",snusCount:0,allHabitsCompleted:!1};c&&"number"!=typeof c.snusCount&&(c.snusCount=0),e.push(c),f.label=6;case 6:return n--,[3,2];case 7:return o(e),p=j(Object.values(s)),d(p),[3,9];case 8:return g=f.sent(),console.error("Error loading weekly data:",g),[3,9];case 9:return[2]}}))}))},j=function(e){if(0===e.length)return 0;for(var t=e.sort((function(e,t){return new Date(t.date).getTime()-new Date(e.date).getTime()})),r=(new Date).toISOString().split("T")[0],s=0,n=function(e){return 2*e.habitsCompleted+1*e.focusSessions-1*e.snusCount},a=0,i=t;a<i.length;a++){var o=i[a],l=n(o);if(!(o.date===r&&l<3)){if(!(l>=3))break;s++}}return s};return(0,s.jsxs)(we,{className:"bg-black/60 backdrop-blur-xl border border-white/10 shadow-2xl rounded-3xl overflow-hidden",children:[(0,s.jsxs)(Ce,{className:"p-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-white mb-1",children:"This Week"}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Your progress overview"})]}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-xl font-bold text-orange-400",children:c}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"Day Streak"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"text-xl font-bold text-green-400",children:[(v=i.filter((function(e){var t=e.allHabitsCompleted||e.habits.length>=3,r="success"===e.snusStatus||"pending"===e.snusStatus&&e.habits.includes("No Snus");return t&&r})).length,i.length>0?Math.round(v/i.length*100):0),"%"]}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"Success Rate"})]})]})]}),(0,s.jsx)("div",{className:"space-y-3",children:i.map((function(e,t){return(0,s.jsx)("div",{onClick:function(){return function(e){x(e),p(!0)}(e)},className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 hover:bg-white/10 transition-all cursor-pointer hover:border-white/20",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("success"===e.snusStatus?"bg-green-400":"failed"===e.snusStatus?"bg-red-400":"bg-yellow-400")}),(0,s.jsx)("div",{className:"text-xs px-2 py-1 rounded-full ".concat("success"===e.snusStatus?"bg-green-500/20 text-green-400":"failed"===e.snusStatus?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"),children:(null==r?void 0:r.hasAddiction)?"number"==typeof e.snusCount&&0===e.snusCount?f():"number"==typeof e.snusCount&&e.snusCount>0?"".concat(e.snusCount," ").concat(g().toLowerCase()):"0 ".concat(g().toLowerCase()):"🌟 No tracking"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-sm font-medium text-white flex items-center",children:["🗓️ ",(n=e.date,a=new Date(n),i=new Date,a.toDateString()===i.toDateString()?"Today":a.toDateString()===new Date(i.getTime()-864e5).toDateString()?"Yesterday":a.toLocaleDateString([],{weekday:"long"})),e.allHabitsCompleted&&(0,s.jsx)("span",{className:"ml-2 text-green-400",children:"✨"})]}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:e.habits.length>0?e.allHabitsCompleted?(0,s.jsxs)("span",{className:"text-green-400 font-medium",children:["🎯 All ",e.habits.length," habits completed"]}):e.habits.length<=2?e.habits.map((function(e,t){return(0,s.jsxs)("span",{className:"mr-2",children:["✅ ",e]},t)})):(0,s.jsxs)("span",{className:"text-blue-400",children:["✅ ",e.habits.length," habits completed"]}):(0,s.jsx)("span",{className:"text-gray-500",children:"No activities logged"})})]})]}),e.focusSessions>0&&(0,s.jsxs)("div",{className:"flex items-center space-x-1 text-blue-400",children:[(0,s.jsx)(He.A,{className:"h-4 w-4"}),(0,s.jsxs)("span",{className:"text-xs",children:[e.focusSessions," focus"]})]})]})},e.date);var n,a,i}))}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("h3",{className:"text-sm font-bold text-white mb-3 flex items-center",children:[(0,s.jsx)("span",{className:"mr-2",children:"⚡"}),"Power Stats"]}),(0,s.jsx)(Kt,{})]})]}),(0,s.jsx)(Vt,{isOpen:b,onClose:function(){return p(!1)},dayData:h,userConfig:r})]})}var Qt=r(6316);function er(){var e=(0,n.useState)(!1),t=e[0],r=e[1];return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{onClick:function(){return r(!t)},className:"flex items-center gap-2 px-3 py-2 bg-black/20 hover:bg-black/30 rounded-lg transition-all duration-200 backdrop-blur-sm border border-white/10",children:[(0,s.jsx)(jt.A,{className:"w-4 h-4 text-white/70"}),(0,s.jsx)("span",{className:"text-sm text-white/80 font-medium",children:"How Productivity Works"})]}),t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 z-40 bg-black/50 backdrop-blur-sm",onClick:function(){return r(!1)}}),(0,s.jsxs)("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50 w-full max-w-5xl max-h-[85vh] bg-black/90 backdrop-blur-md rounded-2xl border border-white/10 shadow-2xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(wt.A,{className:"w-6 h-6 text-green-400"}),(0,s.jsx)("h2",{className:"text-xl font-bold text-white",children:"Productivity Tab - Your Daily Excellence System"})]}),(0,s.jsx)("button",{onClick:function(){return r(!1)},className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:(0,s.jsx)(v.A,{className:"w-5 h-5 text-white/70"})})]}),(0,s.jsx)("div",{className:"p-6 overflow-y-auto max-h-[70vh]",children:(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/20 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(ee.A,{className:"w-6 h-6 text-green-400"}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"🎯 What is the Productivity Tab?"})]}),(0,s.jsxs)("div",{className:"space-y-4 text-white/80",children:[(0,s.jsx)("p",{className:"text-sm",children:"Productivity is your personal excellence system. Track habits, manage focus sessions, and visualize your weekly progress to build a life of consistent growth."}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"✅ Habit Tracker:"})," Custom daily habits with smart tracking and streaks"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"🍅 Focus Timer:"})," Focus sessions with break management"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"📊 Weekly Overview:"})," Visual progress grid with detailed day breakdowns"]})]})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/20 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(R.A,{className:"w-6 h-6 text-blue-400"}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"✅ Habit Tracker (Left Column, Top)"})]}),(0,s.jsxs)("div",{className:"space-y-4 text-white/80",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-blue-300 mb-2",children:"Default Habits (Customizable)"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-2",children:[(0,s.jsx)("div",{children:"• 💪 First Workout"}),(0,s.jsx)("div",{children:"• ❌ No Alcohol"}),(0,s.jsx)("div",{children:"• ☀️ Second Workout"})]}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-2",children:[(0,s.jsx)("div",{children:"• 📚 Read"}),(0,s.jsx)("div",{children:"• 🍽️ Follow healthy diet"}),(0,s.jsx)("div",{children:"• 💧 Drink water"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-blue-300 mb-2",children:"How to Use"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Click habit circles:"})," Toggle completion status (filled = completed)"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Edit Mode Button:"})," Enter customization mode to modify habits"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Add new habits:"})," Type name and press enter to create custom habits"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Edit existing:"})," Click edit icon to rename habits"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Delete habits:"})," Use trash icon to remove unwanted habits"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Change icons:"})," Click icon dropdown to customize visual appearance"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-blue-300 mb-2",children:"Smart Features"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Daily Reset:"})," All habits reset to uncompleted at midnight"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Streak Tracking:"})," Counts consecutive days of completing ALL habits"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Progress Persistence:"})," Data syncs across tabs and browser sessions"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Legacy Migration:"})," Automatically upgrades old habit data to new format"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-blue-300 mb-2",children:"Data Integration"}),(0,s.jsx)("p",{className:"text-sm",children:"Completed habits feed into:"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Weekly Overview:"})," Shows daily habit completion counts"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Personal Tab:"})," Journey heatmap and achievement tracking"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Streak Calculations:"})," Only days with ALL habits = success"]})]})]}),(0,s.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:(0,s.jsxs)("p",{className:"text-sm",children:[(0,s.jsx)("strong",{children:"Pro Tip:"})," Start small with a few habits. Consistency beats perfection - it's better to complete a few habits daily than fail at many."]})})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-orange-500/10 to-red-500/10 border border-orange-500/20 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(te.A,{className:"w-6 h-6 text-orange-400"}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"🍅 Focus Timer (Left Column, Bottom)"})]}),(0,s.jsxs)("div",{className:"space-y-4 text-white/80",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-orange-300 mb-2",children:"Focus Sessions"}),(0,s.jsx)("p",{className:"text-sm",children:"Advanced focus sessions with background persistence and smart break management."}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs mt-2",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Focus Sessions:"})," Focused work intervals"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Break Modes:"})," Short and long breaks"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Background Operation:"})," Continues running when you switch tabs"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Auto-Transitions:"})," Seamlessly moves between focus and break modes"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-orange-300 mb-2",children:"How to Use"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Start Focus:"})," Click to start a focus session"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Start Break:"})," Click to take a break"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Stop Timer:"})," Red stop button to end current session"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Visual Progress:"})," Circular progress bar shows time remaining"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Session Counter:"})," Tracks completed focus sessions for the day"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-orange-300 mb-2",children:"Advanced Features"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Tab Switching:"})," Timer continues in background, recalculates on return"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Pause Tracking:"})," Remembers pause time for accurate session duration"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Session Persistence:"})," Survives browser refresh and tab close/reopen"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Precise Timing:"})," Uses actual elapsed time, not interval counting"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Automatic Save:"})," Progress saved to storage every state change"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-orange-300 mb-2",children:"Data Tracking"}),(0,s.jsx)("p",{className:"text-sm",children:"Completed focus sessions contribute to:"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Daily Counter:"})," Shows total focus sessions completed today"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Weekly Overview:"})," Visual representation in progress grid"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Personal Journey:"})," Feeds into overall productivity metrics"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Detailed Logs:"})," Stores session start/end times for analysis"]})]})]}),(0,s.jsx)("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded-lg p-3",children:(0,s.jsxs)("p",{className:"text-sm",children:[(0,s.jsx)("strong",{children:"Timer State Management:"})," Your timer runs independently of the browser tab. Switch tabs freely - your session continues and recalculates when you return!"]})})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/20 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(He.A,{className:"w-6 h-6 text-purple-400"}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"📊 Weekly Overview (Right Column)"})]}),(0,s.jsxs)("div",{className:"space-y-4 text-white/80",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-purple-300 mb-2",children:"Visual Progress Grid"}),(0,s.jsx)("p",{className:"text-sm",children:"Color-coded grid showing your daily performance across all productivity metrics."}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs mt-2",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Green Days:"})," High productivity (good habits + focus sessions + low penalty habit usage)"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Yellow Days:"})," Moderate productivity (mixed performance)"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Red Days:"})," Low productivity (few habits, no focus, high penalty habit usage)"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Gray Days:"})," No data or inactive day"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-purple-300 mb-2",children:"Scoring Algorithm"}),(0,s.jsx)("p",{className:"text-sm",children:"Your daily score is calculated using a smart formula:"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs font-mono",children:[(0,s.jsx)("div",{children:"Score = (Habits × 2) + (Focus Sessions × 1) - (Penalty Habit × 1)"}),(0,s.jsxs)("div",{className:"mt-2 text-gray-300",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("span",{className:"text-green-400",children:"Habits:"})," Worth 2 points each (high value for consistency)"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("span",{className:"text-blue-400",children:"Focus:"})," Worth 1 point each (rewards deep work)"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("span",{className:"text-red-400",children:"Penalty Habit:"})," Subtracts 1 point each (penalty for tracked habit usage)"]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-purple-300 mb-2",children:"Interactive Features"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Click Any Day:"})," Opens detailed breakdown dialog"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Day Details Modal:"})," Shows habits, focus sessions, penalty habit usage"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Current Streak:"})," Displays consecutive high-productivity days"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Success Rate:"})," Percentage of successful days this week"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Real-time Updates:"})," Grid updates as you complete activities"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-purple-300 mb-2",children:"Data Sources"}),(0,s.jsx)("p",{className:"text-sm",children:"The overview intelligently combines data from:"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Habit Tracker:"})," Daily habit completion counts and specific habits"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Focus Timer:"})," Number of completed Pomodoro sessions"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Penalty Habit Tracker:"})," Daily tracked habit usage for health scoring"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Legacy Data:"})," Automatically migrates old formats to new unified system"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Multiple Formats:"})," Supports both legacy and new data structures"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-purple-300 mb-2",children:"Smart Data Management"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Auto-Save:"})," Current day data saved automatically as you work"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Manual Edit Protection:"})," Won't overwrite manually edited day data"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Cross-Component Sync:"})," Updates in real-time from all tabs"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Debounced Updates:"})," Prevents flickering from rapid data changes"]})]})]}),(0,s.jsx)("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-3",children:(0,s.jsxs)("p",{className:"text-sm",children:[(0,s.jsx)("strong",{children:"Performance Insight:"})," The grid uses a sophisticated scoring system to help you identify patterns. Green streaks show your peak performance periods!"]})})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-indigo-500/10 to-blue-500/10 border border-indigo-500/20 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(Qt.A,{className:"w-6 h-6 text-indigo-400"}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"🔗 System Integration"})]}),(0,s.jsxs)("div",{className:"space-y-3 text-white/80 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Cross-Tab Data Sync:"})," All productivity data syncs between Home, Personal, and Vision tabs"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Unified Data Format:"})," New unified daily-logs system with legacy compatibility"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Real-time Updates:"})," Changes propagate instantly across all components"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Browser Persistence:"})," Data survives browser restarts and tab management"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Performance Optimized:"})," Debounced updates and smart caching prevent lag"]})]})]})]})})]})]})]})}const tr=function(e){var t=e.userConfig;return(0,s.jsx)("div",{className:"min-h-screen pt-24 pb-8 mt-6 overflow-hidden relative",children:(0,s.jsxs)("div",{className:"container mx-auto px-6 max-w-7xl",children:[(0,s.jsx)("div",{className:"fixed bottom-6 right-6 z-20",children:(0,s.jsx)(er,{})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"opacity-0 animate-fade-in-up",style:{animationDelay:"100ms",animationFillMode:"forwards"},children:(0,s.jsx)(Ht,{})}),(0,s.jsx)("div",{className:"opacity-0 animate-fade-in-up",style:{animationDelay:"200ms",animationFillMode:"forwards"},children:(0,s.jsx)(qt,{})})]}),(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsx)("div",{className:"opacity-0 animate-fade-in-up",style:{animationDelay:"300ms",animationFillMode:"forwards"},children:(0,s.jsx)(Zt,{userConfig:t})})})]})]})})};var rr=r(2492),sr=r(3990),nr=r(8601),ar=r(1161),ir=r(2299),or=r(1177),lr=r(5351),cr=r(9547),dr=r(8004),ur=r(443),hr=r(9231),xr=r(838),mr=r(7927),br=r(2834),pr=r(3547),gr=r(5690),fr=r(2496),vr=r(6008),yr=r(5735),jr=r(9656),wr=r(4721),Nr=r(4222),kr=r(3094),Cr=r(356),Sr=r(9529),Ar=r(9750),Dr=r(8224),Tr=r(5068),Pr=r(253),Mr=r(4741);function Or(e){var t=e.level,r=e.className,n=void 0===r?"h-6 w-6":r,a=function(e){return e<=4?{tier:"Novice",color:"text-gray-300"}:e<=9?{tier:"Apprentice",color:"text-blue-400"}:e<=14?{tier:"Warrior",color:"text-green-400"}:e<=19?{tier:"Champion",color:"text-yellow-400"}:e<=29?{tier:"Master",color:"text-orange-400"}:e<=39?{tier:"Legend",color:"text-red-400"}:e<=49?{tier:"Mythic",color:"text-purple-400"}:e<=99?{tier:"Godlike",color:"text-pink-400"}:{tier:"Transcendent",color:"text-white"}}(t);return(0,s.jsx)("div",{className:"flex items-center justify-center relative",children:(0,s.jsx)("div",{className:a.color,children:function(e){return 1===e?(0,s.jsx)(sr.A,{className:n}):2===e?(0,s.jsx)(nr.A,{className:n}):3===e?(0,s.jsx)(ar.A,{className:n}):4===e?(0,s.jsx)(ir.A,{className:n}):5===e?(0,s.jsx)(or.A,{className:n}):6===e?(0,s.jsx)(lr.A,{className:n}):7===e?(0,s.jsx)(cr.A,{className:n}):8===e?(0,s.jsx)(dr.A,{className:n}):9===e?(0,s.jsx)(ur.A,{className:n}):10===e?(0,s.jsx)(hr.A,{className:n}):11===e?(0,s.jsx)(xr.A,{className:n}):12===e?(0,s.jsx)(mr.A,{className:n}):13===e?(0,s.jsx)(br.A,{className:n}):14===e?(0,s.jsx)(pr.A,{className:n}):15===e?(0,s.jsx)(gr.A,{className:n}):16===e?(0,s.jsx)(fr.A,{className:n}):17===e?(0,s.jsx)(vr.A,{className:n}):18===e?(0,s.jsx)(yr.A,{className:n}):19===e?(0,s.jsx)(jr.A,{className:n}):e>=20&&e<=24?(0,s.jsx)(wr.A,{className:n}):e>=25&&e<=29?(0,s.jsx)(Nr.A,{className:n}):e>=30&&e<=34?(0,s.jsx)(kr.A,{className:n}):e>=35&&e<=39?(0,s.jsx)(Cr.A,{className:n}):e>=40&&e<=44?(0,s.jsx)(Sr.A,{className:n}):e>=45&&e<=49?(0,s.jsx)(Ar.A,{className:n}):e>=50&&e<=69?(0,s.jsx)(Dr.A,{className:n}):e>=70&&e<=89?(0,s.jsx)(Tr.A,{className:n}):e>=90&&e<=99?(0,s.jsx)(Pr.A,{className:n}):e>=100?(0,s.jsx)(I.A,{className:n}):(0,s.jsx)(Mr.A,{className:n})}(t)})})}function Er(e){return e<=4?{tier:"Novice",color:"text-gray-300",bgColor:"from-gray-400 to-gray-600"}:e<=9?{tier:"Apprentice",color:"text-blue-400",bgColor:"from-blue-400 to-blue-600"}:e<=14?{tier:"Warrior",color:"text-green-400",bgColor:"from-green-400 to-green-600"}:e<=19?{tier:"Champion",color:"text-yellow-400",bgColor:"from-yellow-400 to-orange-600"}:e<=29?{tier:"Master",color:"text-orange-400",bgColor:"from-orange-400 to-red-600"}:e<=39?{tier:"Legend",color:"text-red-400",bgColor:"from-red-400 to-red-600"}:e<=49?{tier:"Mythic",color:"text-purple-400",bgColor:"from-purple-400 to-purple-600"}:e<=99?{tier:"Godlike",color:"text-pink-400",bgColor:"from-pink-400 to-pink-600"}:{tier:"Transcendent",color:"text-yellow-300",bgColor:"from-yellow-400 via-yellow-500 to-yellow-600"}}var Lr=function(){return Lr=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Lr.apply(this,arguments)},Rr=function(e,t,r,s){return new(r||(r=Promise))((function(n,a){function i(e){try{l(s.next(e))}catch(e){a(e)}}function o(e){try{l(s.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))},Fr=function(e,t){var r,s,n,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(r=1,s&&(n=2&o[0]?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};function Ir(e){var t=this,r=e.isOpen,a=e.onClose,i=e.profileData,o=(0,n.useState)({totalHabits:0,totalFocus:0,cleanDays:0,currentStreak:0,longestStreak:0,completedAchievements:0,totalMissions:0}),l=o[0],c=o[1],u=(0,n.useState)({dailyBonusClaimed:!1,dailyBonusResetTime:"",weeklyProgress:0,weeklyTarget:0,weeklyResetTime:"",weeklyBonusClaimed:!1,monthlyResetTime:"",monthlyBonusClaimed:!1,streakMultiplier:1}),h=u[0],x=u[1];(0,n.useEffect)((function(){r&&(m(),g())}),[r]);var m=function(){return Rr(t,void 0,void 0,(function(){var e,t,r,s,n,a,i,o,l,d;return Fr(this,(function(u){switch(u.label){case 0:return u.trys.push([0,4,,5]),[4,G.load("daily-logs")];case 1:return e=u.sent()||{},t=Object.values(e),r=t.reduce((function(e,t){return e+t.habitsCompleted}),0),s=t.reduce((function(e,t){return e+t.focusSessions}),0),n=t.filter((function(e){return 0===e.snusCount})).length,[4,G.load("unlocked-achievements")];case 2:return a=u.sent()||[],[4,G.load("completed-missions")];case 3:return i=u.sent()||[],o=b(t),l=p(t),c({totalHabits:r,totalFocus:s,cleanDays:n,currentStreak:o,longestStreak:l,completedAchievements:a.length,totalMissions:i.length}),[3,5];case 4:return d=u.sent(),console.error("Error loading extended stats:",d),[3,5];case 5:return[2]}}))}))},b=function(e){if(0===e.length)return 0;for(var t=e.sort((function(e,t){return new Date(t.date).getTime()-new Date(e.date).getTime()})),r=function(e){return 2*e.habitsCompleted+1*e.focusSessions-1*e.snusCount},s=(new Date).toISOString().split("T")[0],n=0,a=0,i=t;a<i.length;a++){var o=i[a],l=r(o);if(!(o.date===s&&l<3)){if(!(l>=3))break;n++}}return n},p=function(e){if(0===e.length)return 0;for(var t=0,r=0,s=0,n=e.sort((function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()}));s<n.length;s++)2*(a=n[s]).habitsCompleted+1*a.focusSessions-1*a.snusCount>=3?(r++,t=Math.max(t,r)):r=0;var a;return t},g=function(){return Rr(t,void 0,void 0,(function(){var e,t,r,s,n,a,i,o,l,c,d,u,h,m,p,g,y,j,w,N,k,C,S,A,D,T,P,M;return Fr(this,(function(O){switch(O.label){case 0:return O.trys.push([0,5,,6]),e=(new Date).toISOString().split("T")[0],[4,G.load("last-daily-claim")];case 1:return t=O.sent()||"",r=t===e,s=f(new Date),[4,G.load("last-weekly-claim")];case 2:return n=O.sent()||"",a=n===s,i=(new Date).toISOString().slice(0,7),[4,G.load("last-monthly-claim")];case 3:return o=O.sent()||"",l=o===i,(c=new Date).setDate(c.getDate()+1),c.setHours(0,0,0,0),d=Math.floor((c.getTime()-Date.now())/36e5),u=Math.floor((c.getTime()-Date.now())%36e5/6e4),h="".concat(d,"h ").concat(u,"m"),[4,G.load("daily-logs")];case 4:return m=O.sent()||{},p=Object.values(m),g=v(p),y=g.reduce((function(e,t){return e+(50*t.habitsCompleted+25*t.focusSessions)}),0),j=new Date,w=(7-j.getDay()+1)%7||7,j.setDate(j.getDate()+w),j.setHours(0,0,0,0),N=Math.floor((j.getTime()-Date.now())/864e5),k=Math.floor((j.getTime()-Date.now())%864e5/36e5),C="".concat(N,"d ").concat(k,"h"),(S=new Date).setMonth(S.getMonth()+1,1),S.setHours(0,0,0,0),A=Math.floor((S.getTime()-Date.now())/864e5),D="".concat(A,"d"),T=b(p),P=Math.min(1+.1*T,3),x({dailyBonusClaimed:r,dailyBonusResetTime:h,weeklyProgress:y,weeklyTarget:1e3,weeklyResetTime:C,weeklyBonusClaimed:a,monthlyResetTime:D,monthlyBonusClaimed:l,streakMultiplier:P}),[3,6];case 5:return M=O.sent(),console.error("Error loading rewards data:",M),[3,6];case 6:return[2]}}))}))},f=function(e){var t=e.getFullYear(),r=new Date(t,0,1),s=(e.getTime()-r.getTime())/864e5,n=Math.ceil((s+r.getDay()+1)/7);return"".concat(t,"-W").concat(n)},v=function(e){var t=new Date,r=new Date(t),s=t.getDay(),n=0===s?6:s-1;r.setDate(t.getDate()-n),r.setHours(0,0,0,0);var a=new Date(t);return a.setHours(23,59,59,999),e.filter((function(e){var t=new Date(e.date);return t.setHours(12,0,0,0),t>=r&&t<=a}))},y=Er(i.level),j=i.level+1,N=Er(j),k=1e3,D=k-i.currentXP,T=i.currentXP/k*100;return i.currentXP<100&&i.level,(0,s.jsx)(w,{open:r,onOpenChange:a,children:(0,s.jsxs)(C,{className:"max-w-6xl bg-gradient-to-br from-black/95 via-gray-900/95 to-black/95 backdrop-blur-xl border-2 border-purple-500/30 text-white rounded-3xl p-0 overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 via-blue-500/5 to-cyan-500/5"}),(0,s.jsxs)("div",{className:"flex h-[85vh] relative",children:[(0,s.jsxs)("div",{className:"flex-1 p-8 border-r border-white/10",children:[(0,s.jsx)(S,{className:"mb-8",children:(0,s.jsxs)(A,{className:"text-3xl font-bold text-white flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br ".concat(y.bgColor," rounded-full flex items-center justify-center shadow-2xl border-2 border-white/30"),children:(0,s.jsx)(Or,{level:i.level,className:"h-8 w-8 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsxs)("span",{children:[i.rank," Warrior"]}),(0,s.jsxs)(O,{className:"".concat(y.bgColor," text-white px-3 py-1 text-sm"),children:["Level ",i.level]})]}),(0,s.jsx)("div",{className:"text-lg font-normal text-gray-300",children:i.title})]})]})}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-yellow-500/10 via-orange-500/10 to-red-500/10 border-2 border-yellow-500/30 rounded-2xl p-4 mb-4 relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-500/5 via-orange-500/5 to-red-500/5 animate-pulse"}),(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(H.A,{className:"h-5 w-5 text-yellow-400 ".concat(D<500?"animate-pulse":"")}),(0,s.jsx)("span",{className:"text-xs font-bold text-yellow-400",children:"Next Level"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 bg-gray-800/60 px-2 py-1 rounded-full ".concat(D<500?"animate-bounce":""),children:[(0,s.jsx)(U.A,{className:"h-3 w-3 text-cyan-400 ".concat(D<500?"animate-spin":"")}),(0,s.jsx)("span",{className:"text-xs font-bold text-cyan-400",children:D<500?"ONLY ".concat(D.toLocaleString()," XP LEFT!"):"".concat(D.toLocaleString()," XP to go")})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 mb-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br ".concat(N.bgColor," rounded-xl flex items-center justify-center shadow-lg border border-white/20"),children:(0,s.jsx)(Or,{level:j,className:"h-5 w-5 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-lg font-bold text-white",children:["Level ",j," • ",N.tier]}),(0,s.jsx)("div",{className:"text-xs text-gray-300",children:D<500?"✨ SO CLOSE TO UNLOCK! ✨":"Unlock exclusive ".concat(N.tier," rewards")})]})]}),(0,s.jsxs)("div",{className:"w-full bg-gray-800/60 rounded-full h-3 relative overflow-hidden border border-white/20 mb-2",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-white/60 via-white/80 to-white/60 h-full rounded-full transition-all duration-1000 relative",style:{width:"".concat(T,"%")},children:(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-pulse opacity-60"})}),T>0&&(0,s.jsx)("div",{className:"absolute top-0 left-0 h-3 rounded-full blur-sm opacity-50",style:{width:"".concat(T,"%"),background:"linear-gradient(90deg, rgba(255,255,255,0.6), rgba(255,255,255,0.8), rgba(255,255,255,0.6))"}})]}),(0,s.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,s.jsxs)("span",{className:"text-green-400 font-bold",children:[i.currentXP.toLocaleString()," XP"]}),(0,s.jsxs)("span",{className:"text-yellow-400 font-bold",children:[k.toLocaleString()," XP"]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,s.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center",children:[(0,s.jsx)(H.A,{className:"h-5 w-5 mr-2 text-yellow-400"}),"Daily Rewards"]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/20 rounded-xl p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(He.A,{className:"h-4 w-4 text-green-400"}),(0,s.jsx)("span",{className:"text-sm font-medium text-green-400",children:"Daily Bonus"}),h.streakMultiplier>1&&(0,s.jsxs)("span",{className:"text-xs bg-orange-500/20 border border-orange-500/30 px-1 py-0.5 rounded text-orange-400",children:[h.streakMultiplier.toFixed(1),"x"]})]}),(0,s.jsxs)("span",{className:"text-xs text-gray-400",children:["Resets in ",h.dailyBonusResetTime]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("span",{className:"text-lg font-bold text-green-400",children:["+",Math.floor(100*h.streakMultiplier)," XP"]}),h.streakMultiplier>1&&(0,s.jsxs)("div",{className:"text-xs text-gray-400",children:["Base 100 XP × ",h.streakMultiplier.toFixed(1)]})]}),(0,s.jsx)(E,{onClick:function(){return Rr(t,void 0,void 0,(function(){var e,t,r,s;return Fr(this,(function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),e=(new Date).toISOString().split("T")[0],[4,G.save("last-daily-claim",e)];case 1:return n.sent(),t=Math.floor(100*h.streakMultiplier),[4,G.load("daily-activity-xp")];case 2:return r=n.sent()||0,[4,G.save("daily-activity-xp",r+t)];case 3:return n.sent(),x((function(e){return Lr(Lr({},e),{dailyBonusClaimed:!0})})),window.dispatchEvent(new CustomEvent("dailyLogsUpdated")),console.log("🎉 Daily bonus claimed: +".concat(t," XP")),[3,5];case 4:return s=n.sent(),console.error("Error claiming daily bonus:",s),[3,5];case 5:return[2]}}))}))},disabled:h.dailyBonusClaimed,children:h.dailyBonusClaimed?"Claimed":"Claim"})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/20 rounded-xl p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(d.A,{className:"h-4 w-4 text-blue-400"}),(0,s.jsx)("span",{className:"text-sm font-medium text-blue-400",children:"Weekly Bonus"}),h.weeklyProgress>=h.weeklyTarget&&!h.weeklyBonusClaimed&&(0,s.jsx)("span",{className:"text-xs bg-green-500/20 border border-green-500/30 px-1 py-0.5 rounded text-green-400",children:"READY!"})]}),(0,s.jsxs)("span",{className:"text-xs text-gray-400",children:[h.weeklyResetTime," left"]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-lg font-bold text-blue-400",children:"+1,000 XP"}),(0,s.jsxs)("div",{className:"text-xs text-gray-400",children:["Progress: ",h.weeklyProgress,"/",h.weeklyTarget," XP"]})]}),(0,s.jsx)(E,{onClick:function(){return Rr(t,void 0,void 0,(function(){var e,t,r,s;return Fr(this,(function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),e=f(new Date),[4,G.save("last-weekly-claim",e)];case 1:return n.sent(),t=1e3,[4,G.load("weekly-bonus-xp")];case 2:return r=n.sent()||0,[4,G.save("weekly-bonus-xp",r+t)];case 3:return n.sent(),x((function(e){return Lr(Lr({},e),{weeklyBonusClaimed:!0})})),window.dispatchEvent(new CustomEvent("dailyLogsUpdated")),console.log("🎉 Weekly bonus claimed: +".concat(t," XP")),[3,5];case 4:return s=n.sent(),console.error("Error claiming weekly bonus:",s),[3,5];case 5:return[2]}}))}))},disabled:h.weeklyBonusClaimed||h.weeklyProgress<h.weeklyTarget,variant:"blue",children:h.weeklyBonusClaimed?"Claimed":h.weeklyProgress>=h.weeklyTarget?"Claim":"Locked"})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/20 rounded-xl p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(L.A,{className:"h-4 w-4 text-purple-400"}),(0,s.jsx)("span",{className:"text-sm font-medium text-purple-400",children:"Monthly Bonus"}),i.level>=5&&!h.monthlyBonusClaimed&&(0,s.jsx)("span",{className:"text-xs bg-green-500/20 border border-green-500/30 px-1 py-0.5 rounded text-green-400",children:"READY!"})]}),(0,s.jsxs)("span",{className:"text-xs text-gray-400",children:[h.monthlyResetTime," left"]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-lg font-bold text-purple-400",children:"+2,000 XP"}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"Requires: Level 5+"})]}),(0,s.jsx)(E,{onClick:function(){return Rr(t,void 0,void 0,(function(){var e,t,r,s;return Fr(this,(function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),e=(new Date).toISOString().slice(0,7),[4,G.save("last-monthly-claim",e)];case 1:return n.sent(),t=2e3,[4,G.load("monthly-bonus-xp")];case 2:return r=n.sent()||0,[4,G.save("monthly-bonus-xp",r+t)];case 3:return n.sent(),x((function(e){return Lr(Lr({},e),{monthlyBonusClaimed:!0})})),window.dispatchEvent(new CustomEvent("dailyLogsUpdated")),console.log("🎉 Monthly bonus claimed: +".concat(t," XP")),[3,5];case 4:return s=n.sent(),console.error("Error claiming monthly bonus:",s),[3,5];case 5:return[2]}}))}))},disabled:h.monthlyBonusClaimed||i.level<5,variant:"purple",children:h.monthlyBonusClaimed?"Claimed":i.level>=5?"Claim":"Locked"})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-orange-500/10 to-red-500/10 border border-orange-500/20 rounded-xl p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(Pt.A,{className:"h-4 w-4 text-orange-400"}),(0,s.jsx)("span",{className:"text-sm font-medium text-orange-400",children:"Streak Bonus"})]}),(0,s.jsxs)("span",{className:"text-xs text-gray-400",children:[l.currentStreak,"-day streak"]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("span",{className:"text-lg font-bold text-orange-400",children:[h.streakMultiplier.toFixed(1),"x Multiplier"]}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"Affects daily bonus"})]}),(0,s.jsx)("div",{className:"text-xs bg-orange-500/20 border border-orange-500/30 px-2 py-1 rounded text-orange-400",children:h.streakMultiplier>1?"ACTIVE":"INACTIVE"})]})]})]})]}),(0,s.jsxs)("div",{className:"flex-1 p-8",children:[(0,s.jsxs)("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[(0,s.jsx)(I.A,{className:"h-6 w-6 mr-3 text-yellow-400"}),"Tier Progression"]}),(0,s.jsx)("div",{className:"space-y-4 mb-8",children:[1,5,10,15,20,30,40,50,100].filter((function(e){return e>i.level})).slice(0,8).map((function(e){return Lr(Lr({level:e},Er(e)),{xpRequired:1e3*(e-1),xpNeeded:1e3*(e-1)-i.totalXP})})).map((function(e,t){var r="Godlike"===e.tier,n="Transcendent"===e.tier,a=r||n,i=0===t;return(0,s.jsxs)("div",{className:"p-5 rounded-2xl border-2 transition-all relative overflow-hidden ".concat(i?"bg-gradient-to-br ".concat(e.bgColor,"/20 border-white/40 shadow-2xl"):n?"bg-gradient-to-br from-yellow-500/10 via-orange-500/10 to-yellow-500/10 border-yellow-500/30 shadow-xl":r?"bg-gradient-to-br from-pink-500/10 via-purple-500/10 to-pink-500/10 border-pink-500/30 shadow-lg":"Mythic"===e.tier?"bg-gradient-to-br from-purple-500/10 via-indigo-500/10 to-purple-500/10 border-purple-500/20":"Legend"===e.tier?"bg-gradient-to-br from-red-500/10 via-orange-500/10 to-red-500/10 border-red-500/20":"Master"===e.tier?"bg-gradient-to-br from-orange-500/10 via-red-500/10 to-orange-500/10 border-orange-500/20":"Champion"===e.tier?"bg-gradient-to-br from-yellow-500/10 via-orange-500/10 to-yellow-500/10 border-yellow-500/20":"bg-gradient-to-br from-green-500/10 via-emerald-500/10 to-green-500/10 border-green-500/20"),children:[n&&(0,s.jsx)("div",{className:"absolute top-2 right-2 text-yellow-400",children:(0,s.jsx)(I.A,{className:"h-4 w-4"})}),r&&(0,s.jsx)("div",{className:"absolute top-2 right-2 text-pink-400",children:(0,s.jsx)(I.A,{className:"h-4 w-4"})}),(0,s.jsxs)("div",{className:"flex items-center justify-between relative z-10",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br ".concat(e.bgColor," rounded-xl flex items-center justify-center shadow-lg border-2 ").concat(n?"border-yellow-400/40 shadow-yellow-500/20":r?"border-pink-400/40 shadow-pink-500/20":i?"border-white/30":"border-white/20"," ").concat(a?"animate-pulse":""),children:(0,s.jsx)(Or,{level:e.level,className:"h-6 w-6 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-lg font-bold ".concat(n?"text-yellow-400":r?"text-pink-400":"Mythic"===e.tier?"text-purple-400":"Legend"===e.tier?"text-red-400":"Master"===e.tier?"text-orange-400":"Champion"===e.tier?"text-yellow-400":"text-green-400"),children:["Level ",e.level," • ",e.tier,n&&" ✨",r&&" 👑","Mythic"===e.tier&&" 🔮","Legend"===e.tier&&" ⚡"]}),(0,s.jsx)("div",{className:"text-sm ".concat(i?n?"text-yellow-300":r?"text-pink-300":e.color:"text-gray-500"),children:i?"Next Major Tier":n?"Ultimate Achievement":r?"Legendary Status":"Mythic"===e.tier?"Epic Power":"Legend"===e.tier?"Legendary Warrior":"Future Unlock"})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("div",{className:"text-lg font-bold ".concat(i?n?"text-yellow-400":r?"text-pink-400":"text-yellow-400":n?"text-yellow-500":r?"text-pink-500":"Mythic"===e.tier?"text-purple-500":"Legend"===e.tier?"text-red-500":"text-gray-500"),children:e.xpNeeded>0?"".concat(e.xpNeeded.toLocaleString()," XP"):"Unlocked"}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:i?"to unlock":"required"})]})]})]},e.level)}))})]})]})]})})}var Ur=function(){return Ur=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Ur.apply(this,arguments)};function Hr(){var e=this,t=(0,n.useState)({level:1,currentXP:0,totalXP:0,title:"Novice Achiever",rank:"Bronze",completedMissions:0,daysActive:0}),r=t[0],a=t[1],i=(0,n.useState)(!1),o=i[0],l=i[1],c=(0,n.useState)({dailyXP:0,dailyBonusXP:0,weeklyBonusXP:0,monthlyBonusXP:0,streakXP:0,missionXP:0,achievementXP:0}),d=c[0],u=c[1];(0,n.useEffect)((function(){h();var e=function(){h()},t=function(){h()},r=function(){h()};return window.addEventListener("dailyLogsUpdated",e),window.addEventListener("missionCompleted",t),window.addEventListener("achievementUnlocked",r),function(){window.removeEventListener("dailyLogsUpdated",e),window.removeEventListener("missionCompleted",t),window.removeEventListener("achievementUnlocked",r)}}),[]);var h=function(){return t=e,r=void 0,n=function(){var e,t,r,s,n,i,o,l,c,d,h,b,p,g,f,v,y,j,w,N,k,C;return function(e,t){var r,s,n,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(r=1,s&&(n=2&o[0]?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(S){switch(S.label){case 0:return S.trys.push([0,11,,12]),[4,G.load("daily-logs")];case 1:return e=S.sent()||{},[4,G.load("habit-streak")];case 2:return t=S.sent()||0,[4,G.load("snus-data")];case 3:return r=S.sent()||{currentStreak:0},s=0,Object.values(e).forEach((function(e){var t=50*e.habitsCompleted+25*e.focusSessions-10*e.snusCount;s+=Math.max(0,t)})),n=100*t+150*r.currentStreak,[4,G.load("mission-xp")];case 4:return i=S.sent()||0,[4,G.load("achievement-xp")];case 5:return o=S.sent()||0,[4,G.load("daily-activity-xp")];case 6:return l=S.sent()||0,[4,G.load("weekly-bonus-xp")];case 7:return c=S.sent()||0,[4,G.load("monthly-bonus-xp")];case 8:return d=S.sent()||0,u({dailyXP:s,dailyBonusXP:l,weeklyBonusXP:c,monthlyBonusXP:d,streakXP:n,missionXP:i,achievementXP:o}),[4,G.load("completed-missions")];case 9:return h=S.sent()||[],b=h.length,[4,G.load("unlocked-achievements")];case 10:return p=S.sent()||[],g=p.length,f=b+g,v=s+l+c+d+n+i+o,y=Math.floor(v/1e3)+1,j=v%1e3,w=x(y),N=m(y),k=Object.keys(e).length,a({level:y,currentXP:j,totalXP:v,title:w,rank:N,completedMissions:f,daysActive:k}),[3,12];case 11:return C=S.sent(),console.error("Error loading profile data:",C),[3,12];case 12:return[2]}}))},new((s=void 0)||(s=Promise))((function(e,a){function i(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof s?r:new s((function(e){e(r)}))).then(i,o)}l((n=n.apply(t,r||[])).next())}));var t,r,s,n},x=function(e){return e>=20?"Productivity Legend":e>=15?"Habit Virtuoso":e>=10?"Focus Master":e>=5?"Rising Champion":"Novice Achiever"},m=function(e){return e>=20?"Platinum":e>=10?"Gold":e>=5?"Silver":"Bronze"},b=function(){return r.currentXP/1e3*100};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(we,{className:"bg-gradient-to-br from-black/70 via-black/60 to-black/70 backdrop-blur-xl border border-white/10 shadow-2xl rounded-3xl overflow-hidden relative cursor-pointer hover:border-white/20 hover:shadow-3xl transition-all duration-300 group",onClick:function(){return l(!0)},children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 via-blue-500/5 to-cyan-500/5 rounded-3xl group-hover:from-purple-500/10 group-hover:via-blue-500/10 group-hover:to-cyan-500/10 transition-all duration-300"}),(0,s.jsxs)(Ce,{className:"p-6 relative",children:[(0,s.jsx)("div",{className:"absolute top-4 right-4",children:(0,s.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white text-xs px-2 py-0.5 rounded-full font-semibold shadow-lg border border-white/20 group-hover:scale-105 transition-transform duration-300",children:["LVL ",r.level]})}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,s.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,s.jsxs)("div",{className:"w-16 h-16 bg-gradient-to-br ".concat(function(){switch(r.rank){case"Platinum":return"from-purple-400 via-purple-500 to-indigo-600";case"Gold":return"from-yellow-400 via-orange-400 to-orange-600";case"Silver":return"from-gray-300 via-gray-400 to-gray-600";default:return"from-orange-400 via-red-500 to-red-600"}}()," rounded-full flex items-center justify-center shadow-xl ").concat(function(){switch(r.rank){case"Platinum":return"shadow-purple-500/50";case"Gold":return"shadow-yellow-500/50";case"Silver":return"shadow-gray-400/50";default:return"shadow-orange-500/50"}}()," border-2 border-white/20 relative overflow-hidden group-hover:scale-105 transition-transform duration-300"),children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/20 via-transparent to-transparent rounded-full"}),(0,s.jsx)(Or,{level:r.level,className:"h-8 w-8 text-white"})]}),(0,s.jsx)("div",{className:"absolute -top-1 -right-1 bg-black/90 backdrop-blur-sm rounded-full p-1 border border-white/20 shadow-lg group-hover:scale-110 transition-transform duration-300",children:function(){switch(r.rank){case"Platinum":return(0,s.jsx)(I.A,{className:"h-4 w-4 text-purple-300"});case"Gold":return(0,s.jsx)(I.A,{className:"h-4 w-4 text-yellow-300"});case"Silver":return(0,s.jsx)(rr.A,{className:"h-4 w-4 text-gray-300"});default:return(0,s.jsx)(rr.A,{className:"h-4 w-4 text-orange-300"})}}()})]}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsxs)("h1",{className:"text-xl font-bold text-white drop-shadow-sm truncate group-hover:text-blue-300 transition-colors duration-300",children:[r.rank," Warrior"]}),(0,s.jsx)("p",{className:"text-sm text-gray-300 font-medium truncate",children:r.title}),(0,s.jsxs)("div",{className:"flex items-center space-x-3 pt-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1 text-yellow-400",children:[(0,s.jsx)(F.A,{className:"h-3 w-3"}),(0,s.jsx)("span",{className:"text-xs font-semibold",children:r.totalXP.toLocaleString()}),(0,s.jsx)("span",{className:"text-xs text-gray-400",children:"XP"})]}),(0,s.jsx)("div",{className:"w-1 h-1 bg-gray-500 rounded-full"}),(0,s.jsxs)("div",{className:"flex items-center space-x-1 text-purple-400",children:[(0,s.jsx)(L.A,{className:"h-3 w-3"}),(0,s.jsx)("span",{className:"text-xs font-semibold",children:r.rank})]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,s.jsxs)("span",{className:"text-xs text-gray-400 font-medium",children:["Progress to Level ",r.level+1]}),(0,s.jsxs)("span",{className:"text-xs text-blue-400 font-bold",children:[r.currentXP," / ",1e3," XP"]})]}),(0,s.jsxs)("div",{className:"w-full bg-gray-800/60 rounded-full h-3 relative overflow-hidden border border-white/10 shadow-inner",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-white/60 via-white/80 to-white/60 h-full rounded-full transition-all duration-1000 relative shadow-lg",style:{width:"".concat(b(),"%")},children:(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-pulse"})}),b()>0&&(0,s.jsx)("div",{className:"absolute top-0 left-0 h-3 rounded-full blur-sm opacity-50",style:{width:"".concat(b(),"%"),background:"linear-gradient(90deg, rgba(255,255,255,0.6), rgba(255,255,255,0.8), rgba(255,255,255,0.6))"}})]}),(0,s.jsxs)("p",{className:"text-xs text-gray-400 mt-1 font-medium",children:[(1e3-r.currentXP).toLocaleString()," XP until next level"]})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-green-600/10 border border-green-500/20 rounded-xl px-3 py-2 text-center backdrop-blur-sm flex-1 group-hover:border-green-500/30 transition-colors duration-300",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-1 mb-0.5",children:[(0,s.jsx)(Qt.A,{className:"h-3 w-3 text-green-400"}),(0,s.jsx)("div",{className:"text-sm font-bold text-green-400",children:r.completedMissions})]}),(0,s.jsx)("div",{className:"text-xs text-gray-400 font-medium",children:"Completed"})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-orange-500/10 to-orange-600/10 border border-orange-500/20 rounded-xl px-3 py-2 text-center backdrop-blur-sm flex-1 group-hover:border-orange-500/30 transition-colors duration-300",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-1 mb-0.5",children:[(0,s.jsx)(L.A,{className:"h-3 w-3 text-orange-400"}),(0,s.jsx)("div",{className:"text-sm font-bold text-orange-400",children:r.daysActive})]}),(0,s.jsx)("div",{className:"text-xs text-gray-400 font-medium",children:"Days Active"})]})]})]})]})]}),(0,s.jsx)(Ir,{isOpen:o,onClose:function(){return l(!1)},profileData:Ur(Ur({},r),d)})]})}var Br=function(e,t,r,s){return new(r||(r=Promise))((function(n,a){function i(e){try{l(s.next(e))}catch(e){a(e)}}function o(e){try{l(s.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))},Wr=function(e,t){var r,s,n,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(r=1,s&&(n=2&o[0]?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},zr=function(e,t,r){if(r||2===arguments.length)for(var s,n=0,a=t.length;n<a;n++)!s&&n in t||(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))};function Gr(e){var t=this,r=e.userConfig,a=(0,n.useState)([]),i=a[0],o=a[1],l=(0,n.useState)(new Set),c=l[0],u=l[1];(0,n.useEffect)((function(){h();var e=function(){h()};return window.addEventListener("dailyLogsUpdated",e),function(){window.removeEventListener("dailyLogsUpdated",e)}}),[]);var h=function(){return Br(t,void 0,void 0,(function(){var e,t,r,s,n,a,i,l;return Wr(this,(function(c){switch(c.label){case 0:return c.trys.push([0,4,,5]),[4,G.load("daily-logs")];case 1:return e=c.sent()||{},t=Object.values(e),[4,G.load("completed-missions")];case 2:return r=c.sent()||[],u(new Set(r)),s=b(t),n=g(s),a=f(t),[4,x(i=a?[n,a]:[n],r)];case 3:return c.sent(),o(i),[3,5];case 4:return l=c.sent(),console.error("Error loading missions:",l),[3,5];case 5:return[2]}}))}))},x=function(e,r){return Br(t,void 0,void 0,(function(){var t,s,n,a,i,o,l,c,d;return Wr(this,(function(h){switch(h.label){case 0:for(t=[],s=0,n=0,a=e;n<a.length;n++)i=a[n],o=m(i),l=r.includes(o),i.progress>=i.target&&!l&&(t.push(o),s+=i.xpReward,console.log("🎉 Mission completed: ".concat(i.title," (+").concat(i.xpReward," XP)")));return t.length>0?(c=zr(zr([],r,!0),t,!0),[4,G.save("completed-missions",c)]):[3,4];case 1:return h.sent(),[4,G.load("mission-xp")];case 2:return d=h.sent()||0,[4,G.save("mission-xp",d+s)];case 3:h.sent(),window.dispatchEvent(new CustomEvent("missionCompleted")),u(new Set(c)),h.label=4;case 4:return[2]}}))}))},m=function(e){if("weekly"===e.type){var t=p();return"weekly-".concat(e.id,"-week-").concat(t)}return"milestone-".concat(e.id,"-target-").concat(e.target)},b=function(e){var t=new Date,r=new Date(t),s=t.getDay(),n=0===s?6:s-1;r.setDate(t.getDate()-n),r.setHours(0,0,0,0);var a=new Date(t);return a.setHours(23,59,59,999),e.filter((function(e){var t=new Date(e.date);return t.setHours(12,0,0,0),t>=r&&t<=a}))},p=function(){var e=new Date,t=new Date(e.getFullYear(),0,0),r=e.getTime()-t.getTime();return Math.floor(r/6048e5)},g=function(e){var t=[{id:"habit-domination",title:"Weekly Domination",description:"Complete 35 habits this week",target:35,xpReward:500,icon:"🎯",color:"from-purple-500 to-pink-500",calculateProgress:function(e){return e.reduce((function(e,t){return e+t.habitsCompleted}),0)}},{id:"focus-mastery",title:"Focus Mastery",description:"Complete 20 focus sessions this week",target:20,xpReward:450,icon:"🧠",color:"from-blue-500 to-cyan-500",calculateProgress:function(e){return e.reduce((function(e,t){return e+t.focusSessions}),0)}},{id:"clean-week",title:"Clean Week Challenge",description:"Have 0 ".concat(w().toLowerCase()," for 5 days this week"),target:5,xpReward:600,icon:N(),color:"from-green-500 to-emerald-500",calculateProgress:function(e){return e.filter((function(e){return 0===e.snusCount})).length}},{id:"consistency-king",title:"Consistency King",description:"Have 6 days with score ≥ 3 this week",target:6,xpReward:550,icon:"👑",color:"from-yellow-500 to-orange-500",calculateProgress:function(e){return e.filter((function(e){return 2*e.habitsCompleted+1*e.focusSessions-1*e.snusCount>=3})).length}},{id:"habit-focus-combo",title:"Perfect Balance",description:"Complete 25 habits + 15 focus sessions",target:40,xpReward:525,icon:"⚖️",color:"from-indigo-500 to-purple-500",calculateProgress:function(e){var t=e.reduce((function(e,t){return e+t.habitsCompleted}),0),r=e.reduce((function(e,t){return e+t.focusSessions}),0);return Math.min(t,25)+Math.min(r,15)}},{id:"streak-builder",title:"Streak Builder",description:"Build a 7-day quality streak",target:7,xpReward:650,icon:"🔥",color:"from-orange-500 to-red-500",calculateProgress:function(e){for(var t=0,r=0,s=e.sort((function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()}));r<s.length;r++){var n=s[r];2*n.habitsCompleted+1*n.focusSessions-1*n.snusCount>=3?t++:t=0}return Math.min(t,7)}}],r=p(),s=(new Date).getDay(),n=0===s?1:7-s+1,a=t.filter((function(e){return"streak-builder"!==e.id||n>=e.target}));if(0===a.length){var i={id:"daily-boost",title:"Daily Boost",description:"Complete ".concat(Math.min(3,2*n)," habits this week"),target:Math.min(10,2*n),xpReward:300,icon:"⚡",color:"from-yellow-500 to-orange-500",calculateProgress:function(e){return e.reduce((function(e,t){return e+t.habitsCompleted}),0)}},o=i.calculateProgress(e);return{id:i.id,title:i.title,description:i.description,progress:o,target:i.target,xpReward:i.xpReward,type:"weekly",icon:i.icon,color:i.color}}var l=a[r%a.length],c=l.calculateProgress(e);return{id:l.id,title:l.title,description:l.description,progress:c,target:l.target,xpReward:l.xpReward,type:"weekly",icon:l.icon,color:l.color}},f=function(e){var t=v(e),r=e.reduce((function(e,t){return e+t.habitsCompleted}),0),s=e.reduce((function(e,t){return e+t.focusSessions}),0),n=e.filter((function(e){return 0===e.snusCount})).length,a=[{condition:t<7,mission:{id:"first-week-warrior",title:"First Week Warrior",description:"".concat(7-t," days until 7-day habit streak"),progress:t,target:7,xpReward:300,type:"milestone",icon:"🔥",color:"from-orange-500 to-red-500"}},{condition:t>=7&&t<30,mission:{id:"monthly-master",title:"Monthly Master",description:"".concat(30-t," days until 30-day streak"),progress:t,target:30,xpReward:1e3,type:"milestone",icon:"🏆",color:"from-yellow-500 to-orange-500"}},{condition:r<100,mission:{id:"habit-century",title:"Habit Century",description:"".concat(100-r," habits until Centurion badge"),progress:r,target:100,xpReward:500,type:"milestone",icon:"💯",color:"from-green-500 to-emerald-500"}},{condition:s<50,mission:{id:"focus-apprentice",title:"Focus Apprentice",description:"".concat(50-s," sessions until Focus Master"),progress:s,target:50,xpReward:400,type:"milestone",icon:"🧠",color:"from-blue-500 to-cyan-500"}},{condition:n<10,mission:{id:"clean-days",title:"Clean ".concat(w()," Days"),description:"".concat(10-n," clean ").concat(w().toLowerCase()," days until badge"),progress:n,target:10,xpReward:350,type:"milestone",icon:N(),color:"from-green-500 to-emerald-500"}}].find((function(e){return e.condition}));return a?a.mission:null},v=function(e){if(0===e.length)return 0;for(var t=e.sort((function(e,t){return new Date(t.date).getTime()-new Date(e.date).getTime()})),r=function(e){return 2*e.habitsCompleted+1*e.focusSessions-1*e.snusCount},s=(new Date).toISOString().split("T")[0],n=0,a=0,i=t;a<i.length;a++){var o=i[a],l=r(o);if(!(o.date===s&&l<3)){if(!(l>=3))break;n++}}return n},y=function(e,t){return Math.min(e/t*100,100)},j=function(){var e=new Date,t=e.getDay();if(0===t){var r=new Date(e);r.setHours(23,59,59,999);var s=Math.ceil((r.getTime()-e.getTime())/36e5);return s>1?"".concat(s,"h"):"final hours"}return"".concat(7-t," days")},w=function(){if(!r)return"Habit";if(r.addictionName&&r.addictionName.trim())return r.addictionName;switch(r.addictionType){case"snus":return"Snus";case"tobacco":return"Cigarette";case"alcohol":return"Drink";case"gambling":return"Gambling";default:return"Habit"}},N=function(){if(!r)return"🚭";switch(r.addictionType){case"snus":default:return"🚭";case"tobacco":return"🚬";case"alcohol":return"🍺";case"gambling":return"🎰";case"other":return"🎯"}};return(0,s.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:i.map((function(e){var t=m(e),r=c.has(t),n=e.progress>=e.target&&!r;return(0,s.jsx)(we,{className:"bg-black/40 backdrop-blur-xl border border-white/10 shadow-2xl rounded-3xl overflow-hidden hover:border-white/20 transition-all h-full",children:(0,s.jsxs)(Ce,{className:"p-6 h-full flex flex-col",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r ".concat(e.color," rounded-2xl flex items-center justify-center text-2xl shadow-lg ").concat(r?"opacity-60":""),children:r?"✅":e.icon}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("h3",{className:"font-bold text-lg mb-1 ".concat(r?"text-gray-400":"text-white"),children:[e.title,r&&(0,s.jsx)("span",{className:"text-green-400 ml-2",children:"✓"})]}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:e.description})]})]})}),(0,s.jsxs)("div",{className:"mb-4 flex-1",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,s.jsx)("span",{className:"text-sm font-medium ".concat(r?"text-gray-400":"text-gray-300"),children:"Progress"}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("span",{className:"text-sm font-bold ".concat(r?"text-green-400":"text-white"),children:[Math.min(e.progress,e.target)," / ",e.target]}),"weekly"===e.type&&!r&&(0,s.jsxs)("span",{className:"text-orange-400 text-sm font-medium",children:[j()," left"]})]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-800/60 rounded-full h-3 relative overflow-hidden border border-white/10 shadow-inner",children:(0,s.jsx)("div",{className:"bg-gradient-to-r ".concat(r?"from-green-500 to-emerald-500":e.color," h-full rounded-full transition-all duration-1000 relative shadow-lg"),style:{width:"".concat(y(e.progress,e.target),"%")},children:(0,s.jsx)("div",{className:"absolute inset-0 bg-white/20 animate-pulse opacity-50"})})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 ".concat(r?"text-green-400":"text-yellow-400"),children:[(0,s.jsx)(F.A,{className:"h-4 w-4"}),(0,s.jsxs)("span",{className:"text-sm font-medium",children:[r?"Claimed":"+",e.xpReward," XP"]})]}),!r&&(0,s.jsxs)("div",{className:"flex items-center text-blue-400 text-sm",children:[(0,s.jsxs)("span",{className:"mr-2",children:[e.target-e.progress," to go"]}),(0,s.jsx)(be.A,{className:"h-4 w-4"})]})]}),r&&(0,s.jsx)("div",{className:"mt-4 p-3 bg-green-500/20 border border-green-500/30 rounded-xl",children:(0,s.jsxs)("div",{className:"flex items-center text-green-400 text-sm font-medium",children:[(0,s.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Mission Complete! XP Awarded"]})}),n&&!r&&(0,s.jsx)("div",{className:"mt-4 p-3 bg-yellow-500/20 border border-yellow-500/30 rounded-xl animate-pulse",children:(0,s.jsxs)("div",{className:"flex items-center text-yellow-400 text-sm font-medium",children:[(0,s.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Ready to claim reward!"]})})]})},e.id)}))})}var Xr=r(7125),Yr=function(){return Yr=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Yr.apply(this,arguments)},qr=Xr.Kq,Vr=Xr.bL,Kr=Xr.l9,Jr=n.forwardRef((function(e,t){var r=e.className,n=e.sideOffset,a=void 0===n?4:n,i=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]])}return r}(e,["className","sideOffset"]);return(0,s.jsx)(Xr.UC,Yr({ref:t,sideOffset:a,className:b("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r)},i))}));Jr.displayName=Xr.UC.displayName;var _r=r(8852),$r=function(){return $r=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},$r.apply(this,arguments)},Zr=function(e,t,r,s){return new(r||(r=Promise))((function(n,a){function i(e){try{l(s.next(e))}catch(e){a(e)}}function o(e){try{l(s.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))},Qr=function(e,t){var r,s,n,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(r=1,s&&(n=2&o[0]?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},es=function(e,t,r){if(r||2===arguments.length)for(var s,n=0,a=t.length;n<a;n++)!s&&n in t||(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))};function ts(e){var t=this,r=e.className,a=e.userConfig,i=(0,n.useState)({}),o=i[0],l=i[1],c=(0,n.useState)(null),d=c[0],u=c[1],h=(0,n.useState)(!1),x=h[0],m=h[1],b=(0,n.useState)(new Date),p=b[0],g=b[1],f=(0,n.useState)(!0),v=f[0],y=f[1],j=(0,n.useState)([]),N=j[0],k=j[1];(0,n.useEffect)((function(){T(),P();var e=function(){T()};return window.addEventListener("dailyLogsUpdated",e),function(){window.removeEventListener("dailyLogsUpdated",e)}}),[]);var D,T=function(){return Zr(t,void 0,void 0,(function(){var e,t;return Qr(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,3,4]),[4,G.load("daily-logs")];case 1:return e=r.sent()||{},l(e),[3,4];case 2:return t=r.sent(),console.error("Error loading daily logs:",t),[3,4];case 3:return y(!1),[7];case 4:return[2]}}))}))},P=function(){return Zr(t,void 0,void 0,(function(){var e,t;return Qr(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,G.load("habits")];case 1:return(e=r.sent()||[]).length>0?k(e.map((function(e){return e.name}))):k(["First Workout","No Alcohol","Second Workout","Read 10 pages","Follow a healthy diet","Drink water"]),[3,3];case 2:return t=r.sent(),console.error("Error loading habits:",t),k(["First Workout","No Alcohol","Second Workout","Read 10 pages","Follow a healthy diet","Drink water"]),[3,3];case 3:return[2]}}))}))},M=function(e){return e?Math.max(0,2*e.habitsCompleted+1*e.focusSessions-1*e.snusCount):-999},O=function(e,t){var r,s=new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});if(!t)return"".concat(s,"\nNo activity recorded");var n=M(t);return"".concat(s,"\n✅ ").concat(t.habitsCompleted," habits\n⏱️ ").concat(t.focusSessions," focus sessions\n🚫 ").concat(t.snusCount," ").concat((null===(r=null==a?void 0:a.addictionName)||void 0===r?void 0:r.toLowerCase())||"snus","\nScore: ").concat(n)},E=function(e){var t=new Date(p);"prev"===e?t.setMonth(t.getMonth()-1):t.setMonth(t.getMonth()+1),g(t)},L=function(){for(var e=[],t=p.getFullYear(),r=p.getMonth(),s=new Date(t,r+1,0).getDate(),n=1;n<=s;n++){var a=new Date(t,r,n);e.push(a.toISOString().split("T")[0])}return e}(),R=p.toLocaleDateString("en-US",{month:"long",year:"numeric"});return v?(0,s.jsx)(we,{className:"bg-gradient-to-br from-black/70 to-black/60 backdrop-blur-xl border border-white/10 h-full",children:(0,s.jsx)(Ce,{className:"p-6 flex items-center justify-center h-full",children:(0,s.jsx)("div",{className:"text-gray-400",children:"Loading journey..."})})}):(0,s.jsx)(qr,{children:(0,s.jsxs)(we,{className:"bg-gradient-to-br from-black/70 to-black/60 backdrop-blur-xl border border-white/10 h-full flex flex-col rounded-3xl ".concat(r),children:[(0,s.jsxs)(Ne,{className:"pb-2 flex-shrink-0",children:[(0,s.jsxs)(ke,{className:"text-lg font-bold text-white flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-green-400 to-blue-500 rounded-lg flex items-center justify-center",children:(0,s.jsx)(He.A,{className:"h-4 w-4 text-white"})}),(0,s.jsx)("span",{children:"Journey Heatmap"})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:["Your daily progress for ",R]})]}),(0,s.jsxs)(Ce,{className:"p-4 pt-0 flex-1 flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)($,{variant:"ghost",size:"sm",onClick:function(){return E("prev")},className:"text-gray-400 hover:text-white",children:(0,s.jsx)(Ee.A,{className:"h-4 w-4"})}),(0,s.jsx)("h3",{className:"text-base font-semibold text-white",children:R}),(0,s.jsx)($,{variant:"ghost",size:"sm",onClick:function(){return E("next")},disabled:(D=new Date(p),D.setMonth(D.getMonth()+1),!(D<=new Date)),className:"text-gray-400 hover:text-white disabled:opacity-30",children:(0,s.jsx)(Le.A,{className:"h-4 w-4"})})]}),(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center mb-4",children:(0,s.jsxs)("div",{className:"grid gap-1 w-full max-w-full",style:{gridTemplateColumns:"repeat(7, 1fr)",aspectRatio:"7/5"},children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((function(e){return(0,s.jsx)("div",{className:"text-xs text-gray-400 text-center pb-1 font-medium",children:e},e)})),Array.from({length:new Date(p.getFullYear(),p.getMonth(),1).getDay()}).map((function(e,t){return(0,s.jsx)("div",{},"empty-".concat(t))})),L.map((function(e){var t,r,n,a,i=o[e],l=M(i),c=function(e,t){return t&&-999!==e?e>=5?"bg-green-500 border-green-600":e>=3?"bg-lime-400 border-lime-500":e>=1?"bg-yellow-400 border-yellow-500":0===e?"bg-slate-600 border-slate-700":"bg-red-500 border-red-600":"bg-gray-600 border-gray-700"}(l,!!i),d=function(e,t){return t&&-999!==e?e>=5?"opacity-100":e>=3?"opacity-80":e>=1?"opacity-60":0===e?"opacity-50":"opacity-70":"opacity-20"}(l,!!i),h=new Date(e).getDate(),x=(t=new Date(e),r=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=new Date(r.getFullYear(),r.getMonth(),r.getDate()),n.getTime()>a.getTime());return(0,s.jsxs)(Vr,{children:[(0,s.jsx)(Kr,{asChild:!0,children:(0,s.jsx)("button",{onClick:function(){return function(e){u(e),m(!0)}(e)},className:"\n                          aspect-square rounded border cursor-pointer transition-all duration-200 hover:scale-105 hover:z-10 relative flex items-center justify-center text-xs font-medium\n                          ".concat(c," ").concat(d,"\n                          ").concat(x?"opacity-30 cursor-not-allowed":"","\n                        "),children:(0,s.jsx)("span",{className:"text-white drop-shadow-sm",children:h})})}),(0,s.jsx)(Jr,{className:"bg-black/90 border border-white/20 text-white text-xs whitespace-pre-line",children:O(e,i)})]},e)}))]})}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-400 mb-4",children:[(0,s.jsx)("span",{children:"Less"}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)("div",{className:"w-3 h-3 bg-gray-600 rounded border opacity-20",title:"No data"}),(0,s.jsx)("div",{className:"w-3 h-3 bg-slate-600 rounded border opacity-50",title:"Score: 0"}),(0,s.jsx)("div",{className:"w-3 h-3 bg-yellow-400 rounded border opacity-60",title:"Score: 1-2"}),(0,s.jsx)("div",{className:"w-3 h-3 bg-lime-400 rounded border opacity-80",title:"Score: 3-4"}),(0,s.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded border opacity-100",title:"Score: 5+"})]}),(0,s.jsx)("span",{children:"More"})]}),(0,s.jsx)("div",{className:"pt-4 border-t border-white/10 flex-shrink-0",children:(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-3 text-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-lg font-bold text-green-400",children:L.filter((function(e){var t=o[e],r=M(t);return t&&r>=3&&-999!==r})).length}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"Great Days"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-lg font-bold text-blue-400",children:L.reduce((function(e,t){var r;return e+((null===(r=o[t])||void 0===r?void 0:r.focusSessions)||0)}),0)}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"Focus Sessions"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-lg font-bold text-purple-400",children:L.reduce((function(e,t){var r;return e+((null===(r=o[t])||void 0===r?void 0:r.habitsCompleted)||0)}),0)}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"Total Habits"})]})]})})]}),(0,s.jsx)((function(){var e,r=(0,n.useState)({habitsCompleted:0,focusSessions:0,snusCount:0,completedHabits:[]}),i=r[0],c=r[1];(0,n.useEffect)((function(){if(d){var e=o[d];c(e?{habitsCompleted:e.habitsCompleted,focusSessions:e.focusSessions,snusCount:e.snusCount,completedHabits:e.completedHabits||[]}:{habitsCompleted:0,focusSessions:0,snusCount:0,completedHabits:[]})}}),[d]);var h,b,p,g,f=d?new Date(d).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"",v=M($r({date:d||""},i)),y=!!d&&(h=new Date(d),b=new Date,p=new Date(h.getFullYear(),h.getMonth(),h.getDate()),g=new Date(b.getFullYear(),b.getMonth(),b.getDate()),p.getTime()>g.getTime()),j=function(){if(!a)return"Habit";if(a.addictionName&&a.addictionName.trim())return a.addictionName;switch(a.addictionType){case"snus":return"Snus";case"tobacco":return"Cigarette";case"alcohol":return"Drink";case"gambling":return"Gambling";default:return"Habit"}};return(0,s.jsx)(w,{open:x,onOpenChange:m,children:(0,s.jsxs)(C,{className:"bg-black/90 border border-white/20 text-white max-w-md",children:[(0,s.jsxs)(S,{children:[(0,s.jsxs)(A,{className:"text-xl font-bold flex items-center space-x-2",children:[(0,s.jsx)(He.A,{className:"h-5 w-5 text-blue-400"}),(0,s.jsx)("span",{children:"Daily Log"})]}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:f})]}),y?(0,s.jsxs)("div",{className:"py-6 text-center",children:[(0,s.jsx)("div",{className:"text-gray-400 mb-2",children:"📅"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Can't log future dates"})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-r from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-gray-400",children:"Daily Score"}),(0,s.jsx)("span",{className:"text-2xl font-bold ".concat(v>=5?"text-green-400":v>=3?"text-lime-400":v>=1?"text-yellow-400":0===v?"text-gray-400":"text-red-400"),children:v})]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Habits×2 + Focus×1 - ",j().toLowerCase(),"×1"]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(ce,{className:"text-sm text-gray-300 flex items-center space-x-2",children:[(0,s.jsx)(ee.A,{className:"h-4 w-4 text-green-400"}),(0,s.jsxs)("span",{children:["Habits Completed (",(null===(e=i.completedHabits)||void 0===e?void 0:e.length)||0,")"]})]}),(0,s.jsx)("div",{className:"space-y-2",children:N.map((function(e){var t;return(0,s.jsxs)("label",{className:"flex items-center space-x-3 p-2 rounded-lg bg-white/5 hover:bg-white/10 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:(null===(t=i.completedHabits)||void 0===t?void 0:t.includes(e))||!1,onChange:function(){return t=e,r=i.completedHabits||[],s=r.includes(t)?r.filter((function(e){return e!==t})):es(es([],r,!0),[t],!1),void c((function(e){return $r($r({},e),{completedHabits:s,habitsCompleted:s.length})}));var t,r,s},className:"w-4 h-4 text-green-400 bg-transparent border-gray-300 rounded focus:ring-green-400"}),(0,s.jsx)("span",{className:"text-sm text-gray-300",children:e})]},e)}))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(ce,{className:"text-sm text-gray-300 flex items-center space-x-2",children:[(0,s.jsx)(te.A,{className:"h-4 w-4 text-blue-400"}),(0,s.jsx)("span",{children:"Focus Sessions"})]}),(0,s.jsx)(ie,{type:"number",value:i.focusSessions,onChange:function(e){return c((function(t){return $r($r({},t),{focusSessions:parseInt(e.target.value)||0})}))},className:"bg-white/5 border-white/10 text-white",min:"0",max:"20"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(ce,{className:"text-sm text-gray-300 flex items-center space-x-2",children:[(0,s.jsx)("span",{children:function(){if(!a)return"🚭";switch(a.addictionType){case"snus":default:return"🚭";case"tobacco":return"🚬";case"alcohol":return"🍺";case"gambling":return"🎰";case"other":return"🎯"}}()}),(0,s.jsxs)("span",{children:[j()," Count"]})]}),(0,s.jsx)(ie,{type:"number",value:i.snusCount,onChange:function(e){return c((function(t){return $r($r({},t),{snusCount:parseInt(e.target.value)||0})}))},className:"bg-white/5 border-white/10 text-white",min:"0",max:"50"})]})]}),(0,s.jsxs)($,{onClick:function(){return Zr(t,void 0,void 0,(function(){return Qr(this,(function(e){switch(e.label){case 0:return d?[4,(r=d,s=i,Zr(t,void 0,void 0,(function(){var e,t,n,a,i,c,d;return Qr(this,(function(u){switch(u.label){case 0:return e=$r($r({},o),((d={})[r]=$r({date:r},s),d)),l(e),[4,G.save("daily-logs",e)];case 1:return u.sent(),t=new Date(r),n=t.toDateString(),a="pending",a=0===s.snusCount?"success":s.snusCount<=5?"pending":"failed",[4,G.load("day-data-".concat(n))];case 2:return i=u.sent()||{},c=$r($r({},i),{date:n,habits:s.completedHabits||[],focusSessions:s.focusSessions,snusStatus:a,snusCount:s.snusCount,allHabitsCompleted:!1,lastManualEdit:(new Date).toISOString()}),[4,G.save("day-data-".concat(n),c)];case 3:return u.sent(),window.dispatchEvent(new CustomEvent("dailyLogsUpdated")),[2]}}))})))]:[3,2];case 1:e.sent(),m(!1),u(null),e.label=2;case 2:return[2]}var r,s}))}))},className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[(0,s.jsx)(_r.A,{className:"h-4 w-4 mr-2"}),"Save Daily Log"]})]})]})})}),{})]})})}function rs(e){var t=e.achievement,r=e.isOpen,n=e.onClose,a=e.userConfig;if(!t)return null;var i,o=function(){if(!a)return"Habit";if(a.addictionName&&a.addictionName.trim())return a.addictionName;switch(a.addictionType){case"snus":return"Snus";case"tobacco":return"Cigarette";case"alcohol":return"Drink";case"gambling":return"Gambling";default:return"Habit"}},l=function(e){switch(e){case"habit":return"from-purple-500 to-pink-500";case"focus":return"from-blue-500 to-cyan-500";case"snus":return"from-green-500 to-emerald-500";case"streak":return"from-orange-500 to-red-500";case"wildcard":return"from-yellow-500 to-orange-500";default:return"from-gray-500 to-gray-600"}},c=(i=t.id,{"starter-spark":{detailed:"Your first steps into habit building! Complete any 5 habits total to unlock this foundational achievement. This badge represents the beginning of your transformation journey.",tips:["Start with small, easy habits to build momentum","Track your habits consistently in the Journey Heatmap","Focus on completion rather than perfection"]},"flow-initiate":{detailed:"Enter the realm of deep work by completing 5 focus sessions. Each session represents your commitment to undivided attention and productivity.",tips:["Use the Pomodoro technique for structured focus","Eliminate distractions before starting sessions","Start with shorter sessions if needed"]},"clean-day":{detailed:"Achieve your first completely ".concat(o().toLowerCase(),"-free day. This milestone represents your first victory over unwanted habits and the beginning of healthier choices."),tips:["Replace ".concat(o().toLowerCase()," times with healthy alternatives"),"Track triggers that lead to ".concat(o().toLowerCase()," use"),"Celebrate small wins along the way"]},"mission-master":{detailed:"Demonstrate consistency by completing 3 weekly missions. This achievement shows your ability to commit to structured challenges and see them through.",tips:["Focus on one mission at a time","Break weekly goals into daily targets","Use the mission deadline for motivation"]},"streak-lord":{detailed:"The ultimate consistency achievement! Maintain a 30-day quality streak where each day scores 3+ points. This represents true habit mastery.",tips:["Build daily routines that support your goals","Have backup plans for challenging days","Track your streak daily for motivation"]},perfectionist:{detailed:"Achieve peak daily performance by scoring 10+ points in a single day. This shows your ability to have exceptional days of habits, focus, and discipline.",tips:["Plan high-score days in advance","Combine multiple habits with focus sessions","Avoid any negative behaviors on these days"]}}[i]||{detailed:t.description,tips:["Keep working towards this achievement!"]}),u=c.detailed,h=c.tips;return(0,s.jsx)(w,{open:r,onOpenChange:n,children:(0,s.jsxs)(C,{className:"bg-black/95 border border-white/20 text-white max-w-md",children:[(0,s.jsx)(S,{children:(0,s.jsxs)(A,{className:"text-xl font-bold flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-2xl ".concat(t.unlocked?"bg-gradient-to-br ".concat(l(t.category)," shadow-lg"):"bg-gray-700 opacity-50"),children:t.unlocked?t.icon:(0,s.jsx)(B.A,{className:"h-6 w-6 text-gray-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{children:t.title}),t.unlocked&&(0,s.jsx)(R.A,{className:"h-5 w-5 text-green-400 inline ml-2"})]})]})}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(O,{variant:"secondary",className:"bg-gradient-to-r ".concat(l(t.category)," text-white border-none"),children:function(e){switch(e){case"habit":return"Habit Mastery";case"focus":return"Focus & Flow";case"snus":return"".concat(o()," Resistance");case"streak":return"Streaks & Discipline";case"wildcard":return"Special Achievements";default:return"Achievement"}}(t.category)}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-yellow-400",children:[(0,s.jsx)(F.A,{className:"h-4 w-4"}),(0,s.jsxs)("span",{className:"font-medium",children:["+",t.xpReward," XP"]})]})]}),(0,s.jsxs)("div",{className:"p-4 rounded-xl border ".concat(t.unlocked?"bg-green-500/10 border-green-500/30":"bg-blue-500/10 border-blue-500/30"),children:[(0,s.jsx)("div",{className:"flex items-center space-x-2 mb-2",children:t.unlocked?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(R.A,{className:"h-5 w-5 text-green-400"}),(0,s.jsx)("span",{className:"text-green-400 font-medium",children:"Achievement Unlocked!"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ee.A,{className:"h-5 w-5 text-blue-400"}),(0,s.jsx)("span",{className:"text-blue-400 font-medium",children:"In Progress"})]})}),t.progress&&!t.unlocked&&(0,s.jsxs)("p",{className:"text-sm text-gray-300",children:["Progress: ",t.progress]}),t.unlocked&&t.dateUnlocked&&(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[(0,s.jsx)(He.A,{className:"h-4 w-4"}),(0,s.jsxs)("span",{children:["Unlocked ",new Date(t.dateUnlocked).toLocaleDateString()]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Description"}),(0,s.jsx)("p",{className:"text-sm text-gray-300 leading-relaxed",children:u})]}),!t.unlocked&&h.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Tips to Unlock"}),(0,s.jsx)("ul",{className:"space-y-1",children:h.map((function(e,t){return(0,s.jsxs)("li",{className:"text-sm text-gray-400 flex items-start space-x-2",children:[(0,s.jsx)("span",{className:"text-blue-400 mt-1",children:"•"}),(0,s.jsx)("span",{children:e})]},t)}))})]}),(0,s.jsx)("div",{className:"pt-4 border-t border-white/10",children:(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,s.jsxs)("span",{children:["Achievement ID: ",t.id]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(d.A,{className:"h-3 w-3"}),(0,s.jsx)("span",{children:t.xpReward>=1e3?"Legendary":t.xpReward>=500?"Epic":t.xpReward>=300?"Rare":t.xpReward>=200?"Uncommon":"Common"})]})]})})]})]})})}var ss=function(){return ss=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},ss.apply(this,arguments)},ns=function(e,t,r,s){return new(r||(r=Promise))((function(n,a){function i(e){try{l(s.next(e))}catch(e){a(e)}}function o(e){try{l(s.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))},as=function(e,t){var r,s,n,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(r=1,s&&(n=2&o[0]?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},is=function(e,t,r){if(r||2===arguments.length)for(var s,n=0,a=t.length;n<a;n++)!s&&n in t||(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))};function os(e){var t=this,r=e.userConfig,a=(0,n.useState)([]),i=a[0],o=a[1],l=(0,n.useState)(!0),c=l[0],u=l[1],h=(0,n.useState)(0),x=h[0],m=h[1],b=(0,n.useState)(null),p=b[0],g=b[1],f=(0,n.useState)(!1),v=f[0],y=f[1];(0,n.useEffect)((function(){k();var e=function(){k()};return window.addEventListener("dailyLogsUpdated",e),window.addEventListener("missionCompleted",e),function(){window.removeEventListener("dailyLogsUpdated",e),window.removeEventListener("missionCompleted",e)}}),[]);var j,w,N,k=function(){return ns(t,void 0,void 0,(function(){var e,t,s,n,a,i,l,c,d,h,x,m;return as(this,(function(b){switch(b.label){case 0:return b.trys.push([0,5,6,7]),[4,G.load("daily-logs")];case 1:return e=b.sent()||{},t=Object.values(e),[4,G.load("completed-missions")];case 2:return s=b.sent()||[],[4,G.load("habit-streak")];case 3:return b.sent(),n=t.reduce((function(e,t){return e+t.habitsCompleted}),0),a=t.reduce((function(e,t){return e+t.focusSessions}),0),i=t.filter((function(e){return 0===e.snusCount})).length,l=S(t),Math.floor(.42*a),d=function(){if(!r)return"🚭";switch(r.addictionType){case"snus":default:return"🚭";case"tobacco":return"🚬";case"alcohol":return"🍺";case"gambling":return"🎰";case"other":return"🎯"}},h=[{id:"starter-spark",title:"Starter Spark",icon:"⚡",description:"Complete 5 habits total",category:"habit",xpReward:100},{id:"flow-initiate",title:"Flow Initiate",icon:"🧘‍♂️",description:"Log 5 deep work sessions",category:"focus",xpReward:100},{id:"clean-day",title:"Clean ".concat((c=function(){if(!r)return"Habit";if(r.addictionName&&r.addictionName.trim())return r.addictionName;switch(r.addictionType){case"snus":return"Snus";case"tobacco":return"Cigarette";case"alcohol":return"Drink";case"gambling":return"Gambling";default:return"Habit"}})()," Day"),icon:d(),description:"Take 0 ".concat(c().toLowerCase()," in a day"),category:"habit",xpReward:200},{id:"first-score",title:"First Score",icon:"🎯",description:"Achieve a daily score of 3+",category:"wildcard",xpReward:150},{id:"habit-duo",title:"Habit Duo",icon:"👥",description:"Complete 2 habits in one day",category:"habit",xpReward:75},{id:"focus-rookie",title:"Focus Rookie",icon:"🎓",description:"Complete your first focus session",category:"focus",xpReward:50},{id:"habit-trio",title:"Habit Trio",icon:"🔥",description:"Complete 3 habits in one day",category:"habit",xpReward:200},{id:"focus-flow",title:"Focus Flow",icon:"🌊",description:"Complete 3 focus sessions in one day",category:"focus",xpReward:250},{id:"clean-streak-3",title:"Clean Trio",icon:"🌈",description:"3 clean days in a row",category:"snus",xpReward:300},{id:"week-warrior",title:"Week Warrior",icon:"⚔️",description:"7-day habit streak",category:"streak",xpReward:400},{id:"focus-champion",title:"Focus Champion",icon:"🏆",description:"Complete 10 focus sessions total",category:"focus",xpReward:300},{id:"habit-machine",title:"Habit Machine",icon:"🤖",description:"Complete 20 habits total",category:"habit",xpReward:250},{id:"mission-master",title:"Mission Master",icon:"🏆",description:"Complete 3 weekly missions",category:"wildcard",xpReward:400},{id:"habit-fifty",title:"Half Century",icon:"🎯",description:"Complete 50 habits total",category:"habit",xpReward:500},{id:"focus-marathon",title:"Focus Marathon",icon:"🏃‍♂️",description:"Complete 25 focus sessions total",category:"focus",xpReward:450},{id:"clean-week",title:"Clean Week",icon:"✨",description:"7 clean days in a week",category:"snus",xpReward:600},{id:"perfectionist",title:"Perfectionist",icon:"💎",description:"Score 10+ on a single day",category:"wildcard",xpReward:400},{id:"two-week-king",title:"Two Week King",icon:"👑",description:"14-day habit streak",category:"streak",xpReward:700},{id:"habit-century",title:"Centurion",icon:"💯",description:"Complete 100 habits total",category:"habit",xpReward:750},{id:"focus-master",title:"Focus Master",icon:"🧠",description:"Complete 50 focus sessions total",category:"focus",xpReward:600},{id:"clean-month",title:"Clean Month",icon:"🗓️",description:"30 clean days total",category:"snus",xpReward:1e3},{id:"streak-lord",title:"Streak Lord",icon:"👑",description:"30-day habit streak",category:"streak",xpReward:1e3},{id:"power-user",title:"Power User",icon:"⚡",description:"Score 15+ on a single day",category:"wildcard",xpReward:600},{id:"mission-legend",title:"Mission Legend",icon:"🏅",description:"Complete 10 weekly missions",category:"wildcard",xpReward:800},{id:"habit-legend",title:"Habit Legend",icon:"🦄",description:"Complete 200 habits total",category:"habit",xpReward:1200},{id:"focus-god",title:"Focus God",icon:"⭐",description:"Complete 100 focus sessions total",category:"focus",xpReward:1e3},{id:"snus-slayer",title:"Snus Slayer",icon:"🗡️",description:"90 clean days total",category:"snus",xpReward:1500},{id:"immortal-streak",title:"Immortal",icon:"👼",description:"100-day habit streak",category:"streak",xpReward:2e3},{id:"daily-dominator",title:"Daily Dominator",icon:"🌟",description:"Score 20+ on a single day",category:"wildcard",xpReward:1e3},{id:"ultimate-master",title:"Ultimate Master",icon:"🎭",description:"Complete 25 weekly missions",category:"wildcard",xpReward:1500}],x=h.map((function(e){var r=!1,o="";switch(e.id){case"starter-spark":o=(r=n>=5)?"":"".concat(n,"/5");break;case"flow-initiate":o=(r=a>=5)?"":"".concat(a,"/5");break;case"clean-day":o=(r=i>=1)?"":"".concat(i,"/1");break;case"first-score":o=(r=t.some((function(e){return 2*e.habitsCompleted+1*e.focusSessions-1*e.snusCount>=3})))?"":"Score 3+ points";break;case"habit-duo":o=(r=t.some((function(e){return e.habitsCompleted>=2})))?"":"Complete 2 habits/day";break;case"focus-rookie":o=(r=a>=1)?"":"".concat(a,"/1");break;case"habit-trio":o=(r=t.some((function(e){return e.habitsCompleted>=3})))?"":"Complete 3 habits/day";break;case"focus-flow":o=(r=t.some((function(e){return e.focusSessions>=3})))?"":"Complete 3 sessions/day";break;case"clean-streak-3":o=(r=A(t,3))?"":"3 clean days in a row";break;case"week-warrior":o=(r=l>=7)?"":"".concat(l,"/7");break;case"focus-champion":o=(r=a>=10)?"":"".concat(a,"/10");break;case"habit-machine":o=(r=n>=20)?"":"".concat(n,"/20");break;case"mission-master":o=(r=s.length>=3)?"":"".concat(s.length,"/3");break;case"habit-fifty":o=(r=n>=50)?"":"".concat(n,"/50");break;case"focus-marathon":o=(r=a>=25)?"":"".concat(a,"/25");break;case"clean-week":o=(r=D(t,7))?"":"7 clean days in week";break;case"perfectionist":o=(r=T(t))?"":"Score 10+ in one day";break;case"two-week-king":o=(r=l>=14)?"":"".concat(l,"/14");break;case"habit-century":o=(r=n>=100)?"":"".concat(n,"/100");break;case"focus-master":o=(r=a>=50)?"":"".concat(a,"/50");break;case"clean-month":o=(r=i>=30)?"":"".concat(i,"/30");break;case"streak-lord":o=(r=l>=30)?"":"".concat(l,"/30");break;case"power-user":o=(r=t.some((function(e){return 2*e.habitsCompleted+1*e.focusSessions-1*e.snusCount>=15})))?"":"Score 15+ in one day";break;case"mission-legend":o=(r=s.length>=10)?"":"".concat(s.length,"/10");break;case"habit-legend":o=(r=n>=200)?"":"".concat(n,"/200");break;case"focus-god":o=(r=a>=100)?"":"".concat(a,"/100");break;case"snus-slayer":o=(r=i>=90)?"":"".concat(i,"/90");break;case"immortal-streak":o=(r=l>=100)?"":"".concat(l,"/100");break;case"daily-dominator":o=(r=t.some((function(e){return 2*e.habitsCompleted+1*e.focusSessions-1*e.snusCount>=20})))?"":"Score 20+ in one day";break;case"ultimate-master":o=(r=s.length>=25)?"":"".concat(s.length,"/25")}return ss(ss({},e),{unlocked:r,progress:r?void 0:o,dateUnlocked:r?(new Date).toISOString().split("T")[0]:void 0})})),[4,C(x)];case 4:return b.sent(),o(x),[3,7];case 5:return m=b.sent(),console.error("Error loading achievements:",m),[3,7];case 6:return u(!1),[7];case 7:return[2]}}))}))},C=function(e){return ns(t,void 0,void 0,(function(){var t,r,s,n,a,i,o,l,c,d;return as(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),[4,G.load("unlocked-achievements")];case 1:for(t=u.sent()||[],r=[],s=0,n=0,a=e;n<a.length;n++)i=a[n],o=t.includes(i.id),i.unlocked&&!o&&(r.push(i.id),s+=i.xpReward,console.log("🎉 Achievement unlocked: ".concat(i.title," (+").concat(i.xpReward," XP)")));return r.length>0?(l=is(is([],t,!0),r,!0),[4,G.save("unlocked-achievements",l)]):[3,5];case 2:return u.sent(),[4,G.load("achievement-xp")];case 3:return c=u.sent()||0,[4,G.save("achievement-xp",c+s)];case 4:u.sent(),window.dispatchEvent(new CustomEvent("achievementUnlocked",{detail:{newAchievements:r,xpAwarded:s}})),u.label=5;case 5:return[3,7];case 6:return d=u.sent(),console.error("Error checking achievement XP:",d),[3,7];case 7:return[2]}}))}))},S=function(e){if(0===e.length)return 0;for(var t=e.sort((function(e,t){return new Date(t.date).getTime()-new Date(e.date).getTime()})),r=function(e){return 2*e.habitsCompleted+1*e.focusSessions-1*e.snusCount},s=(new Date).toISOString().split("T")[0],n=0,a=0,i=t;a<i.length;a++){var o=i[a],l=r(o);if(!(o.date===s&&l<3)){if(!(l>=3))break;n++}}return n},A=function(e,t){for(var r=0,s=0,n=0,a=e.sort((function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()}));n<a.length;n++)0===a[n].snusCount?(r++,s=Math.max(s,r)):r=0;return s>=t},D=function(e,t){return e.filter((function(e){return 0===e.snusCount})).length>=t},T=function(e){return e.some((function(e){return 2*e.habitsCompleted+1*e.focusSessions-1*e.snusCount>=10}))},P=(w=6+(j=6*x),i.slice(j,w)),M=P.filter((function(e){return e.unlocked})).length,O=P.length;return c?(0,s.jsx)(we,{className:"bg-gradient-to-br from-black/70 to-black/60 backdrop-blur-xl border border-white/10 h-full",children:(0,s.jsx)(Ce,{className:"p-6 flex items-center justify-center h-full",children:(0,s.jsx)("div",{className:"text-gray-400",children:"Loading achievements..."})})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(we,{className:"bg-gradient-to-br from-black/70 to-black/60 backdrop-blur-xl border border-white/10 h-full flex flex-col rounded-3xl",children:[(0,s.jsxs)(Ne,{className:"pb-2 flex-shrink-0",children:[(0,s.jsxs)(ke,{className:"text-lg font-bold text-white flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-400 to-indigo-500 rounded-lg flex items-center justify-center",children:(0,s.jsx)(d.A,{className:"h-4 w-4 text-white"})}),(0,s.jsx)("span",{children:"Achievement Wall"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:[(N=x,["Starter Achievements","Building Momentum","Serious Progress","Advanced Mastery","Legendary Status"][N]||"Achievements")," - ",M,"/",O," unlocked"]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)($,{variant:"ghost",size:"sm",onClick:function(){return m((function(e){return Math.max(0,e-1)}))},disabled:!(x>0),className:"text-gray-400 hover:text-white disabled:opacity-30 h-8 w-8 p-0",children:(0,s.jsx)(Ee.A,{className:"h-4 w-4"})}),(0,s.jsxs)("span",{className:"text-xs text-gray-500 px-2",children:[x+1,"/",5]}),(0,s.jsx)($,{variant:"ghost",size:"sm",onClick:function(){return m((function(e){return Math.min(4,e+1)}))},disabled:!(x<4),className:"text-gray-400 hover:text-white disabled:opacity-30 h-8 w-8 p-0",children:(0,s.jsx)(Le.A,{className:"h-4 w-4"})})]})]})]}),(0,s.jsxs)(Ce,{className:"p-4 pt-0 flex-1 flex flex-col",children:[(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center mb-4",children:(0,s.jsx)("div",{className:"grid grid-cols-2 gap-3 w-full",children:P.map((function(e){return(0,s.jsxs)("div",{onClick:function(){return function(e){g(e),y(!0)}(e)},className:"relative p-3 rounded-xl border transition-all duration-300 cursor-pointer hover:scale-105 ".concat(e.unlocked?"bg-gradient-to-br from-purple-500/10 to-indigo-500/10 border-purple-500/30 hover:border-purple-500/50":"bg-black/20 border-white/10 hover:border-white/20"),children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-lg mb-2 ".concat(e.unlocked?"bg-gradient-to-br from-purple-400 to-indigo-500 shadow-lg":"bg-gray-700 opacity-50"),children:e.unlocked?e.icon:(0,s.jsx)(B.A,{className:"h-4 w-4 text-gray-400"})}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("h3",{className:"font-semibold text-xs ".concat(e.unlocked?"text-white":"text-gray-400"),children:e.title}),e.unlocked?(0,s.jsxs)("div",{className:"flex items-center space-x-1 text-green-400",children:[(0,s.jsx)(R.A,{className:"h-3 w-3"}),(0,s.jsxs)("span",{className:"text-xs",children:["+",e.xpReward," XP"]})]}):e.progress?(0,s.jsx)("div",{className:"text-xs text-blue-400 font-medium",children:e.progress}):(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"Locked"})]}),e.unlocked&&(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/20 to-indigo-500/20 rounded-xl opacity-0 hover:opacity-100 transition-opacity duration-300 pointer-events-none"})]},e.id)}))})}),(0,s.jsx)("div",{className:"pt-4 border-t border-white/10 flex-shrink-0",children:(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-3 text-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-lg font-bold text-purple-400",children:i.filter((function(e){return e.unlocked})).length}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"Total Unlocked"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-lg font-bold text-blue-400",children:i.filter((function(e){return e.unlocked})).reduce((function(e,t){return e+t.xpReward}),0)}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"Total XP"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-lg font-bold text-purple-400",children:[Math.round(i.filter((function(e){return e.unlocked})).length/i.length*100),"%"]}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"Overall Progress"})]})]})})]})]}),(0,s.jsx)(rs,{achievement:p,isOpen:v,onClose:function(){y(!1),g(null)}})]})}var ls=r(3345),cs=r(5773),ds=function(e,t,r){if(r||2===arguments.length)for(var s,n=0,a=t.length;n<a;n++)!s&&n in t||(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},us=["Very Unpleasant","Unpleasant","Slightly Unpleasant","Neutral","Slightly Pleasant","Pleasant","Very Pleasant"],hs=[{position:0,bg:[140,120,120],blob:[155,135,135]},{position:16.67,bg:[150,130,115],blob:[165,145,130]},{position:33.33,bg:[145,140,125],blob:[160,155,140]},{position:50,bg:[125,135,155],blob:[140,150,170]},{position:66.67,bg:[130,145,135],blob:[145,160,150]},{position:83.33,bg:[135,150,140],blob:[150,165,155]},{position:100,bg:[140,155,145],blob:[155,170,160]}],xs=function(e,t,r){return[Math.round(e[0]+(t[0]-e[0])*r),Math.round(e[1]+(t[1]-e[1])*r),Math.round(e[2]+(t[2]-e[2])*r)]},ms=["Health","Exercise","Self-care","Hobbies","Identity","Spirituality","Community","Family","Friends","Partner","Dating","Goals","Work","Education","Travel","Weather","News","Money","Achievements","Challenges"];function bs(e){var t,r,a,i,o,l,c,d,u=e.initialValue,h=void 0===u?3:u,x=e.onComplete,m=e.onSkip,b=(0,n.useState)("mood"),p=b[0],g=b[1],f=(0,n.useState)(16.67*h),v=f[0],y=f[1],j=(0,n.useState)([]),w=j[0],N=j[1],k=(0,n.useState)([]),C=k[0],S=k[1],A=(0,n.useState)(!1),D=A[0],T=A[1],P=(0,n.useState)(!1),M=P[0],O=P[1],E=function(e){return e<=8.33?0:e<=25?1:e<=41.67?2:e<=58.33?3:e<=75?4:e<=91.67?5:6},L=E(v),R=function(e){for(var t=hs[0],r=hs[hs.length-1],s=0;s<hs.length-1;s++)if(e>=hs[s].position&&e<=hs[s+1].position){t=hs[s],r=hs[s+1];break}var n=r.position-t.position,a=0===n?0:(e-t.position)/n,i=xs(t.bg,r.bg,a),o=xs(t.blob,r.blob,a);return{bg:"from-[rgb(".concat(i[0],",").concat(i[1],",").concat(i[2],")] to-[rgb(").concat(Math.round(.8*i[0]),",").concat(Math.round(.8*i[1]),",").concat(Math.round(.8*i[2]),")]"),blob:"fill-[rgb(".concat(o[0],",").concat(o[1],",").concat(o[2],")]")}}(v),F=us[L]||us[3],I=function(e,t){void 0===t&&(t=200);var r=t/2,s=t/2;switch(e){case 0:return{main:U(r,s,70,8,.4,0),layer1:U(r,s,55,8,.3,25),layer2:U(r,s,40,8,.25,50),center:H(r,s,12)};case 1:return{main:U(r,s,75,12,.3,0),layer1:U(r,s,60,12,.25,15),layer2:U(r,s,45,12,.2,30),center:H(r,s,15)};case 2:return{main:U(r,s,65,6,.25,0),layer1:U(r,s,50,6,.2,30),layer2:U(r,s,35,6,.15,60),center:H(r,s,14)};case 3:return{main:H(r,s,70),layer1:H(r,s,55),layer2:H(r,s,40),center:H(r,s,15)};case 4:return{main:U(r,s,68,5,.15,0),layer1:U(r,s,54,5,.12,36),layer2:U(r,s,40,5,.1,72),center:H(r,s,16)};case 5:return{main:U(r,s,72,8,.2,0),layer1:U(r,s,58,8,.15,22.5),layer2:U(r,s,44,8,.12,45),center:H(r,s,18)};case 6:return{main:U(r,s,75,10,.18,0),layer1:U(r,s,62,10,.14,18),layer2:U(r,s,48,10,.11,36),center:H(r,s,20)};default:return{main:H(r,s,60),layer1:H(r,s,45),layer2:H(r,s,30),center:H(r,s,15)}}},U=function(e,t,r,s,n,a){void 0===a&&(a=0);for(var i=[],o=2*Math.PI/(4*s),l=a*Math.PI/180,c=0;c<4*s;c++){var d=c*o+l,u=c/4%1,h=r*(.6+.4*Math.pow(Math.sin(u*Math.PI),.6)+Math.sin(d*s+10*n)*n),x=e+Math.cos(d)*h,m=t+Math.sin(d)*h;i.push([x,m])}var b="M ".concat(i[0][0]," ").concat(i[0][1]);for(c=0;c<i.length;c++){var p=i[c],g=i[(c+1)%i.length],f=i[(c+2)%i.length],v=p[0]+.3*(g[0]-p[0]),y=p[1]+.3*(g[1]-p[1]),j=g[0]-.15*(f[0]-p[0]),w=g[1]-.15*(f[1]-p[1]);b+=" C ".concat(v," ").concat(y," ").concat(j," ").concat(w," ").concat(g[0]," ").concat(g[1])}return b+" Z"},H=function(e,t,r){for(var s="",n=0;n<=32;n++){var a=n/32*Math.PI*2,i=r+Math.sin(3*a)*(.02*r),o=e+Math.cos(a)*i,l=t+Math.sin(a)*i;if(0===n)s+="M ".concat(o," ").concat(l);else{var c=(n-1)/32*Math.PI*2,d=r+Math.sin(3*c)*(.02*r),u=e+Math.cos(c)*d,h=t+Math.sin(c)*d,x=u+Math.cos(c+Math.PI/2)*(.2*d),m=h+Math.sin(c+Math.PI/2)*(.2*d),b=o-Math.cos(a+Math.PI/2)*(.2*i),p=l-Math.sin(a+Math.PI/2)*(.2*i);s+=" C ".concat(x," ").concat(m," ").concat(b," ").concat(p," ").concat(o," ").concat(l)}}return s+" Z"};return(0,s.jsxs)("div",{className:"mood-steps-container",children:[(0,s.jsx)("div",{className:"mood-step ".concat("complete"===p?"current":"next"),style:{background:"linear-gradient(135deg, rgb(34,197,94), rgb(21,128,61))"},children:(0,s.jsx)("div",{className:"h-full bg-gradient-to-br from-green-500 to-emerald-600 flex flex-col items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-white/30 rounded-full flex items-center justify-center mb-6 mx-auto backdrop-blur-sm border border-white/20",children:(0,s.jsx)(cs.A,{className:"w-8 h-8 text-white drop-shadow-lg"})}),(0,s.jsx)("h2",{className:"text-white text-3xl font-light drop-shadow-lg",children:"Logged"})]})})}),(0,s.jsx)("div",{className:"mood-step ".concat("context"===p?"current":"complete"===p?"previous":"next"),style:{background:"linear-gradient(135deg, rgb(".concat((null===(t=R.bg.match(/\d+/g))||void 0===t?void 0:t.slice(0,3).join(","))||"59,130,246","), rgb(").concat((null===(r=R.bg.match(/\d+/g))||void 0===r?void 0:r.slice(3,6).join(","))||"37,99,235","))")},children:(0,s.jsxs)("div",{className:"h-full bg-gradient-to-br transition-all duration-300 ease-out flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 pt-8",children:[(0,s.jsx)("button",{onClick:function(){return g("feeling")},className:"text-white hover:text-white/80 text-base font-medium drop-shadow-md transition-colors duration-200",children:"Back"}),(0,s.jsx)("h1",{className:"text-white font-semibold text-base drop-shadow-md",children:"Context"}),(0,s.jsx)("button",{onClick:m,className:"text-white hover:text-white/80 text-base font-medium drop-shadow-md transition-colors duration-200",children:"Cancel"})]}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col px-4 overflow-y-auto",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)("svg",{width:"60",height:"60",viewBox:"0 0 120 120",className:"transition-all duration-500 ease-out",children:function(){var e,t=I(L,120),r=(null===(e=R.blob.match(/\d+/g))||void 0===e?void 0:e.join(","))||"96,165,250";return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("path",{d:t.main,className:"mood-blob-glow",style:{fill:"rgba(".concat(r,", 0.06)"),filter:"blur(16px)",transform:"scale(1.8)",transformOrigin:"100px 100px"}}),(0,s.jsx)("path",{d:t.layer1,className:"mood-blob-glow",style:{fill:"rgba(".concat(r,", 0.12)"),filter:"blur(10px)",transform:"scale(1.5)",transformOrigin:"100px 100px"}}),(0,s.jsx)("path",{d:t.layer2,className:"mood-blob-glow",style:{fill:"rgba(".concat(r,", 0.18)"),filter:"blur(6px)",transform:"scale(1.3)",transformOrigin:"100px 100px"}}),(0,s.jsx)("path",{d:t.main,className:"mood-blob-main transition-all duration-500 ease-out ".concat(L>=4?"mood-blob-pleasant":""),style:{fill:"rgba(".concat(r,", 0.65)"),filter:"blur(1px)"}}),(0,s.jsx)("path",{d:t.layer1,className:"mood-blob-layer1 transition-all duration-500 ease-out ".concat(L>=5?"mood-blob-petals":""),style:{fill:"rgba(".concat(Math.round(1.25*parseInt(r.split(",")[0])),", ").concat(Math.round(1.1*parseInt(r.split(",")[1])),", ").concat(Math.round(.75*parseInt(r.split(",")[2])),", 0.75)")}}),(0,s.jsx)("path",{d:t.layer2,className:"mood-blob-layer2 transition-all duration-500 ease-out",style:{fill:"rgba(".concat(Math.round(.75*parseInt(r.split(",")[0])),", ").concat(Math.round(1.25*parseInt(r.split(",")[1])),", ").concat(Math.round(1.15*parseInt(r.split(",")[2])),", 0.65)")}}),(0,s.jsx)("path",{d:t.center,className:"mood-blob-float transition-all duration-500 ease-out",style:{fill:"rgba(".concat(Math.round(1.1*parseInt(r.split(",")[0])),", ").concat(Math.round(1.2*parseInt(r.split(",")[1])),", ").concat(Math.round(1.05*parseInt(r.split(",")[2])),", 0.8)"),transform:"scale(0.6)",transformOrigin:"100px 100px"}}),(0,s.jsx)("path",{d:t.center,className:"mood-blob-float transition-all duration-500 ease-out",style:{fill:"rgba(255, 255, 255, 0.7)",transform:"scale(0.3)",transformOrigin:"100px 100px"}}),(0,s.jsx)("circle",{cx:"100",cy:"100",r:3+.3*L,className:"transition-all duration-500 ease-out mood-blob-float ".concat(6===L?"mood-blob-shimmer":""),style:{fill:"rgba(255, 255, 255, 0.9)"}})]})}()})}),(0,s.jsxs)("div",{className:"text-center mb-4",children:[(0,s.jsx)("h2",{className:"text-white text-xl font-semibold drop-shadow-md transition-all duration-300 ease-out",children:F}),C.length>0&&(0,s.jsxs)("p",{className:"text-white text-xs mt-1 drop-shadow-sm transition-all duration-200",children:[C.slice(0,3).join(", "),C.length>3?"...":""]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("h3",{className:"text-white text-sm font-semibold mb-4 flex items-center drop-shadow-md",children:["What has the biggest impact on you?",(0,s.jsx)("div",{className:"w-4 h-4 bg-white/30 rounded-full flex items-center justify-center ml-2 backdrop-blur-sm border border-white/20",children:(0,s.jsx)("span",{className:"text-white text-xs font-bold",children:"i"})})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-80 overflow-y-auto",children:ms.map((function(e){return(0,s.jsx)("button",{onClick:function(){return function(e){S((function(t){return t.includes(e)?t.filter((function(t){return t!==e})):ds(ds([],t,!0),[e],!1)}))}(e)},className:"px-3 py-2 rounded-xl text-xs font-semibold transition-colors duration-200 border ".concat(C.includes(e)?"bg-white/50 text-white border-white/40":"bg-white/25 text-white border-white/30 hover:bg-white/35"),style:{textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:e},e)}))})]}),(0,s.jsx)("div",{className:"mt-auto pb-8",children:(0,s.jsx)($,{onClick:function(){O(!0),setTimeout((function(){g("complete"),O(!1)}),200),setTimeout((function(){x({mood:L,feelingTags:w,contextTags:C})}),2200)},disabled:M,className:"w-full bg-white/30 hover:bg-white/40 border border-white/40 text-white py-3 rounded-2xl text-base font-semibold transition-colors duration-200 disabled:opacity-50",style:{textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:"Complete"})})]})]})}),(0,s.jsx)("div",{className:"mood-step ".concat("feeling"===p?"current":["context","complete"].includes(p)?"previous":"next"),style:{background:"linear-gradient(135deg, rgb(".concat((null===(a=R.bg.match(/\d+/g))||void 0===a?void 0:a.slice(0,3).join(","))||"59,130,246","), rgb(").concat((null===(i=R.bg.match(/\d+/g))||void 0===i?void 0:i.slice(3,6).join(","))||"37,99,235","))")},children:(0,s.jsxs)("div",{className:"h-full bg-gradient-to-br transition-all duration-300 ease-out flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 pt-8",children:[(0,s.jsx)("button",{onClick:function(){return g("mood")},className:"text-white hover:text-white/80 text-base font-medium drop-shadow-md transition-colors duration-200",children:"Back"}),(0,s.jsx)("h1",{className:"text-white font-semibold text-base drop-shadow-md",children:"Feeling"}),(0,s.jsx)("button",{onClick:m,className:"text-white hover:text-white/80 text-base font-medium drop-shadow-md transition-colors duration-200",children:"Cancel"})]}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col px-4 overflow-y-auto",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)("svg",{width:"60",height:"60",viewBox:"0 0 120 120",className:"transition-all duration-500 ease-out",children:function(){var e,t=I(L,120),r=(null===(e=R.blob.match(/\d+/g))||void 0===e?void 0:e.join(","))||"96,165,250";return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("path",{d:t.main,className:"mood-blob-glow",style:{fill:"rgba(".concat(r,", 0.08)"),filter:"blur(8px)",transform:"scale(1.5)",transformOrigin:"60px 60px"}}),(0,s.jsx)("path",{d:t.layer1,className:"mood-blob-glow",style:{fill:"rgba(".concat(r,", 0.15)"),filter:"blur(4px)",transform:"scale(1.3)",transformOrigin:"60px 60px"}}),(0,s.jsx)("path",{d:t.main,className:"mood-blob-main",style:{fill:"rgba(".concat(r,", 0.6)"),filter:"blur(1px)"}}),(0,s.jsx)("path",{d:t.layer1,className:"mood-blob-layer1",style:{fill:"rgba(".concat(Math.round(1.2*parseInt(r.split(",")[0])),", ").concat(Math.round(1.1*parseInt(r.split(",")[1])),", ").concat(Math.round(.8*parseInt(r.split(",")[2])),", 0.7)")}}),(0,s.jsx)("path",{d:t.layer2,className:"mood-blob-layer2",style:{fill:"rgba(".concat(Math.round(.8*parseInt(r.split(",")[0])),", ").concat(Math.round(1.2*parseInt(r.split(",")[1])),", ").concat(Math.round(1.1*parseInt(r.split(",")[2])),", 0.6)")}}),(0,s.jsx)("path",{d:t.center,className:"mood-blob-float",style:{fill:"rgba(".concat(Math.round(1.1*parseInt(r.split(",")[0])),", ").concat(Math.round(1.15*parseInt(r.split(",")[1])),", ").concat(Math.round(1.05*parseInt(r.split(",")[2])),", 0.8)"),transform:"scale(0.7)",transformOrigin:"60px 60px"}}),(0,s.jsx)("path",{d:t.center,className:"mood-blob-float",style:{fill:"rgba(255, 255, 255, 0.6)",transform:"scale(0.4)",transformOrigin:"60px 60px"}})]})}()})}),(0,s.jsxs)("div",{className:"text-center mb-4",children:[(0,s.jsx)("h2",{className:"text-white text-xl font-semibold drop-shadow-md transition-all duration-300 ease-out",children:F}),w.length>0&&(0,s.jsxs)("p",{className:"text-white text-xs mt-1 drop-shadow-sm transition-all duration-200",children:[w.slice(0,3).join(", "),w.length>3?"...":""]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("h3",{className:"text-white text-sm font-semibold mb-4 flex items-center drop-shadow-md",children:["What describes the feeling best?",(0,s.jsx)("div",{className:"w-4 h-4 bg-white/30 rounded-full flex items-center justify-center ml-2 backdrop-blur-sm border border-white/20",children:(0,s.jsx)("span",{className:"text-white text-xs font-bold",children:"i"})})]}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2 max-h-80 overflow-y-auto",children:(c=L,d={0:["Angry","Frustrated","Devastated","Hopeless","Overwhelmed","Anxious","Depressed","Irritated","Furious","Miserable","Distressed","Exhausted","Bitter","Resentful","Helpless","Defeated","Isolated","Worried","Panicked","Discouraged"],1:["Sad","Disappointed","Stressed","Uncomfortable","Uneasy","Troubled","Bothered","Concerned","Disheartened","Gloomy","Tense","Restless","Unsatisfied","Drained","Weary","Cautious","Skeptical","Uncertain","Doubtful","Melancholy"],2:["Tired","Bored","Restless","Indifferent","Sluggish","Unmotivated","Apathetic","Listless","Distracted","Disconnected","Uninspired","Passive","Withdrawn","Reserved","Hesitant","Lackluster","Mild","Vacant","Detached","Flat"],3:["Calm","Balanced","Steady","Centered","Stable","Composed","Tranquil","Even-tempered","Neutral","Clear-minded","Focused","Present","Grounded","Relaxed","At ease","Settled","Objective","Contemplative","Mindful","Serene"],4:["Content","Satisfied","Pleasant","Comfortable","Peaceful","Optimistic","Hopeful","Positive","Encouraged","Uplifted","Gentle","Warm","Friendly","Appreciative","Grateful","Kind","Soft","Tender","Understanding","Accepting"],5:["Happy","Cheerful","Delighted","Pleased","Joyful","Upbeat","Bright","Enthusiastic","Energetic","Lively","Excited","Engaged","Confident","Proud","Accomplished","Successful","Fulfilled","Thriving","Vibrant","Radiant"],6:["Ecstatic","Euphoric","Blissful","Overjoyed","Elated","Fantastic","Amazing","Incredible","Wonderful","Magnificent","Brilliant","Spectacular","Triumphant","Victorious","Inspired","Exhilarated","Passionate","Loving","Blessed","Transcendent"]},d[c]||d[3]).map((function(e){return(0,s.jsx)("button",{onClick:function(){return function(e){N((function(t){return t.includes(e)?t.filter((function(t){return t!==e})):ds(ds([],t,!0),[e],!1)}))}(e)},className:"px-3 py-2 rounded-xl text-xs font-semibold transition-colors duration-200 border ".concat(w.includes(e)?"bg-white/50 text-white border-white/40":"bg-white/25 text-white border-white/30 hover:bg-white/35"),style:{textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:e},e)}))})]}),(0,s.jsx)("div",{className:"mt-auto pb-8",children:(0,s.jsx)($,{onClick:function(){O(!0),setTimeout((function(){g("context"),O(!1)}),200)},disabled:M,className:"w-full bg-white/30 hover:bg-white/40 border border-white/40 text-white py-3 rounded-2xl text-base font-semibold transition-colors duration-200 disabled:opacity-50",style:{textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:"Next"})})]})]})}),(0,s.jsx)("div",{className:"mood-step ".concat("mood"===p?"current":"previous"),style:{background:"linear-gradient(135deg, rgb(".concat((null===(o=R.bg.match(/\d+/g))||void 0===o?void 0:o.slice(0,3).join(","))||"59,130,246","), rgb(").concat((null===(l=R.bg.match(/\d+/g))||void 0===l?void 0:l.slice(3,6).join(","))||"37,99,235","))")},children:(0,s.jsxs)("div",{className:"h-full bg-gradient-to-br transition-all duration-300 ease-out flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 pt-8",children:[(0,s.jsx)("div",{className:"w-16"})," ",(0,s.jsx)("h1",{className:"text-white font-semibold text-base drop-shadow-md",children:"Emotion"}),(0,s.jsx)("button",{onClick:m,className:"text-white hover:text-white/80 text-base font-medium drop-shadow-md transition-colors duration-200",children:"Cancel"})]}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center px-6",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h2",{className:"text-white text-lg font-light mb-1 drop-shadow-lg transition-all duration-300 ease-out opacity-90",children:"Choose how you're"}),(0,s.jsx)("h2",{className:"text-white text-lg font-light drop-shadow-lg transition-all duration-300 ease-out opacity-90",children:"feeling right now"})]}),(0,s.jsx)("div",{className:"relative mb-8",children:(0,s.jsx)("svg",{width:"200",height:"200",viewBox:"0 0 200 200",className:"transition-all duration-500 ease-out ".concat(D?"scale-110":"scale-100"),children:function(){var e,t=I(L,200),r=(null===(e=R.blob.match(/\d+/g))||void 0===e?void 0:e.join(","))||"96,165,250";return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("path",{d:t.main,className:"mood-blob-glow",style:{fill:"rgba(".concat(r,", 0.06)"),filter:"blur(16px)",transform:"scale(1.8)",transformOrigin:"100px 100px"}}),(0,s.jsx)("path",{d:t.layer1,className:"mood-blob-glow",style:{fill:"rgba(".concat(r,", 0.12)"),filter:"blur(10px)",transform:"scale(1.5)",transformOrigin:"100px 100px"}}),(0,s.jsx)("path",{d:t.layer2,className:"mood-blob-glow",style:{fill:"rgba(".concat(r,", 0.18)"),filter:"blur(6px)",transform:"scale(1.3)",transformOrigin:"100px 100px"}}),(0,s.jsx)("path",{d:t.main,className:"mood-blob-main transition-all duration-500 ease-out ".concat(L>=4?"mood-blob-pleasant":""),style:{fill:"rgba(".concat(r,", 0.65)"),filter:"blur(1px)"}}),(0,s.jsx)("path",{d:t.layer1,className:"mood-blob-layer1 transition-all duration-500 ease-out ".concat(L>=5?"mood-blob-petals":""),style:{fill:"rgba(".concat(Math.round(1.25*parseInt(r.split(",")[0])),", ").concat(Math.round(1.1*parseInt(r.split(",")[1])),", ").concat(Math.round(.75*parseInt(r.split(",")[2])),", 0.75)")}}),(0,s.jsx)("path",{d:t.layer2,className:"mood-blob-layer2 transition-all duration-500 ease-out",style:{fill:"rgba(".concat(Math.round(.75*parseInt(r.split(",")[0])),", ").concat(Math.round(1.25*parseInt(r.split(",")[1])),", ").concat(Math.round(1.15*parseInt(r.split(",")[2])),", 0.65)")}}),(0,s.jsx)("path",{d:t.center,className:"mood-blob-float transition-all duration-500 ease-out",style:{fill:"rgba(".concat(Math.round(1.1*parseInt(r.split(",")[0])),", ").concat(Math.round(1.2*parseInt(r.split(",")[1])),", ").concat(Math.round(1.05*parseInt(r.split(",")[2])),", 0.8)"),transform:"scale(0.6)",transformOrigin:"100px 100px"}}),(0,s.jsx)("path",{d:t.center,className:"mood-blob-float transition-all duration-500 ease-out",style:{fill:"rgba(255, 255, 255, 0.7)",transform:"scale(0.3)",transformOrigin:"100px 100px"}}),(0,s.jsx)("circle",{cx:"100",cy:"100",r:3+.3*L,className:"transition-all duration-500 ease-out mood-blob-float ".concat(6===L?"mood-blob-shimmer":""),style:{fill:"rgba(255, 255, 255, 0.9)"}})]})}()})}),(0,s.jsx)("div",{className:"text-center mb-8",children:(0,s.jsx)("h3",{className:"text-white text-xl font-semibold drop-shadow-md transition-all duration-300 ease-out",children:F})})]}),(0,s.jsxs)("div",{className:"p-6 pb-8",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("div",{className:"flex justify-between text-white text-xs mb-3 font-medium drop-shadow-sm",children:[(0,s.jsx)("span",{children:"VERY UNPLEASANT"}),(0,s.jsx)("span",{children:"VERY PLEASANT"})]}),(0,s.jsx)("div",{className:"mood-slider-container",children:(0,s.jsx)("input",{type:"range",min:"0",max:"100",step:"0.1",value:v,onChange:function(e){return function(e){if(T(!0),y(e),E(e)!==L){var t=document.querySelector(".mood-slider-container");t&&(t.classList.add("animating"),setTimeout((function(){t.classList.remove("animating")}),300))}setTimeout((function(){return T(!1)}),100)}(parseFloat(e.target.value))},className:"mood-slider"})})]}),(0,s.jsx)($,{onClick:function(){O(!0),setTimeout((function(){g("feeling"),O(!1)}),200)},disabled:M,className:"w-full bg-white/30 hover:bg-white/40 border border-white/40 text-white py-3 rounded-2xl text-base font-semibold transition-colors duration-200 disabled:opacity-50",style:{textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:"Next"})]})]})})]})}var ps=function(){return ps=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},ps.apply(this,arguments)},gs=function(e,t,r,s){return new(r||(r=Promise))((function(n,a){function i(e){try{l(s.next(e))}catch(e){a(e)}}function o(e){try{l(s.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))},fs=function(e,t){var r,s,n,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(r=1,s&&(n=2&o[0]?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},vs=[{position:0,bg:[239,68,68],blob:[248,113,113]},{position:16.67,bg:[249,115,22],blob:[251,146,60]},{position:33.33,bg:[234,179,8],blob:[250,204,21]},{position:50,bg:[59,130,246],blob:[96,165,250]},{position:66.67,bg:[34,197,94],blob:[74,222,128]},{position:83.33,bg:[34,197,94],blob:[34,197,94]},{position:100,bg:[16,185,129],blob:[52,211,153]}],ys=function(e){var t,r=Math.min(Math.max(e,0),6),s=(null===(t=vs[r])||void 0===t?void 0:t.bg)||vs[3].bg;return"rgb(".concat(s[0],", ").concat(s[1],", ").concat(s[2],")")},js=["What made you feel proud this week?","Any regrets you want to process?","What would success look like next week?","What patterns did you notice in your mood?","What gave you the most energy this week?","How did you handle challenges this week?","What are you most grateful for?","What would you do differently?"];function ws(e){var t=this,r=e.className,a=(0,n.useState)({}),i=a[0],o=a[1],l=(0,n.useState)(!1),c=l[0],d=l[1],u=(0,n.useState)(null),h=u[0],x=u[1],m=(0,n.useState)(""),b=(m[0],m[1]),p=(0,n.useState)(""),g=(p[0],p[1]),f=(0,n.useState)(new Date),v=f[0],y=f[1];(0,n.useEffect)((function(){j()}),[v]);var j=function(){return gs(t,void 0,void 0,(function(){var e,t,r;return fs(this,(function(s){switch(s.label){case 0:return[4,N()];case 1:return s.sent(),b(S()),A().includes((new Date).toISOString().split("T")[0])?(e=(new Date).toISOString().split("T")[0],[4,G.load("weekly-reflections")]):[3,3];case 2:t=s.sent()||{},(r=t[e])&&void 0!==r.mood||setTimeout((function(){return d(!0)}),1e3),s.label=3;case 3:return[2]}}))}))},N=function(){return gs(t,void 0,void 0,(function(){var e,t,r;return fs(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,G.load("weekly-reflections")];case 1:return e=s.sent()||{},o(e),[4,G.load("weekly-reflection-note")];case 2:return t=s.sent()||"",g(t),[3,4];case 3:return r=s.sent(),console.error("Error loading reflections:",r),[3,4];case 4:return[2]}}))}))},k=function(e){return gs(t,void 0,void 0,(function(){return fs(this,(function(t){switch(t.label){case 0:return o(e),[4,G.save("weekly-reflections",e)];case 1:return t.sent(),[2]}}))}))},S=function(){var e=Math.floor(Date.now()/6048e5);return js[e%js.length]},A=function(){var e=new Date(v),t=new Date(e),r=e.getDay(),s=0===r?6:r-1;t.setDate(e.getDate()-s);for(var n=[],a=0;a<7;a++){var i=new Date(t);i.setDate(t.getDate()+a),n.push(i.toISOString().split("T")[0])}return n},D=function(e){var t=new Date(v);"prev"===e?t.setDate(t.getDate()-7):t.setDate(t.getDate()+7),y(t)},T=A(),P=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(we,{className:"bg-black/40 backdrop-blur-xl border border-white/10 shadow-2xl rounded-3xl overflow-hidden h-full flex flex-col ".concat(r),children:[(0,s.jsx)(Ne,{className:"pb-3 flex-shrink-0",children:(0,s.jsxs)(ke,{className:"text-lg font-bold text-white flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-400 to-pink-500 rounded-lg flex items-center justify-center",children:(0,s.jsx)(ls.A,{className:"h-4 w-4 text-white"})}),(0,s.jsx)("span",{children:"Weekly Reflection"})]}),(0,s.jsx)($,{variant:"ghost",size:"sm",onClick:function(){return d(!0)},className:"text-gray-400 hover:text-white p-2",children:(0,s.jsx)(Z.A,{className:"h-4 w-4"})})]})}),(0,s.jsxs)(Ce,{className:"p-4 pt-0 flex-1 flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)($,{variant:"ghost",size:"sm",onClick:function(){return D("prev")},className:"text-gray-400 hover:text-white p-1",children:(0,s.jsx)(Ee.A,{className:"h-4 w-4"})}),(0,s.jsxs)("h3",{className:"text-sm font-semibold text-white flex items-center",children:[(0,s.jsx)(Qt.A,{className:"h-3 w-3 mr-1"}),function(){var e=A(),t=new Date(e[0]),r=new Date(e[6]),s=(new Date).toISOString().split("T")[0];if(e.includes(s))return"This Week";var n=t.toLocaleDateString("en-US",{month:"short",day:"numeric"}),a=r.toLocaleDateString("en-US",{month:"short",day:"numeric"});return t.getMonth()===r.getMonth()?"".concat(t.toLocaleDateString("en-US",{month:"short"})," ").concat(t.getDate(),"-").concat(r.getDate()):"".concat(n," - ").concat(a)}()]}),(0,s.jsx)($,{variant:"ghost",size:"sm",onClick:function(){return D("next")},disabled:!function(){var e=new Date(v);e.setDate(e.getDate()+7);var t=new Date(e),r=e.getDay(),s=0===r?6:r-1;return t.setDate(e.getDate()-s),t<=new Date}(),className:"text-gray-400 hover:text-white disabled:opacity-30 p-1",children:(0,s.jsx)(Le.A,{className:"h-4 w-4"})})]}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-xs text-gray-400",children:"Mood"}),(0,s.jsx)(ls.A,{className:"h-3 w-3 text-pink-400"})]}),(0,s.jsx)("div",{className:"flex space-x-2",children:T.map((function(e,t){var r=i[e],n=null==r?void 0:r.mood,a=void 0!==n?(n+1)/7:0,o=void 0!==n?ys(n):"rgb(75, 85, 99)";return(0,s.jsxs)("div",{className:"flex-1 text-center",children:[(0,s.jsx)("div",{className:"h-20 rounded-xl cursor-pointer hover:opacity-80 transition-all duration-200 hover:scale-105",style:{backgroundColor:o,opacity:void 0!==n?Math.max(.8,a):.3},onClick:function(){return function(e){var t=i[e];if(!t||void 0===t.mood)return x(null),void d(!0);x(e)}(e)}}),(0,s.jsx)("span",{className:"text-sm text-gray-400 mt-2 block font-medium",children:P[t]})]},e)}))})]})})})]})]}),c&&(0,s.jsx)(w,{open:c,onOpenChange:d,children:(0,s.jsx)(C,{className:"max-w-sm w-[375px] h-[667px] p-0 border-4 border-white/30 bg-black/10 backdrop-blur-md overflow-hidden rounded-3xl shadow-[0_20px_60px_rgba(0,0,0,0.4)] ring-1 ring-white/10 [&>button]:hidden",children:(0,s.jsx)(bs,{initialValue:3,onComplete:function(e){return gs(t,void 0,void 0,(function(){var r;return fs(this,(function(s){switch(s.label){case 0:return r=(new Date).toISOString().split("T")[0],[4,(n=r,a={mood:e.mood,feelingTags:e.feelingTags,contextTags:e.contextTags},gs(t,void 0,void 0,(function(){var e,t,r,s;return fs(this,(function(o){switch(o.label){case 0:return e=i[n]||{date:n,mood:3,feelingTags:[],contextTags:[]},t=ps(ps({},e),a),r=ps(ps({},i),((s={})[n]=t,s)),[4,k(r)];case 1:return o.sent(),[2]}}))})))];case 1:return s.sent(),d(!1),[2]}var n,a}))}))},onSkip:function(){d(!1)}})})}),h&&(0,s.jsx)(w,{open:!!h,onOpenChange:function(){return x(null)},children:(0,s.jsx)(C,{className:"bg-gradient-to-br from-gray-900/95 to-black/95 backdrop-blur-xl border-2 border-white/20 text-white max-w-lg w-[90vw] h-[85vh] overflow-hidden rounded-3xl shadow-[0_25px_80px_rgba(0,0,0,0.5)] flex flex-col",children:function(){var e,t,r=i[h];if(!r)return null;var n,a=ys(r.mood),o={background:"linear-gradient(135deg, ".concat(a,"15, ").concat(a,"05)")};return(0,s.jsxs)("div",{className:"flex flex-col h-full p-4 space-y-4 overflow-hidden",children:[(0,s.jsxs)("div",{className:"text-center border-b border-white/10 pb-4 flex-shrink-0",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-1",children:[(0,s.jsx)(ls.A,{className:"h-4 w-4 text-pink-400"}),(0,s.jsx)("h2",{className:"text-lg font-bold text-white",children:"Daily Reflection"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-400 font-medium",children:new Date(h).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-4 pr-2 scrollbar-thin scrollbar-thumb-white/20 scrollbar-track-transparent",children:[(0,s.jsxs)("div",{className:"text-center py-4 rounded-xl border border-white/10 flex-shrink-0",style:o,children:[(0,s.jsx)("div",{className:"flex justify-center mb-3",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 w-14 h-14 rounded-full blur-lg opacity-30",style:{backgroundColor:a}}),(0,s.jsx)("div",{className:"relative w-14 h-14 rounded-full flex items-center justify-center shadow-lg border-2 border-white/20",style:{backgroundColor:a},children:(0,s.jsx)(ls.A,{className:"h-6 w-6 text-white drop-shadow-lg"})})]})}),(0,s.jsx)("h3",{className:"text-xl font-bold text-white mb-1 drop-shadow-md",children:(n=r.mood,["Very Unpleasant","Unpleasant","Slightly Unpleasant","Neutral","Slightly Pleasant","Pleasant","Very Pleasant"][n]||"Unknown")}),(0,s.jsx)("p",{className:"text-xs text-gray-300 font-medium mb-3",children:"Overall Emotional State"}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("div",{className:"flex space-x-1",children:[0,1,2,3,4,5,6].map((function(e){return(0,s.jsx)("div",{className:"w-1.5 h-1.5 rounded-full transition-all duration-200 ".concat(e<=r.mood?"opacity-100 scale-110":"opacity-30"),style:{backgroundColor:e<=r.mood?a:"#6B7280"}},e)}))})})]}),r.feelingTags&&r.feelingTags.length>0&&(0,s.jsxs)("div",{className:"bg-blue-500/5 rounded-xl p-3 border border-blue-500/20 flex-shrink-0",children:[(0,s.jsxs)("h4",{className:"text-sm font-semibold text-white mb-2 flex items-center",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full mr-2 shadow-lg"}),"Feelings & Emotions",(0,s.jsx)("span",{className:"ml-2 text-xs bg-blue-400/20 text-blue-300 px-1.5 py-0.5 rounded-full",children:r.feelingTags.length})]}),(0,s.jsx)("div",{className:"max-h-20 overflow-y-auto scrollbar-thin scrollbar-thumb-blue-400/20 scrollbar-track-transparent",children:(0,s.jsx)("div",{className:"flex flex-wrap gap-1.5 pr-1",children:r.feelingTags.map((function(e,t){return(0,s.jsx)("span",{className:"px-2.5 py-1 bg-gradient-to-r from-blue-500/20 to-blue-600/20 border border-blue-400/30 text-blue-200 rounded-lg text-xs font-medium shadow-sm backdrop-blur-sm",children:e},e)}))})})]}),r.contextTags&&r.contextTags.length>0&&(0,s.jsxs)("div",{className:"bg-purple-500/5 rounded-xl p-3 border border-purple-500/20 flex-shrink-0",children:[(0,s.jsxs)("h4",{className:"text-sm font-semibold text-white mb-2 flex items-center",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-purple-400 rounded-full mr-2 shadow-lg"}),"Context & Influences",(0,s.jsx)("span",{className:"ml-2 text-xs bg-purple-400/20 text-purple-300 px-1.5 py-0.5 rounded-full",children:r.contextTags.length})]}),(0,s.jsx)("div",{className:"max-h-20 overflow-y-auto scrollbar-thin scrollbar-thumb-purple-400/20 scrollbar-track-transparent",children:(0,s.jsx)("div",{className:"flex flex-wrap gap-1.5 pr-1",children:r.contextTags.map((function(e,t){return(0,s.jsx)("span",{className:"px-2.5 py-1 bg-gradient-to-r from-purple-500/20 to-purple-600/20 border border-purple-400/30 text-purple-200 rounded-lg text-xs font-medium shadow-sm backdrop-blur-sm",children:e},e)}))})})]}),(0,s.jsxs)("div",{className:"bg-white/5 rounded-xl p-3 border border-white/10 flex-shrink-0",children:[(0,s.jsxs)("h4",{className:"text-sm font-semibold text-white mb-2 flex items-center",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full mr-2 shadow-lg"}),"Summary"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsxs)("div",{className:"text-center p-2 bg-white/5 rounded-lg border border-white/10",children:[(0,s.jsx)("div",{className:"text-lg font-bold text-white mb-0.5",children:(null===(e=r.feelingTags)||void 0===e?void 0:e.length)||0}),(0,s.jsx)("div",{className:"text-xs text-gray-400 font-medium",children:"Feelings"})]}),(0,s.jsxs)("div",{className:"text-center p-2 bg-white/5 rounded-lg border border-white/10",children:[(0,s.jsx)("div",{className:"text-lg font-bold text-white mb-0.5",children:(null===(t=r.contextTags)||void 0===t?void 0:t.length)||0}),(0,s.jsx)("div",{className:"text-xs text-gray-400 font-medium",children:"Context"})]})]})]})]}),(0,s.jsxs)("div",{className:"flex space-x-3 pt-2 flex-shrink-0",children:[(0,s.jsx)($,{onClick:function(){x(null),d(!0)},className:"flex-1 bg-gradient-to-r from-purple-500/30 to-purple-600/30 hover:from-purple-500/40 hover:to-purple-600/40 border border-purple-400/40 text-white rounded-xl py-2.5 text-sm font-semibold shadow-lg backdrop-blur-sm transition-all duration-200 hover:scale-105",children:"✏️ Edit"}),(0,s.jsx)($,{onClick:function(){return x(null)},className:"flex-1 bg-white/10 hover:bg-white/20 border border-white/20 text-gray-300 hover:text-white rounded-xl py-2.5 text-sm font-semibold transition-all duration-200 hover:scale-105",children:"✓ Close"})]})]})}()})})]})}function Ns(){var e=(0,n.useState)(!1),t=e[0],r=e[1];return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{onClick:function(){return r(!t)},className:"flex items-center gap-2 px-3 py-2 bg-black/20 hover:bg-black/30 rounded-lg transition-all duration-200 backdrop-blur-sm border border-white/10",children:[(0,s.jsx)(jt.A,{className:"w-4 h-4 text-white/70"}),(0,s.jsx)("span",{className:"text-sm text-white/80 font-medium",children:"How Personal Works"})]}),t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 z-40 bg-black/50 backdrop-blur-sm",onClick:function(){return r(!1)}}),(0,s.jsxs)("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50 w-full max-w-6xl max-h-[85vh] bg-black/90 backdrop-blur-md rounded-2xl border border-white/10 shadow-2xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(wt.A,{className:"w-6 h-6 text-purple-400"}),(0,s.jsx)("h2",{className:"text-xl font-bold text-white",children:"Personal Tab - Your Journey & Growth Hub"})]}),(0,s.jsx)("button",{onClick:function(){return r(!1)},className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:(0,s.jsx)(v.A,{className:"w-5 h-5 text-white/70"})})]}),(0,s.jsx)("div",{className:"p-6 overflow-y-auto max-h-[70vh]",children:(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/20 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(Q.A,{className:"w-6 h-6 text-purple-400"}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"🧑‍💼 What is the Personal Tab?"})]}),(0,s.jsxs)("div",{className:"space-y-4 text-white/80",children:[(0,s.jsx)("p",{className:"text-sm",children:"Personal is your comprehensive growth and reflection center. Track your progress with XP leveling, complete dynamic missions, visualize your journey, unlock achievements, and reflect on your weekly experiences—no matter what habit you are tracking."}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"👤 Profile Header:"})," XP leveling system with ranks, titles, and progress tracking"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"🎯 Active Missions:"})," Dynamic weekly challenges and milestone goals"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"🗓️ Journey Heatmap:"})," Visual activity calendar with manual editing"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"🏆 Achievement Wall:"})," Badge collection system across many achievements"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"💭 Weekly Reflection:"})," Mood tracking and journaling for personal growth"]})]})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-yellow-500/10 to-orange-500/10 border border-yellow-500/20 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(I.A,{className:"w-6 h-6 text-yellow-400"}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"👤 Profile Header (Top Left)"})]}),(0,s.jsxs)("div",{className:"space-y-4 text-white/80",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-yellow-300 mb-2",children:"XP Leveling System"}),(0,s.jsx)("p",{className:"text-sm",children:"Your progress is quantified through a sophisticated XP system that rewards all forms of personal development."}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs mt-2",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"1,000 XP per level:"})," Clean progression system"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Progress bar:"})," Visual representation of current level progress"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Level titles:"})," Novice → Rising Champion → Focus Master → Habit Virtuoso → Productivity Legend"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Rank system:"})," Bronze → Silver → Gold → Platinum (visual rank badges)"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-yellow-300 mb-2",children:"XP Sources & Calculation"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsx)("div",{children:(0,s.jsx)("strong",{children:"📅 Daily Activity XP:"})}),(0,s.jsx)("div",{className:"ml-2",children:"• Habits: XP for each completed habit"}),(0,s.jsx)("div",{className:"ml-2",children:"• Focus Sessions: XP for each completed focus session"}),(0,s.jsx)("div",{className:"ml-2",children:"• Habit Penalty: XP penalty for tracked habit usage (if applicable)"}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)("strong",{children:"🔥 Streak Bonus XP:"})}),(0,s.jsx)("div",{className:"ml-2",children:"• Habit Streak: 100 XP per day of current streak"}),(0,s.jsx)("div",{className:"ml-2",children:"• Clean Streak: XP per day of current clean streak (no tracked habit usage)"}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)("strong",{children:"🎯 Mission & Achievement XP:"})}),(0,s.jsx)("div",{className:"ml-2",children:"• Weekly missions: 450-600 XP each"}),(0,s.jsx)("div",{className:"ml-2",children:"• Milestone missions: 500-1000 XP each"}),(0,s.jsx)("div",{className:"ml-2",children:"• Achievements: 50-2000 XP each"}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)("strong",{children:"💰 Bonus XP (From Profile Dialog):"})}),(0,s.jsx)("div",{className:"ml-2",children:"• Daily activity bonuses"}),(0,s.jsx)("div",{className:"ml-2",children:"• Weekly completion bonuses"}),(0,s.jsx)("div",{className:"ml-2",children:"• Monthly milestone bonuses"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-yellow-300 mb-2",children:"Profile Statistics"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Days Active:"})," Total days with recorded activity"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Completed Missions:"})," Combines both missions and achievements"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Real-time Updates:"})," Syncs automatically as you complete activities"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-yellow-300 mb-2",children:"Interactive Features"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Click Profile:"})," Opens detailed XP breakdown dialog"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"XP Breakdown:"})," Shows exactly where your XP comes from"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Bonus Claims:"})," Daily/weekly/monthly bonus XP opportunities"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Cross-Component Sync:"})," Updates when missions/achievements unlock"]})]})]}),(0,s.jsx)("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3",children:(0,s.jsxs)("p",{className:"text-sm",children:[(0,s.jsx)("strong",{children:"Level Up Strategy:"})," Focus on consistency over intensity. Daily habit completion + moderate focus sessions + clean days = steady XP growth!"]})})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/20 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(ee.A,{className:"w-6 h-6 text-blue-400"}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"🎯 Active Missions (Top Right)"})]}),(0,s.jsxs)("div",{className:"space-y-4 text-white/80",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-blue-300 mb-2",children:"Dynamic Mission System"}),(0,s.jsx)("p",{className:"text-sm",children:"Two concurrent missions: one weekly rotating challenge and one long-term milestone goal."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-blue-300 mb-2",children:"Weekly Missions (Rotating)"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"🎯 Weekly Domination:"})," Complete a set number of habits this week (XP reward)"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"🧠 Focus Mastery:"})," Complete a set number of focus sessions this week (XP reward)"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"🌟 Clean Week Challenge:"})," Have no tracked habit usage for several days this week (XP reward)"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"👑 Consistency King:"})," Have several days with high scores this week (XP reward)"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"💪 Peak Performance:"})," Have several days with very high scores this week (XP reward)"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"🏃‍♂️ Marathon Week:"})," Complete a high number of focus sessions this week (XP reward)"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"🔥 Habit Inferno:"})," Complete a high number of habits this week (XP reward)"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"✨ Perfect Week:"})," Have a week with all days above a certain score (XP reward)"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-blue-300 mb-2",children:"Milestone Missions (Long-term)"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"🎯 Total Habits:"})," Reach progressive milestones for total habits completed"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"🧠 Focus Hours:"})," Reach progressive milestones for total focus hours"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"🌟 Clean Days:"})," Reach progressive milestones for days with no tracked habit usage"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"🔥 Streak Master:"})," Reach progressive milestones for productivity streaks"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Rewards:"})," XP based on difficulty"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-blue-300 mb-2",children:"Mission Intelligence"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Progress Tracking:"})," Real-time progress bars with exact numbers"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Time Awareness:"})," Shows days remaining for weekly missions"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Smart Selection:"})," Next milestone automatically selected based on progress"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Auto-Completion:"})," XP awarded instantly when goals are met"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"No Duplicates:"})," Completed missions are never offered again"]})]})]}),(0,s.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:(0,s.jsxs)("p",{className:"text-sm",children:[(0,s.jsx)("strong",{children:"Mission Strategy:"})," Weekly missions reset every Monday. Focus on achievable goals early in the week to build momentum!"]})})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/20 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(He.A,{className:"w-6 h-6 text-green-400"}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"🗓️ Journey Heatmap (Bottom Left)"})]}),(0,s.jsxs)("div",{className:"space-y-4 text-white/80",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-green-300 mb-2",children:"Visual Activity Calendar"}),(0,s.jsx)("p",{className:"text-sm",children:"GitHub-style heatmap showing your daily performance with color-coded scoring system."}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs mt-2",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Green Squares:"})," High scores (5+ points) - excellent days"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Light Green:"})," Good scores (3-4 points) - solid progress"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Yellow:"})," Moderate scores (1-2 points) - okay days"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Dark Blue:"})," Zero score - neutral day"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Gray:"})," No data recorded"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-green-300 mb-2",children:"Scoring Formula"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs font-mono",children:[(0,s.jsx)("div",{children:"Daily Score = (Habits × 2) + (Focus × 1) - (Snus × 1)"}),(0,s.jsx)("div",{className:"mt-2 text-gray-300",children:"• For your tracked habit, the penalty is subtracted from your daily score"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-green-300 mb-2",children:"Interactive Features"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Hover Tooltips:"})," Shows detailed breakdown for each day"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Click to Edit:"})," Opens manual data editing dialog"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Month Navigation:"})," Browse historical data (can't go into future)"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Real-time Updates:"})," Syncs automatically with your daily activities"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-green-300 mb-2",children:"Manual Data Editing"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Habit Selection:"})," Choose from your current habit list"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Focus Sessions:"})," Manual input for focus work"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Snus Count:"})," Adjust daily snus usage"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Habit Count:"})," Adjust daily tracked habit usage"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Data Protection:"})," Manual edits won't be overwritten by automatic updates"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Dual Storage:"})," Saves to both new unified format and legacy format"]})]})]}),(0,s.jsx)("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-3",children:(0,s.jsxs)("p",{className:"text-sm",children:[(0,s.jsx)("strong",{children:"Data Integrity:"})," The heatmap is your source of truth for daily activity. It feeds XP calculations, mission progress, and achievement tracking!"]})})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-orange-500/10 to-red-500/10 border border-orange-500/20 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(d.A,{className:"w-6 h-6 text-orange-400"}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"🏆 Achievement Wall (Bottom Center)"})]}),(0,s.jsxs)("div",{className:"space-y-4 text-white/80",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-orange-300 mb-2",children:"5-Page Achievement System"}),(0,s.jsx)("p",{className:"text-sm",children:"30+ achievements across 5 progressive pages, from starter badges to legendary accomplishments."}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs mt-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"📖 Page 1:"}),' "Starting Your Journey" - Basic milestones (6 achievements)']}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"🔥 Page 2:"}),' "Building Momentum" - Consistency challenges (6 achievements)']}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"💪 Page 3:"}),' "Serious Progress" - Major milestones (6 achievements)']}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"👑 Page 4:"}),' "Elite Performance" - Advanced goals (6 achievements)']}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"🌟 Page 5:"}),' "Legendary Status" - Ultimate challenges (6 achievements)']})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-orange-300 mb-2",children:"Achievement Categories"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"✅ Habit Achievements:"})," Completion milestones and daily goals"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"🧠 Focus Achievements:"})," Session counts and time-based goals"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"🌟 Clean Achievements:"})," Clean days and streak challenges (no tracked habit usage)"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"🔥 Streak Achievements:"})," Consistency and momentum rewards"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"🎯 Wildcard Achievements:"})," Special combinations and unique goals"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-orange-300 mb-2",children:"Example Achievement Tiers"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"🎯 Starter Spark:"})," Complete a starter milestone for habits (XP reward)"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"🏆 Focus Champion:"})," Complete a starter milestone for focus sessions (XP reward)"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"🌟 Clean Streak Master:"})," Achieve a clean streak milestone (no tracked habit usage, XP reward)"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"👑 Century Club:"})," Complete a major milestone for habits (XP reward)"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"🚀 Productivity Legend:"})," Achieve a major productivity streak (XP reward)"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-orange-300 mb-2",children:"Smart Features"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Progress Indicators:"})," Shows current progress toward locked achievements"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Auto-Unlock:"})," Achievements unlock automatically when conditions are met"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"XP Integration:"})," Achievement XP immediately adds to your profile level"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Visual Polish:"})," Unlocked badges glow with golden effects"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Page Navigation:"})," Browse through achievement tiers with arrow buttons"]})]})]}),(0,s.jsx)("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded-lg p-3",children:(0,s.jsxs)("p",{className:"text-sm",children:[(0,s.jsx)("strong",{children:"Achievement Hunting:"})," Focus on achievable goals first! Many achievements have prerequisite progressions that unlock more advanced challenges."]})})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-pink-500/10 to-purple-500/10 border border-pink-500/20 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(ls.A,{className:"w-6 h-6 text-pink-400"}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"💭 Weekly Reflection (Bottom Right)"})]}),(0,s.jsxs)("div",{className:"space-y-4 text-white/80",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-pink-300 mb-2",children:"Mood Tracking & Journaling"}),(0,s.jsx)("p",{className:"text-sm",children:"Apple Health-inspired mood tracking combined with guided journaling for personal growth and self-awareness."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-pink-300 mb-2",children:"Mood System"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"📱 Apple Health Scale:"})," 0-6 mood levels with color coding"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"🏷️ Feeling Tags:"})," Specific emotions (happy, anxious, excited, etc.)"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"🌍 Context Tags:"})," Situational factors (work, social, health, etc.)"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"📝 Optional Notes:"})," Free-form reflection on your mood"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"🎨 Visual Feedback:"})," Color-coded mood visualization"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-pink-300 mb-2",children:"Smart Journaling"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"🔄 Rotating Prompts:"})," 8 different weekly prompts that cycle automatically"]}),(0,s.jsx)("div",{children:'• "What made you feel proud this week?"'}),(0,s.jsx)("div",{children:'• "Any regrets you want to process?"'}),(0,s.jsx)("div",{children:'• "What would success look like next week?"'}),(0,s.jsx)("div",{children:'• "What patterns did you notice in your mood?"'}),(0,s.jsx)("div",{children:'• "What gave you the most energy this week?"'}),(0,s.jsx)("div",{children:'• "How did you handle challenges this week?"'}),(0,s.jsx)("div",{children:'• "What are you most grateful for?"'}),(0,s.jsx)("div",{children:'• "What would you do differently?"'})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-pink-300 mb-2",children:"Weekly Navigation"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Week Browsing:"})," Navigate through past weeks to review mood patterns"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Current Week Focus:"}),' Always highlights "This Week" when viewing current period']}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Historical Insights:"})," Review mood trends and journal entries over time"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Future Blocking:"})," Can't navigate beyond current week"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-pink-300 mb-2",children:"Interactive Features"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Daily Mood Dialog:"})," Appears automatically for new users (today only)"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Click Any Day:"})," Edit mood and reflection for past days"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Mood Visualization:"})," 7-day mood overview with color indicators"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Journal Entry:"})," Weekly notes tied to rotating prompts"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Mood Insights:"})," Automatic insights based on mood patterns"]})]})]}),(0,s.jsx)("div",{className:"bg-pink-500/10 border border-pink-500/30 rounded-lg p-3",children:(0,s.jsxs)("p",{className:"text-sm",children:[(0,s.jsx)("strong",{children:"Mental Health Focus:"})," Regular mood tracking and reflection help identify patterns, process emotions, and maintain mental wellness alongside physical goals."]})})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-indigo-500/10 to-blue-500/10 border border-indigo-500/20 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(Qt.A,{className:"w-6 h-6 text-indigo-400"}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"🔗 Personal Tab Integration"})]}),(0,s.jsxs)("div",{className:"space-y-3 text-white/80 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Cross-Component Communication:"})," All Personal components listen for updates and sync in real-time"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Unified Data Hub:"})," Journey Heatmap serves as the central data source for XP, missions, and achievements"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"XP Calculation Chain:"})," Daily logs → XP calculation → Profile updates → Mission progress → Achievement unlocks"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Legacy Support:"})," Maintains compatibility with old Productivity tab data formats"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Manual Override:"})," Heatmap editing provides data correction without breaking automation"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Reflection Independence:"})," Weekly Reflection operates independently for privacy and mental health focus"]})]})]})]})})]})]})]})}const ks=function(e){return e.userConfig,(0,s.jsx)("div",{className:"h-screen pt-28 pb-16 overflow-hidden relative",children:(0,s.jsxs)("div",{className:"container mx-auto px-6 max-w-7xl h-full flex flex-col",children:[(0,s.jsx)("div",{className:"fixed bottom-6 right-6 z-20",children:(0,s.jsx)(Ns,{})}),(0,s.jsx)("div",{className:"mb-6 flex-shrink-0",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsx)("div",{className:"opacity-0 animate-slide-in-left",style:{animationDelay:"100ms",animationFillMode:"forwards"},children:(0,s.jsx)(Hr,{})}),(0,s.jsx)("div",{className:"opacity-0 animate-slide-in-right",style:{animationDelay:"300ms",animationFillMode:"forwards"},children:(0,s.jsx)(Gr,{})})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 flex-1 min-h-0",children:[(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsx)("div",{className:"opacity-0 animate-fade-in-scale",style:{animationDelay:"700ms",animationFillMode:"forwards"},children:(0,s.jsx)(ts,{className:"h-full"})})}),(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsx)("div",{className:"opacity-0 animate-fade-in-scale",style:{animationDelay:"800ms",animationFillMode:"forwards"},children:(0,s.jsx)(os,{})})}),(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsx)("div",{className:"opacity-0 animate-fade-in-scale",style:{animationDelay:"900ms",animationFillMode:"forwards"},children:(0,s.jsx)(ws,{className:"h-full"})})})]})]})})};var Cs=r(3992),Ss=function(e,t,r,s){return new(r||(r=Promise))((function(n,a){function i(e){try{l(s.next(e))}catch(e){a(e)}}function o(e){try{l(s.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))},As=function(e,t){var r,s,n,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(r=1,s&&(n=2&o[0]?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};function Ds(e){var t=this,r=e.userConfig,a=(0,n.useState)({habitSaved:0,monthlyContributions:0,totalSaved:0,habitsAvoided:0,nextContributionDays:0}),i=a[0],o=a[1],l=(0,n.useState)(!0),c=l[0],d=l[1],u=function(e){if(!r)return"".concat(Math.round(e).toLocaleString()," NOK");var t=r.currency;switch(t){case"USD":return"$".concat(Math.round(e).toLocaleString());case"EUR":return"€".concat(Math.round(e).toLocaleString());default:return"".concat(Math.round(e).toLocaleString()," ").concat(t)}};(0,n.useEffect)((function(){h();var e=function(){return h()};return window.addEventListener("dailyLogsUpdated",e),function(){return window.removeEventListener("dailyLogsUpdated",e)}}),[r]);var h=function(){return Ss(t,void 0,void 0,(function(){var e,t,s,n,a,i;return As(this,(function(l){switch(l.label){case 0:return l.trys.push([0,8,9,10]),(null==r?void 0:r.hasAddiction)?[4,x()]:[3,2];case 1:return t=l.sent(),[3,3];case 2:t=0,l.label=3;case 3:return e=t,[4,m()];case 4:return s=l.sent(),n=p(),(null==r?void 0:r.hasAddiction)?[4,b()]:[3,6];case 5:return a=l.sent(),[3,7];case 6:a=0,l.label=7;case 7:return o({habitSaved:e,monthlyContributions:s,totalSaved:e+s,habitsAvoided:a,nextContributionDays:n}),[3,10];case 8:return i=l.sent(),console.error("Error calculating savings:",i),[3,10];case 9:return d(!1),[7];case 10:return[2]}}))}))},x=function(){return Ss(t,void 0,Promise,(function(){var e,t,s,n,a,i,o;return As(this,(function(l){switch(l.label){case 0:if(!(null==r?void 0:r.hasAddiction))return[2,0];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,G.load("daily-logs")];case 2:return e=l.sent()||{},0===(t=Object.values(e)).length?[2,0]:(s=t.sort((function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()})),n=s.slice(0,7),a=n.reduce((function(e,t){return e+(t.snusCount||0)}),0),i=Math.max(5,Math.round(a/Math.max(1,n.length))),[2,t.reduce((function(e,t){return e+Math.max(0,i-(t.snusCount||0))*r.costPerUnit}),0)]);case 3:return o=l.sent(),console.error("Error calculating habit savings:",o),[2,0];case 4:return[2]}}))}))},m=function(){return Ss(t,void 0,Promise,(function(){var e,t,s,n,a,i,o,l,c,d;return As(this,(function(u){switch(u.label){case 0:return u.trys.push([0,4,,5]),[4,G.load("monthly-contributions")];case 1:return e=u.sent()||{},t=new Date,s=t.getFullYear(),n=t.getMonth(),a=t.getDate(),i=0,Object.values(e).forEach((function(e){"number"==typeof e&&(i+=e)})),o=(null==r?void 0:r.contributionDay)||15,l="".concat(s,"-").concat(String(n+1).padStart(2,"0")),a>=o&&!e[l]?(c=(null==r?void 0:r.monthlyContribution)||2500,e[l]=c,i+=c,[4,G.save("monthly-contributions",e)]):[3,3];case 2:u.sent(),u.label=3;case 3:return[2,i];case 4:return d=u.sent(),console.error("Error calculating monthly contributions:",d),[2,0];case 5:return[2]}}))}))},b=function(){return Ss(t,void 0,Promise,(function(){var e,t,s,n,a,i;return As(this,(function(o){switch(o.label){case 0:if(!(null==r?void 0:r.hasAddiction))return[2,0];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,G.load("daily-logs")];case 2:return e=o.sent()||{},0===(t=Object.values(e)).length?[2,0]:(s=t.sort((function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()})),n=s.slice(0,7),a=n.reduce((function(e,t){return e+(t.snusCount||0)}),0),i=Math.max(5,Math.round(a/Math.max(1,n.length))),[2,t.reduce((function(e,t){return e+Math.max(0,i-(t.snusCount||0))}),0)]);case 3:return o.sent(),[2,0];case 4:return[2]}}))}))},p=function(){var e=new Date,t=e.getMonth(),s=e.getFullYear(),n=(null==r?void 0:r.contributionDay)||15,a=new Date(s,t,n);e.getDate()>n&&(a=new Date(s,t+1,n));var i=a.getTime()-e.getTime();return Math.ceil(i/864e5)};if(c)return(0,s.jsx)(we,{className:"bg-gradient-to-br from-green-500/10 via-emerald-500/10 to-teal-500/10 border-2 border-green-500/30 backdrop-blur-xl",children:(0,s.jsx)(Ce,{className:"p-4",children:(0,s.jsx)("div",{className:"animate-pulse text-center text-white/60 text-sm",children:"Loading savings..."})})});var g=function(){if(!(null==r?void 0:r.hasAddiction))return"habit";if(r.addictionName&&r.addictionName.trim())return r.addictionName.toLowerCase();switch(r.addictionType){case"snus":return"snus";case"tobacco":return"cigarette";case"alcohol":return"drink";case"gambling":return"bet";default:return"habit"}}(),f=(null==r?void 0:r.monthlyContribution)||2500,v=(null==r?void 0:r.contributionDay)||15;return(0,s.jsx)(we,{className:"bg-black/60 border border-white/10 backdrop-blur-xl rounded-2xl",children:(0,s.jsxs)(Ce,{className:"p-4 flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full flex items-center justify-center",children:(0,s.jsx)(Cs.A,{className:"h-5 w-5 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-white",children:"Savings Fund"}),(0,s.jsx)("p",{className:"text-xs text-green-300",children:"Building your future"})]})]}),(null==r?void 0:r.hasAddiction)&&(0,s.jsxs)(O,{className:"bg-green-500/20 text-green-400 px-2 py-1 text-xs border border-green-500/30",children:[i.habitsAvoided," ",g," avoided"]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-green-600/20 to-emerald-600/20 border border-green-500/20 rounded-xl p-4 mb-4 text-center",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center mb-2",children:[(0,s.jsx)(U.A,{className:"h-5 w-5 text-green-400 mr-2"}),(0,s.jsx)("span",{className:"text-sm font-medium text-green-400",children:"Total Saved"})]}),(0,s.jsx)("div",{className:"text-3xl font-bold text-white",children:u(i.totalSaved)}),(0,s.jsx)("div",{className:"text-xs text-green-300",children:"Available for goals"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4 flex-1",children:[(null==r?void 0:r.hasAddiction)&&(0,s.jsxs)("div",{className:"bg-gradient-to-br from-emerald-600/20 to-teal-600/20 border border-emerald-500/20 rounded-xl p-3 text-center",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center mb-2",children:[(0,s.jsx)(ee.A,{className:"h-4 w-4 text-emerald-400 mr-1"}),(0,s.jsxs)("span",{className:"text-xs font-medium text-emerald-400",children:[g," Savings"]})]}),(0,s.jsx)("div",{className:"text-lg font-bold text-white",children:u(i.habitSaved)}),(0,s.jsx)("div",{className:"text-xs text-emerald-300",children:"Health wins"})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-teal-600/20 to-cyan-600/20 border border-teal-500/20 rounded-xl p-3 text-center ".concat((null==r?void 0:r.hasAddiction)?"":"col-span-2"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-center mb-2",children:[(0,s.jsx)(He.A,{className:"h-4 w-4 text-teal-400 mr-1"}),(0,s.jsx)("span",{className:"text-xs font-medium text-teal-400",children:"Monthly Fund"})]}),(0,s.jsx)("div",{className:"text-lg font-bold text-white",children:u(i.monthlyContributions)}),(0,s.jsxs)("div",{className:"text-xs text-teal-300",children:[u(f),"/month"]})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-r from-purple-500/10 to-indigo-500/10 border border-purple-500/20 rounded-xl p-3 text-center",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center mb-1",children:[(0,s.jsx)(Qt.A,{className:"h-4 w-4 text-purple-400 mr-2"}),(0,s.jsx)("span",{className:"text-sm font-medium text-purple-400",children:"Next Contribution"})]}),(0,s.jsx)("div",{className:"text-lg font-bold text-white",children:0===i.nextContributionDays?"Today!":"".concat(i.nextContributionDays," days")}),(0,s.jsxs)("div",{className:"text-xs text-purple-300",children:[u(f)," on the ",v,"th"]})]}),i.totalSaved>0&&(0,s.jsx)("div",{className:"mt-3 bg-gradient-to-r from-yellow-500/10 to-orange-500/10 border border-yellow-500/20 rounded-xl p-3 text-center",children:(0,s.jsxs)("div",{className:"text-sm font-bold text-yellow-400",children:["🎉 Every ",r?r.currency:"NOK"," is a step toward freedom!"]})})]})})}var Ts=function(){return Ts=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Ts.apply(this,arguments)},Ps=n.forwardRef((function(e,t){var r=e.className,n=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]])}return r}(e,["className"]);return(0,s.jsx)("textarea",Ts({className:b("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t},n))}));Ps.displayName="Textarea";var Ms=function(){return Ms=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Ms.apply(this,arguments)},Os=function(e,t,r,s){return new(r||(r=Promise))((function(n,a){function i(e){try{l(s.next(e))}catch(e){a(e)}}function o(e){try{l(s.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))},Es=function(e,t){var r,s,n,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(r=1,s&&(n=2&o[0]?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Ls=function(e,t,r){if(r||2===arguments.length)for(var s,n=0,a=t.length;n<a;n++)!s&&n in t||(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},Rs=[{value:"experience",label:"Experience",icon:"🏔️"},{value:"education",label:"Education",icon:"📚"},{value:"health",label:"Health",icon:"💪"},{value:"investment",label:"Investment",icon:"💰"},{value:"other",label:"Other",icon:"🎯"}],Fs=[{value:"high",label:"High Priority",icon:L.A,color:"text-red-400"},{value:"medium",label:"Medium Priority",icon:F.A,color:"text-yellow-400"},{value:"low",label:"Low Priority",icon:te.A,color:"text-blue-400"}];function Is(e){var t=this,r=e.isOpen,a=e.onClose,i=e.onGoalAdded,o=e.editingGoal,l=e.onGoalUpdated,c=(0,n.useState)({name:"",targetAmount:"",category:"experience",priority:"medium",description:"",deadline:"",externalUrl:"",imageUrl:""}),d=c[0],u=c[1],x=(0,n.useState)(!1),m=x[0],b=x[1],p=(0,n.useState)(!1),g=p[0],f=p[1],v=(0,n.useState)(null),y=v[0],j=v[1],N=(0,n.useState)(!0),k=N[0],D=N[1];(0,n.useEffect)((function(){Os(t,void 0,void 0,(function(){var e;return Es(this,(function(t){switch(t.label){case 0:return D(!0),[4,G.load("user-config")];case 1:return e=t.sent(),j(e),D(!1),[2]}}))}))}),[]),(0,n.useEffect)((function(){r?o&&u({name:o.name,targetAmount:o.targetAmount.toString(),category:o.category,priority:o.priority,description:o.description||"",deadline:o.deadline||"",externalUrl:o.externalUrl||"",imageUrl:o.imageUrl||""}):(u({name:"",targetAmount:"",category:"experience",priority:"medium",description:"",deadline:"",externalUrl:"",imageUrl:""}),b(!1),f(!1))}),[r,o]);var T,P=function(e){return Rs.find((function(t){return t.value===e}))||Rs[0]},M=function(e){return Fs.find((function(t){return t.value===e}))||Fs[1]};return(0,s.jsx)(w,{open:r,onOpenChange:a,children:(0,s.jsxs)(C,{className:"max-w-md bg-black/95 backdrop-blur-xl border border-white/20 text-white rounded-3xl p-0",children:[(0,s.jsx)(S,{className:"p-4 pb-3 border-b border-white/10",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)($,{variant:"ghost",size:"sm",onClick:a,className:"text-white hover:bg-white/10 p-2",children:[(0,s.jsx)(me.A,{className:"h-4 w-4 mr-1"}),"Back"]}),(0,s.jsx)(A,{className:"text-lg font-bold",children:o?"Edit Goal":"Add Goal"}),(0,s.jsx)("div",{className:"w-12"})," "]})}),(0,s.jsx)("div",{className:"p-4 space-y-4 max-h-[75vh] overflow-y-auto",children:k?(0,s.jsx)("div",{className:"text-center text-white/60 py-12",children:"Loading user settings..."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(ee.A,{className:"h-4 w-4 text-gray-400"}),(0,s.jsx)(ce,{className:"text-white text-sm",children:"Goal Name"})]}),(0,s.jsx)(ie,{placeholder:"e.g., Emergency Fund, New Laptop, Vacation...",value:d.name,onChange:function(e){return u((function(t){return Ms(Ms({},t),{name:e.target.value})}))},className:"bg-transparent border-none text-white placeholder:text-gray-400 text-sm mt-1 focus:ring-0"})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,s.jsx)(h.A,{className:"h-4 w-4 text-gray-400"}),(0,s.jsx)(ce,{className:"text-white text-sm",children:"Target Amount"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(ie,{type:"number",placeholder:"25000",value:d.targetAmount,onChange:function(e){return u((function(t){return Ms(Ms({},t),{targetAmount:e.target.value})}))},className:"bg-transparent border-none text-white placeholder:text-gray-400 text-sm focus:ring-0 flex-1 appearance-none [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none [-moz-appearance:textfield]"}),(0,s.jsx)("span",{className:"text-gray-400 text-sm",children:y?"".concat(y.currency," (").concat(function(){if(!y)return"NOK";switch(y.currency){case"USD":return"$";case"EUR":return"€";default:return"kr"}}(),")"):"NOK (kr)"})]})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsxs)("button",{onClick:function(){return b(!m)},className:"w-full flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"text-lg",children:P(d.category).icon}),(0,s.jsx)(ce,{className:"text-white text-sm",children:"Category"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"text-gray-400 text-sm",children:P(d.category).label}),(0,s.jsx)(Le.A,{className:"h-3 w-3 text-gray-400"})]})]}),m&&(0,s.jsx)("div",{className:"mt-2 space-y-1",children:Rs.map((function(e){return(0,s.jsxs)("button",{onClick:function(){u((function(t){return Ms(Ms({},t),{category:e.value})})),b(!1)},className:"w-full text-left px-2 py-1 text-white hover:bg-white/10 rounded-lg text-sm flex items-center space-x-2",children:[(0,s.jsx)("span",{children:e.icon}),(0,s.jsx)("span",{children:e.label})]},e.value)}))})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsxs)("button",{onClick:function(){return f(!g)},className:"w-full flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(T=M(d.priority).icon,(0,s.jsx)(T,{className:"h-4 w-4 ".concat(M(d.priority).color)})),(0,s.jsx)(ce,{className:"text-white text-sm",children:"Priority"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"text-gray-400 text-sm",children:M(d.priority).label.replace(" Priority","")}),(0,s.jsx)(Le.A,{className:"h-3 w-3 text-gray-400"})]})]}),g&&(0,s.jsx)("div",{className:"mt-2 space-y-1",children:Fs.map((function(e){var t=e.icon;return(0,s.jsxs)("button",{onClick:function(){u((function(t){return Ms(Ms({},t),{priority:e.value})})),f(!1)},className:"w-full text-left px-2 py-1 text-white hover:bg-white/10 rounded-lg text-sm flex items-center space-x-2",children:[(0,s.jsx)(t,{className:"h-3 w-3 ".concat(e.color)}),(0,s.jsx)("span",{children:e.label})]},e.value)}))})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsx)(ce,{className:"text-white text-sm mb-2 block",children:"Description (Optional)"}),(0,s.jsx)(Ps,{placeholder:"Add details about your goal...",value:d.description,onChange:function(e){return u((function(t){return Ms(Ms({},t),{description:e.target.value})}))},className:"bg-transparent border-none text-white placeholder:text-gray-400 text-sm focus:ring-0 min-h-[60px] resize-none",rows:3})]}),(0,s.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(He.A,{className:"h-4 w-4 text-gray-400"}),(0,s.jsx)(ce,{className:"text-white text-sm",children:"Target Date (Optional)"})]}),(0,s.jsx)(ie,{type:"date",value:d.deadline,onChange:function(e){return u((function(t){return Ms(Ms({},t),{deadline:e.target.value})}))},className:"bg-transparent border-none text-white text-right focus:ring-0 w-auto text-sm"})]})}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,s.jsx)(Re.A,{className:"h-4 w-4 text-gray-400"}),(0,s.jsx)(ce,{className:"text-white text-sm",children:"Link (Optional)"})]}),(0,s.jsx)(ie,{type:"url",placeholder:"https://example.com/product",value:d.externalUrl,onChange:function(e){return u((function(t){return Ms(Ms({},t),{externalUrl:e.target.value})}))},className:"bg-transparent border-none text-white placeholder:text-gray-400 text-sm focus:ring-0"})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,s.jsx)("div",{className:"h-4 w-4 text-gray-400",children:"🖼️"}),(0,s.jsx)(ce,{className:"text-white text-sm",children:"Goal Image (Optional)"})]}),(0,s.jsx)(ie,{type:"url",placeholder:"https://images.example.com/dream-goal.jpg",value:d.imageUrl,onChange:function(e){return u((function(t){return Ms(Ms({},t),{imageUrl:e.target.value})}))},className:"bg-transparent border-none text-white placeholder:text-gray-400 text-sm focus:ring-0"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Paste any image URL from Google Images, Pinterest, etc."})]}),(0,s.jsx)($,{onClick:function(){return Os(t,void 0,void 0,(function(){var e,t,r,s,n,c,u;return Es(this,(function(h){switch(h.label){case 0:if(!d.name.trim()||!d.targetAmount)return[2];if(!o)return[3,6];e=Ms(Ms({},o),{name:d.name.trim(),targetAmount:parseFloat(d.targetAmount)||0,category:d.category,priority:d.priority,description:d.description.trim(),deadline:d.deadline||void 0,externalUrl:d.externalUrl.trim()||void 0,imageUrl:d.imageUrl.trim()||void 0}),h.label=1;case 1:return h.trys.push([1,4,,5]),[4,G.load("vision-goals")];case 2:return t=h.sent()||[],c=t.map((function(t){return t.id===o.id?e:t})),[4,G.save("vision-goals",c)];case 3:return h.sent(),l&&l(e),a(),[3,5];case 4:return r=h.sent(),console.error("Error updating goal:",r),[3,5];case 5:return[3,11];case 6:s={id:Date.now().toString(),name:d.name.trim(),targetAmount:parseFloat(d.targetAmount)||0,savedAmount:0,category:d.category,priority:d.priority,description:d.description.trim(),deadline:d.deadline||void 0,externalUrl:d.externalUrl.trim()||void 0,imageUrl:d.imageUrl.trim()||void 0},h.label=7;case 7:return h.trys.push([7,10,,11]),[4,G.load("vision-goals")];case 8:return n=h.sent()||[],c=Ls(Ls([],n,!0),[s],!1),[4,G.save("vision-goals",c)];case 9:return h.sent(),i(s),a(),[3,11];case 10:return u=h.sent(),console.error("Error saving goal:",u),[3,11];case 11:return[2]}}))}))},disabled:!d.name.trim()||!d.targetAmount,className:"w-full bg-purple-500 hover:bg-purple-600 text-white py-3 rounded-lg text-base font-medium disabled:opacity-50 disabled:cursor-not-allowed mt-4",children:o?"Update Goal":"Add Goal"})]})})]})})}var Us=function(){return Us=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Us.apply(this,arguments)},Hs=function(e,t,r,s){return new(r||(r=Promise))((function(n,a){function i(e){try{l(s.next(e))}catch(e){a(e)}}function o(e){try{l(s.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))},Bs=function(e,t){var r,s,n,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(r=1,s&&(n=2&o[0]?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};function Ws(){var e=this,t=(0,n.useState)([]),r=t[0],a=t[1],i=(0,n.useState)(0),o=i[0],l=i[1],c=(0,n.useState)(!0),u=c[0],h=c[1],x=(0,n.useState)(!1),m=x[0],b=x[1],p=(0,n.useState)(null),g=p[0],f=p[1],v=(0,n.useState)(null),y=v[0],j=v[1],w=(0,n.useState)(!0),N=w[0],k=w[1];(0,n.useEffect)((function(){Hs(e,void 0,void 0,(function(){var e;return Bs(this,(function(t){switch(t.label){case 0:return k(!0),[4,G.load("user-config")];case 1:return e=t.sent(),j(e),k(!1),[2]}}))}))}),[]),(0,n.useEffect)((function(){N||S();var e=function(){return S()};return window.addEventListener("dailyLogsUpdated",e),function(){return window.removeEventListener("dailyLogsUpdated",e)}}),[N,y]);var C=function(e){if(!y)return"".concat(Math.round(e).toLocaleString()," NOK");var t=y.currency;switch(t){case"USD":return"$".concat(Math.round(e).toLocaleString());case"EUR":return"€".concat(Math.round(e).toLocaleString());default:return"".concat(Math.round(e).toLocaleString()," ").concat(t)}},S=function(){return Hs(e,void 0,void 0,(function(){var e,t,r,s;return Bs(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,4,5]),[4,G.load("vision-goals")];case 1:return e=n.sent()||[],[4,A()];case 2:return t=n.sent(),r=P(e,t),a(r),l(t),[3,5];case 3:return s=n.sent(),console.error("Error loading goals and savings:",s),a([]),[3,5];case 4:return h(!1),[7];case 5:return[2]}}))}))},A=function(){return Hs(e,void 0,Promise,(function(){var e,t,r;return Bs(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,D()];case 1:return e=s.sent(),[4,T()];case 2:return t=s.sent(),[2,e+t];case 3:return r=s.sent(),console.error("Error calculating total savings:",r),[2,0];case 4:return[2]}}))}))},D=function(){return Hs(e,void 0,Promise,(function(){var e,t,r,s,n,a,i;return Bs(this,(function(o){switch(o.label){case 0:return y&&y.hasAddiction?[4,G.load("daily-logs")]:[2,0];case 1:return e=o.sent()||{},0===(t=Object.values(e)).length?[2,0]:(r=t.sort((function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()})),s=r.slice(0,7),n=s.reduce((function(e,t){return e+(t.snusCount||0)}),0),a=Math.max(5,Math.round(n/Math.max(1,s.length))),i=y.costPerUnit||4.27,[2,t.reduce((function(e,t){return e+Math.max(0,a-(t.snusCount||0))*i}),0)])}}))}))},T=function(){return Hs(e,void 0,Promise,(function(){var e;return Bs(this,(function(t){switch(t.label){case 0:return[4,G.load("monthly-contributions")];case 1:return e=t.sent()||{},[2,Object.values(e).reduce((function(e,t){return e+(t||0)}),0)]}}))}))},P=function(e,t){var r=function(e,t,r){if(r||2===arguments.length)for(var s,n=0,a=t.length;n<a;n++)!s&&n in t||(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}([],e,!0).sort((function(e,t){if(e.priority!==t.priority){var r={high:3,medium:2,low:1};return r[t.priority]-r[e.priority]}return e.targetAmount-t.targetAmount})),s=t;return r.map((function(e){if(s<=0)return Us(Us({},e),{savedAmount:0});var t=Math.min(e.targetAmount,s);return s-=t,Us(Us({},e),{savedAmount:t})}))},M=function(e){switch(e){case"experience":return"🏔️";case"education":return"📚";case"health":return"💪";case"investment":return"💰";default:return"🎯"}};return u||N?(0,s.jsx)(we,{className:"bg-black/60 border border-white/10 backdrop-blur-xl rounded-2xl",children:(0,s.jsx)(Ce,{className:"p-4",children:(0,s.jsx)("div",{className:"animate-pulse text-center text-white/60 text-sm",children:"Loading goals..."})})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(we,{className:"bg-black/60 border border-white/10 backdrop-blur-xl overflow-hidden rounded-2xl",children:(0,s.jsxs)(Ce,{className:"p-4 flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-400 to-indigo-500 rounded-full flex items-center justify-center",children:(0,s.jsx)(ee.A,{className:"h-5 w-5 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-white",children:"Savings Goals"}),(0,s.jsx)("p",{className:"text-xs text-purple-300",children:"Vision board for the future"})]})]}),(0,s.jsx)(O,{className:"bg-purple-500/20 text-purple-400 px-2 py-1 text-xs border border-purple-500/30",children:C(o)})]}),(0,s.jsx)("div",{className:"space-y-4 flex-1 overflow-y-auto",children:0===r.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-400 via-pink-400 to-indigo-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg shadow-purple-500/25",children:(0,s.jsx)(ee.A,{className:"h-8 w-8 text-white"})}),(0,s.jsx)("div",{className:"absolute inset-0 w-20 h-20 bg-gradient-to-br from-purple-400 via-pink-400 to-indigo-500 rounded-full mx-auto animate-ping opacity-20"})]}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white mb-2",children:"Your Dreams Await"}),(0,s.jsx)("p",{className:"text-white/60 text-sm mb-6 max-w-xs mx-auto",children:"Start your journey by creating your first goal. Every great achievement begins with a single step."}),(0,s.jsxs)($,{onClick:function(){f(null),b(!0)},className:"bg-gradient-to-r from-purple-500 via-pink-500 to-indigo-500 hover:from-purple-600 hover:via-pink-600 hover:to-indigo-600 text-white px-6 py-3 text-sm font-medium shadow-lg shadow-purple-500/25 transition-all duration-300 hover:shadow-purple-500/40 hover:scale-105",children:[(0,s.jsx)(Se.A,{className:"h-4 w-4 mr-2"}),"Create Your First Goal"]})]}):r.slice(0,2).map((function(t,n){var a=function(e){return Math.min(100,e.savedAmount/e.targetAmount*100)}(t),i=a>=100,o=function(e){switch(e){case"high":return{color:"bg-red-500/20 text-red-400 border-red-500/30",icon:(0,s.jsx)(L.A,{className:"h-2 w-2"})};case"medium":return{color:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",icon:(0,s.jsx)(F.A,{className:"h-2 w-2"})};case"low":return{color:"bg-blue-500/20 text-blue-400 border-blue-500/30",icon:(0,s.jsx)(te.A,{className:"h-2 w-2"})};default:return{color:"bg-gray-500/20 text-gray-400 border-gray-500/30",icon:(0,s.jsx)(ee.A,{className:"h-2 w-2"})}}}(t.priority);return(0,s.jsxs)("div",{className:"group relative bg-gradient-to-br from-black/40 via-black/30 to-black/40 rounded-3xl p-6 overflow-hidden transition-all duration-500 hover:scale-[1.02] hover:shadow-2xl ".concat(i?"shadow-2xl shadow-green-500/20":"shadow-xl shadow-black/20"),style:{animationDelay:"".concat(200*n,"ms"),minHeight:"280px"},children:[t.imageUrl&&(0,s.jsxs)("div",{className:"absolute inset-0 rounded-3xl overflow-hidden",children:[(0,s.jsx)("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover opacity-45 group-hover:opacity-70 transition-opacity duration-500",onError:function(e){e.currentTarget.style.display="none"}}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]}),(0,s.jsxs)("div",{className:"absolute inset-0 opacity-5",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white rounded-full -translate-y-16 translate-x-16"}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white rounded-full translate-y-12 -translate-x-12"})]}),i&&(0,s.jsx)("div",{className:"absolute top-4 right-4 flex items-center space-x-2",children:(0,s.jsxs)("div",{className:"flex items-center space-x-1 bg-green-500/20 backdrop-blur-sm rounded-full px-3 py-1.5 border border-green-400/30",children:[(0,s.jsx)(d.A,{className:"h-4 w-4 text-yellow-400 animate-pulse"}),(0,s.jsx)("span",{className:"text-green-400 text-sm font-medium",children:"Complete!"})]})}),(0,s.jsxs)("div",{className:"relative z-10 mb-6",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[!t.imageUrl&&(0,s.jsx)("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center shadow-lg",children:(0,s.jsx)("span",{className:"text-2xl",children:M(t.category)})}),t.imageUrl&&(0,s.jsx)("div",{className:"w-12 h-12 rounded-2xl overflow-hidden shadow-lg border-2 border-white/20",children:(0,s.jsx)("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover",onError:function(e){var t=e.currentTarget.parentElement;t&&(t.style.display="none")}})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-xl font-bold text-white leading-tight",children:[t.name,i&&(0,s.jsx)("span",{className:"text-green-400 ml-2",children:"🎉"})]}),(0,s.jsxs)(O,{className:"bg-white/15 text-white/90 border border-white/20 px-2 py-1 text-xs flex items-center space-x-1 w-fit mt-1 backdrop-blur-sm",children:[o.icon,(0,s.jsx)("span",{className:"capitalize",children:t.priority})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[(0,s.jsx)("button",{onClick:function(){return function(e){f(e),b(!0)}(t)},className:"p-2 bg-white/10 hover:bg-white/20 backdrop-blur-sm rounded-lg text-white hover:text-white transition-all duration-200 shadow-lg",children:(0,s.jsx)(Ie.A,{className:"h-4 w-4"})}),(0,s.jsx)("button",{onClick:function(){return r=t.id,Hs(e,void 0,void 0,(function(){var e,t,s;return Bs(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,G.load("vision-goals")];case 1:return e=n.sent()||[],t=e.filter((function(e){return e.id!==r})),[4,G.save("vision-goals",t)];case 2:return n.sent(),S(),[3,4];case 3:return s=n.sent(),console.error("Error deleting goal:",s),[3,4];case 4:return[2]}}))}));var r},className:"p-2 bg-red-500/20 hover:bg-red-500/30 backdrop-blur-sm rounded-lg text-red-400 hover:text-red-300 transition-all duration-200 shadow-lg",children:(0,s.jsx)(se.A,{className:"h-4 w-4"})})]})]}),t.description&&(0,s.jsx)("p",{className:"text-white/80 text-sm leading-relaxed mb-4 max-w-md",children:t.description}),t.deadline&&(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-white/60 text-sm mb-4",children:[(0,s.jsx)(He.A,{className:"h-4 w-4"}),(0,s.jsxs)("span",{children:["Target: ",new Date(t.deadline).toLocaleDateString("no-NO",{day:"numeric",month:"long",year:"numeric"})]})]})]}),(0,s.jsxs)("div",{className:"relative z-10 mb-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,s.jsx)("div",{className:"text-white/90",children:(0,s.jsx)("span",{className:"text-2xl font-bold",children:C(t.savedAmount)})}),(0,s.jsxs)("div",{className:"text-right text-white/60",children:[(0,s.jsxs)("div",{className:"text-sm",children:["of ",C(t.targetAmount)]}),(0,s.jsxs)("div",{className:"text-lg font-semibold text-white/90",children:[a.toFixed(1),"%"]})]})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"w-full bg-black/30 backdrop-blur-sm rounded-full h-4 overflow-hidden border border-white/10 shadow-inner",children:(0,s.jsx)("div",{className:"h-full rounded-full transition-all duration-1000 ease-out relative ".concat(i?"bg-gradient-to-r from-green-400 via-emerald-500 to-green-400":"bg-gradient-to-r from-white/60 via-white/80 to-white/60"),style:{width:"".concat(Math.min(a,100),"%")},children:a>5&&(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-pulse"})})}),a>0&&(0,s.jsx)("div",{className:"absolute top-0 left-0 h-4 rounded-full blur-sm opacity-50",style:{width:"".concat(Math.min(a,100),"%"),background:i?"linear-gradient(90deg, #10b981, #34d399, #10b981)":"linear-gradient(90deg, rgba(255,255,255,0.6), rgba(255,255,255,0.8), rgba(255,255,255,0.6))"}})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center mt-3 text-sm",children:[(0,s.jsx)("span",{className:"text-white/60",children:t.targetAmount-t.savedAmount>0?"".concat(C(t.targetAmount-t.savedAmount)," remaining"):"Goal achieved! 🎯"}),!i&&a>0&&(0,s.jsxs)("span",{className:"text-white/60",children:[Math.round((t.targetAmount-t.savedAmount)/(t.savedAmount/Math.max(1,Object.keys(r).length)))," weeks left*"]})]})]}),t.externalUrl&&(0,s.jsx)("div",{className:"relative z-10",children:(0,s.jsxs)($,{size:"sm",className:"bg-white/15 hover:bg-white/25 backdrop-blur-sm border border-white/20 text-white hover:text-white text-sm px-4 py-2 shadow-lg transition-all duration-200 hover:scale-105",onClick:function(){return window.open(t.externalUrl,"_blank")},children:[(0,s.jsx)(Re.A,{className:"h-3 w-3 mr-2"}),"Explore This Goal"]})})]},t.id)}))}),r.length>0&&(0,s.jsx)("div",{className:"mt-3 pt-3 border-t border-white/10",children:(0,s.jsxs)($,{variant:"outline",className:"w-full bg-white/5 border-white/20 text-white hover:bg-white/10 text-xs h-8",onClick:function(){f(null),b(!0)},children:[(0,s.jsx)(Se.A,{className:"h-3 w-3 mr-1"}),"Add Goal"]})})]})}),(0,s.jsx)(Is,{isOpen:m,onClose:function(){b(!1),f(null)},onGoalAdded:function(e){S()},editingGoal:g,onGoalUpdated:function(e){S(),f(null)}})]})}var zs=r(6265),Gs=[{id:"success-1",text:"As a man thinketh, so is he.",category:"success",author:"James Allen"},{id:"success-2",text:"The only impossible journey is the one you never begin.",category:"success",author:"Tony Robbins"},{id:"success-3",text:"Success is not final, failure is not fatal: it is the courage to continue that counts.",category:"success",author:"Winston Churchill"},{id:"success-4",text:"The way to get started is to quit talking and begin doing.",category:"success",author:"Walt Disney"},{id:"success-5",text:"Don't be afraid to give up the good to go for the great.",category:"success",author:"John D. Rockefeller"},{id:"success-6",text:"Innovation distinguishes between a leader and a follower.",category:"success",author:"Steve Jobs"},{id:"success-7",text:"The future belongs to those who believe in the beauty of their dreams.",category:"success",author:"Eleanor Roosevelt"},{id:"success-8",text:"It is during our darkest moments that we must focus to see the light.",category:"success",author:"Aristotle"},{id:"success-9",text:"Success is going from failure to failure without losing your enthusiasm.",category:"success",author:"Winston Churchill"},{id:"success-10",text:"The only way to do great work is to love what you do.",category:"success",author:"Steve Jobs"},{id:"money-1",text:"An investment in knowledge pays the best interest.",category:"money",author:"Benjamin Franklin"},{id:"money-2",text:"It's not how much money you make, but how much money you keep.",category:"money",author:"Robert Kiyosaki"},{id:"money-3",text:"The stock market is a device for transferring money from the impatient to the patient.",category:"money",author:"Warren Buffett"},{id:"money-4",text:"Never spend your money before you have earned it.",category:"money",author:"Thomas Jefferson"},{id:"money-5",text:"A penny saved is a penny earned.",category:"money",author:"Benjamin Franklin"},{id:"money-6",text:"Rich people have small TVs and big libraries, and poor people have small libraries and big TVs.",category:"money",author:"Zig Ziglar"},{id:"money-7",text:"The real measure of your wealth is how much you'd be worth if you lost all your money.",category:"money",author:"Anonymous"},{id:"money-8",text:"Time is more valuable than money. You can get more money, but you cannot get more time.",category:"money",author:"Jim Rohn"},{id:"money-9",text:"Money is only a tool. It will take you wherever you wish, but it will not replace you as the driver.",category:"money",author:"Ayn Rand"},{id:"money-10",text:"The art is not in making money, but in keeping it.",category:"money",author:"Proverb"},{id:"health-1",text:"To keep the body in good health is a duty... otherwise we shall not be able to keep our mind strong and clear.",category:"health",author:"Buddha"},{id:"health-2",text:"Health is a state of complete harmony of the body, mind and spirit.",category:"health",author:"B.K.S. Iyengar"},{id:"health-3",text:"The groundwork for all happiness is good health.",category:"health",author:"Leigh Hunt"},{id:"health-4",text:"Your body can stand almost anything. It's your mind that you have to convince.",category:"health",author:"Anonymous"},{id:"health-5",text:"Health is not about the weight you lose, but about the life you gain.",category:"health",author:"Anonymous"},{id:"health-6",text:"A healthy outside starts from the inside.",category:"health",author:"Robert Urich"},{id:"health-7",text:"Take care of your body. It's the only place you have to live.",category:"health",author:"Jim Rohn"},{id:"health-8",text:"The first wealth is health.",category:"health",author:"Ralph Waldo Emerson"},{id:"health-9",text:"Health is like money, we never have a true idea of its value until we lose it.",category:"health",author:"Josh Billings"},{id:"health-10",text:"A healthy mind in a healthy body.",category:"health",author:"Juvenal"},{id:"freedom-1",text:"Freedom is not worth having if it does not include the freedom to make mistakes.",category:"freedom",author:"Mahatma Gandhi"},{id:"freedom-2",text:"The secret to happiness is freedom... And the secret to freedom is courage.",category:"freedom",author:"Thucydides"},{id:"freedom-3",text:"For to be free is not merely to cast off one's chains, but to live in a way that respects and enhances the freedom of others.",category:"freedom",author:"Nelson Mandela"},{id:"freedom-4",text:"Freedom lies in being bold.",category:"freedom",author:"Robert Frost"},{id:"freedom-5",text:"The only way to deal with an unfree world is to become so absolutely free that your very existence is an act of rebellion.",category:"freedom",author:"Albert Camus"},{id:"freedom-6",text:"Freedom is the oxygen of the soul.",category:"freedom",author:"Moshe Dayan"},{id:"freedom-7",text:"Independence is happiness.",category:"freedom",author:"Susan B. Anthony"},{id:"freedom-8",text:"Freedom is nothing but a chance to be better.",category:"freedom",author:"Albert Camus"},{id:"freedom-9",text:"The most courageous act is still to think for yourself. Aloud.",category:"freedom",author:"Coco Chanel"},{id:"freedom-10",text:"Freedom is not a gift bestowed upon us by other men, but a right that belongs to us by the laws of God and nature.",category:"freedom",author:"Benjamin Franklin"},{id:"habits-1",text:"We are what we repeatedly do. Excellence, then, is not an act, but a habit.",category:"habits",author:"Aristotle"},{id:"habits-2",text:"Discipline is the bridge between goals and accomplishment.",category:"habits",author:"Jim Rohn"},{id:"habits-3",text:"The successful warrior is the average man with laser-like focus.",category:"habits",author:"Bruce Lee"},{id:"habits-4",text:"Motivation is what gets you started. Habit is what keeps you going.",category:"habits",author:"Jim Ryun"},{id:"habits-5",text:"Your net worth to the network is your ability to help the network increase its net worth.",category:"habits",author:"Reid Hoffman"},{id:"habits-6",text:"First we form habits, then they form us.",category:"habits",author:"John Dryden"},{id:"habits-7",text:"The chains of habit are too weak to be felt until they are too strong to be broken.",category:"habits",author:"Samuel Johnson"},{id:"habits-8",text:"You'll never change your life until you change something you do daily.",category:"habits",author:"Mike Murdock"},{id:"habits-9",text:"Discipline is choosing between what you want now and what you want most.",category:"habits",author:"Augustus F. Hawkins"},{id:"habits-10",text:"Good habits are worth being fanatical about.",category:"habits",author:"John Irving"},{id:"motivation-1",text:"Whether you think you can or you think you can't, you're right.",category:"motivation",author:"Henry Ford"},{id:"motivation-2",text:"The mind is everything. What you think you become.",category:"motivation",author:"Buddha"},{id:"motivation-3",text:"Life is what happens to you while you're busy making other plans.",category:"motivation",author:"John Lennon"},{id:"motivation-4",text:"In the middle of difficulty lies opportunity.",category:"motivation",author:"Albert Einstein"},{id:"motivation-5",text:"It does not matter how slowly you go as long as you do not stop.",category:"motivation",author:"Confucius"},{id:"motivation-6",text:"Everything you've ever wanted is on the other side of fear.",category:"motivation",author:"George Addair"},{id:"motivation-7",text:"Believe you can and you're halfway there.",category:"motivation",author:"Theodore Roosevelt"},{id:"motivation-8",text:"The only person you are destined to become is the person you decide to be.",category:"motivation",author:"Ralph Waldo Emerson"},{id:"motivation-9",text:"It is never too late to be what you might have been.",category:"motivation",author:"George Eliot"},{id:"motivation-10",text:"Don't watch the clock; do what it does. Keep going.",category:"motivation",author:"Sam Levenson"},{id:"motivation-11",text:"The greatest glory in living lies not in never falling, but in rising every time we fall.",category:"motivation",author:"Nelson Mandela"},{id:"motivation-12",text:"Life is really simple, but we insist on making it complicated.",category:"motivation",author:"Confucius"},{id:"motivation-13",text:"You miss 100% of the shots you don't take.",category:"motivation",author:"Wayne Gretzky"},{id:"motivation-14",text:"I have not failed. I've just found 10,000 ways that won't work.",category:"motivation",author:"Thomas A. Edison"},{id:"motivation-15",text:"A person who never made a mistake never tried anything new.",category:"motivation",author:"Albert Einstein"},{id:"motivation-16",text:"The person who says it cannot be done should not interrupt the person who is doing it.",category:"motivation",author:"Chinese Proverb"},{id:"motivation-17",text:"Yesterday is history, tomorrow is a mystery, today is a gift.",category:"motivation",author:"Eleanor Roosevelt"},{id:"motivation-18",text:"If you want to lift yourself up, lift up someone else.",category:"motivation",author:"Booker T. Washington"},{id:"motivation-19",text:"What lies behind us and what lies before us are tiny matters compared to what lies within us.",category:"motivation",author:"Ralph Waldo Emerson"},{id:"motivation-20",text:"You are never too old to set another goal or to dream a new dream.",category:"motivation",author:"C.S. Lewis"},{id:"classic-1",text:"Be yourself; everyone else is already taken.",category:"motivation",author:"Oscar Wilde"},{id:"classic-2",text:"Two things are infinite: the universe and human stupidity; and I'm not sure about the universe.",category:"motivation",author:"Albert Einstein"},{id:"classic-3",text:"Be the change that you wish to see in the world.",category:"motivation",author:"Mahatma Gandhi"},{id:"classic-4",text:"In three words I can sum up everything I've learned about life: it goes on.",category:"motivation",author:"Robert Frost"},{id:"classic-5",text:"If you tell the truth, you don't have to remember anything.",category:"motivation",author:"Mark Twain"},{id:"classic-6",text:"A friend is someone who knows all about you and still loves you.",category:"motivation",author:"Elbert Hubbard"},{id:"classic-7",text:"To live is the rarest thing in the world. Most people just exist.",category:"motivation",author:"Oscar Wilde"},{id:"classic-8",text:"That which does not kill us makes us stronger.",category:"motivation",author:"Friedrich Nietzsche"},{id:"classic-9",text:"Live as if you were to die tomorrow. Learn as if you were to live forever.",category:"motivation",author:"Mahatma Gandhi"},{id:"classic-10",text:"We accept the love we think we deserve.",category:"motivation",author:"Stephen Chbosky"}];function Xs(){var e=(0,n.useState)(Gs[Math.floor(Math.random()*Gs.length)]),t=e[0],r=e[1],a=(0,n.useState)(!1),i=a[0],o=a[1],l=(0,n.useCallback)((function(){i||Gs.length<=1||(o(!0),setTimeout((function(){var e=(Gs.findIndex((function(e){return e.id===t.id}))+1)%Gs.length;r(Gs[e]),setTimeout((function(){o(!1)}),300)}),300))}),[i,t.id]);return(0,n.useEffect)((function(){var e=setInterval((function(){l()}),7e3);return function(){return clearInterval(e)}}),[l]),(0,s.jsxs)(we,{className:"bg-gradient-to-br from-black/40 via-black/30 to-black/40 border border-white/10 backdrop-blur-xl overflow-hidden rounded-3xl shadow-xl shadow-black/20 transition-all duration-500 hover:shadow-2xl group",style:{minHeight:"240px"},children:[(0,s.jsxs)("div",{className:"absolute inset-0 opacity-5",children:[(0,s.jsx)("div",{className:"absolute top-0 left-0 w-32 h-32 bg-white rounded-full -translate-x-16 -translate-y-16 animate-pulse"}),(0,s.jsx)("div",{className:"absolute bottom-0 right-0 w-24 h-24 bg-white rounded-full translate-x-12 translate-y-12 animate-pulse",style:{animationDelay:"1s"}}),(0,s.jsx)("div",{className:"absolute top-1/2 left-1/2 w-40 h-40 bg-white rounded-full -translate-x-1/2 -translate-y-1/2 animate-pulse",style:{animationDelay:"2s"}})]}),(0,s.jsxs)(Ce,{className:"p-5 flex flex-col relative z-10 h-full",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-400 to-indigo-500 rounded-2xl flex items-center justify-center shadow-lg",children:(0,s.jsx)(U.A,{className:"h-5 w-5 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-white",children:"Affirmations"}),(0,s.jsx)("p",{className:"text-xs text-purple-300",children:"Daily motivation"})]})]})}),(0,s.jsx)("div",{className:"flex-1 flex flex-col justify-center items-center relative",children:(0,s.jsxs)("div",{className:"transition-all duration-700 text-center w-full ".concat(i?"opacity-0 transform scale-95":"opacity-100 transform scale-100"),children:[(0,s.jsx)("div",{className:"flex justify-center mb-3",children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)(zs.A,{className:"h-6 w-6 text-white/20 transform rotate-180"}),(0,s.jsx)("div",{className:"w-12 h-0.5 bg-gradient-to-r from-white/60 via-white/80 to-white/60"}),(0,s.jsx)(zs.A,{className:"h-6 w-6 text-white/20"})]})}),(0,s.jsxs)("div",{className:"mb-4 px-2",children:[(0,s.jsxs)("blockquote",{className:"text-lg lg:text-xl font-bold text-white leading-relaxed mb-3 max-w-xl mx-auto",children:['"',t.text,'"']}),t.author&&(0,s.jsxs)("div",{className:"text-center text-white/60 text-sm italic",children:["— ",t.author]})]})]})})]})]})}function Ys(e){var t=e.userConfig,r=(0,n.useState)(!1),a=r[0],i=r[1],o=function(){if(!t)return"Habit";if(t.addictionName&&t.addictionName.trim())return t.addictionName;switch(t.addictionType){case"snus":return"Snus";case"tobacco":return"Cigarette";case"alcohol":return"Drink";case"gambling":return"Gambling";default:return"Habit"}};return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{onClick:function(){return i(!a)},className:"flex items-center gap-2 px-3 py-2 bg-black/20 hover:bg-black/30 rounded-lg transition-all duration-200 backdrop-blur-sm border border-white/10",children:[(0,s.jsx)(jt.A,{className:"w-4 h-4 text-white/70"}),(0,s.jsx)("span",{className:"text-sm text-white/80 font-medium",children:"How Vision Works"})]}),a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 z-40 bg-black/50 backdrop-blur-sm",onClick:function(){return i(!1)}}),(0,s.jsxs)("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50 w-full max-w-4xl max-h-[80vh] bg-black/90 backdrop-blur-md rounded-2xl border border-white/10 shadow-2xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(wt.A,{className:"w-6 h-6 text-pink-400"}),(0,s.jsx)("h2",{className:"text-xl font-bold text-white",children:"Vision Tab - How Your Financial Goals Work"})]}),(0,s.jsx)("button",{onClick:function(){return i(!1)},className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:(0,s.jsx)(v.A,{className:"w-5 h-5 text-white/70"})})]}),(0,s.jsx)("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-br from-pink-500/10 to-rose-500/10 border border-pink-500/20 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(ee.A,{className:"w-6 h-6 text-pink-400"}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"🌟 What is the Vision Tab?"})]}),(0,s.jsxs)("div",{className:"space-y-4 text-white/80",children:[(0,s.jsx)("p",{className:"text-sm",children:"The Vision tab is your financial motivation center. It tracks your progress toward financial goals using two funding sources:"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("strong",{children:["💚 ",o()," Savings:"]})," Money saved by using fewer ",o().toLowerCase()," than your baseline"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"💰 Monthly Contributions:"})," Your chosen amount is added automatically each month on your selected day"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"🎯 Goal Tracking:"})," Your total savings distributed across your financial goals by priority"]})]})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-emerald-500/10 to-green-500/10 border border-emerald-500/20 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(ee.A,{className:"w-6 h-6 text-emerald-400"}),(0,s.jsxs)("h3",{className:"text-lg font-bold text-white",children:["💰 ",o()," Savings Calculator"]})]}),(0,s.jsxs)("div",{className:"space-y-4 text-white/80",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-emerald-300 mb-2",children:"Step 1: Your Baseline is Established"}),(0,s.jsxs)("p",{className:"text-sm",children:["Your ",(0,s.jsx)("strong",{children:"first week"}),' of tracking sets your "normal" ',o().toLowerCase()," usage. For example, if you used a certain number of ",o().toLowerCase()," in week 1, your baseline is calculated as your average per day."]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-emerald-300 mb-2",children:"Step 2: Daily Savings Calculation"}),(0,s.jsx)("p",{className:"text-sm",children:"Every day after, the app compares your actual usage to your baseline:"}),(0,s.jsxs)("div",{className:"mt-2 bg-black/40 rounded-lg p-3 text-xs font-mono",children:[(0,s.jsxs)("div",{children:["• If your baseline is 5 and you use 3, you save 2 ",o().toLowerCase()," × your unit cost = your daily savings"]}),(0,s.jsx)("div",{children:"• If you use less than your baseline, you save more; if you use more, you save nothing that day"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-emerald-300 mb-2",children:"Step 3: Positive-Only Accumulation"}),(0,s.jsxs)("p",{className:"text-sm",children:["Only ",(0,s.jsx)("strong",{children:"good days"})," add to your savings. Bad days don't subtract - they just don't add anything. This keeps you motivated by focusing on wins, not failures."]})]}),(0,s.jsx)("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded-lg p-3",children:(0,s.jsxs)("p",{className:"text-sm",children:[(0,s.jsx)("strong",{children:"Your current unit cost:"})," Set in your profile as the cost per ",o().toLowerCase()," and per package"]})})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/20 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(He.A,{className:"w-6 h-6 text-blue-400"}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"💰 Monthly Contributions"})]}),(0,s.jsxs)("div",{className:"space-y-4 text-white/80",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-blue-300 mb-2",children:"How It Works"}),(0,s.jsx)("p",{className:"text-sm",children:"Every month on your chosen day, the app automatically adds your selected monthly contribution to your savings fund. This simulates a regular contribution to your financial goals."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-blue-300 mb-2",children:"Timeline"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Before your contribution day:"})," No contribution added"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"On your contribution day:"})," Your chosen amount is automatically added"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"After your contribution day:"})," Contribution remains until next month"]})]})]}),(0,s.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:(0,s.jsxs)("p",{className:"text-sm",children:[(0,s.jsx)("strong",{children:"Important:"})," No retroactive contributions! If you start tracking mid-month, you only get contributions from your chosen day onwards."]})})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/20 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(Qt.A,{className:"w-6 h-6 text-purple-400"}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"🎯 How Savings Are Distributed to Goals"})]}),(0,s.jsxs)("div",{className:"space-y-4 text-white/80",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-purple-300 mb-2",children:"Priority System"}),(0,s.jsxs)("p",{className:"text-sm",children:["Your total savings (",o().toLowerCase()," + monthly contributions) get distributed to goals based on:"]}),(0,s.jsxs)("div",{className:"mt-2 bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:["1. ",(0,s.jsx)("strong",{children:"Priority level:"})," High → Medium → Low"]}),(0,s.jsxs)("div",{children:["2. ",(0,s.jsx)("strong",{children:"Goal amount:"})," Smaller goals get filled first within same priority"]}),(0,s.jsxs)("div",{children:["3. ",(0,s.jsx)("strong",{children:"Waterfall effect:"})," Once a goal is completed, excess goes to the next goal"]})]})]}),(0,s.jsx)("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-3",children:(0,s.jsxs)("p",{className:"text-sm",children:[(0,s.jsx)("strong",{children:"Example:"})," If you have a certain amount saved and a high-priority goal, your progress is shown as a percentage of your goal amount."]})})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-indigo-500/10 to-purple-500/10 border border-indigo-500/20 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(h.A,{className:"w-6 h-6 text-indigo-400"}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"✨ Daily Affirmations"})]}),(0,s.jsxs)("div",{className:"space-y-3 text-white/80 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Purpose:"})," Keep you motivated with positive financial and health affirmations"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Categories:"})," Money, Health, Freedom, Success, Habits, Motivation"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Auto-rotation:"})," Changes every 15 seconds, or click Next/Random"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Filtering:"})," Click category buttons to see specific types of affirmations"]})]})]})]})})]})]})]})}const qs=function(e){var t=e.userConfig;return(0,s.jsx)("div",{className:"h-screen pt-28 pb-16 overflow-hidden relative",children:(0,s.jsxs)("div",{className:"container mx-auto px-6 max-w-7xl h-full flex flex-col",children:[(0,s.jsx)("div",{className:"fixed bottom-6 right-6 z-20",children:(0,s.jsx)(Ys,{})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 flex-1 min-h-0",children:[(0,s.jsxs)("div",{className:"lg:col-span-1 flex flex-col space-y-6 min-h-0",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("div",{className:"opacity-0 animate-slide-in-left",style:{animationDelay:"200ms",animationFillMode:"forwards"},children:(0,s.jsx)(Xs,{})})}),(0,s.jsx)("div",{className:"flex-1 min-h-0",children:(0,s.jsx)("div",{className:"opacity-0 animate-slide-in-left",style:{animationDelay:"400ms",animationFillMode:"forwards"},children:(0,s.jsx)(Ds,{userConfig:t})})})]}),(0,s.jsx)("div",{className:"lg:col-span-1 min-h-0",children:(0,s.jsx)("div",{className:"opacity-0 animate-slide-in-right",style:{animationDelay:"500ms",animationFillMode:"forwards"},children:(0,s.jsx)(Ws,{})})})]})]})})};var Vs=r(7946),Ks=r(7133);function Js(e){var t=this,r=e.userConfig,a=(0,n.useState)({todayCount:0,weekCount:0,monthCount:0,totalCount:0,packetsBought:0,costToday:0,costWeek:0,costMonth:0,costTotal:0,minutesToday:0,minutesWeek:0,minutesMonth:0,snusAvoided:0,baselineSnusPerDay:0,daysTracked:0}),i=a[0],o=a[1],l=(0,n.useState)(!0),c=l[0],d=l[1];if(!(null==r?void 0:r.hasAddiction))return null;var u=r.costPerUnit,h=r.hourlyRate,x=r.unitsPerPackage,m=(r.packageCost,function(){if(r.addictionName)return r.addictionName;switch(r.addictionType){case"snus":default:return"Snus";case"tobacco":return"Cigarette";case"alcohol":return"Drink";case"gambling":return"Gambling";case"other":return"Habit"}});(0,n.useEffect)((function(){y();var e=function(){return y()};return window.addEventListener("dailyLogsUpdated",e),function(){return window.removeEventListener("dailyLogsUpdated",e)}}),[]);var b,p,g,f,v,y=function(){return e=t,r=void 0,n=function(){var e,t,r,s,n,a,i,l,c,m,b,p,g,f,v,y,w,N,k,C,S,A,D,T,P,M,O,E,L,R,F,I,U,H,B,W;return function(e,t){var r,s,n,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(r=1,s&&(n=2&o[0]?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(z){switch(z.label){case 0:return z.trys.push([0,9,10,11]),[4,G.load("daily-logs")];case 1:return e=z.sent()||{},[4,G.load("snus-data")];case 2:t=z.sent()||{dailyCount:0,totalDays:0,successfulDays:0,failedDays:0,currentStreak:0,lastDate:""},r=new Date,s=r.toISOString().split("T")[0],n=r.toDateString(),a=j(r),i=r.getMonth(),l=r.getFullYear(),c={},Object.values(e).forEach((function(e){e.date&&"number"==typeof e.snusCount&&(c[e.date]={date:e.date,snusCount:e.snusCount})})),m=0,z.label=3;case 3:if(!(m<30))return[3,8];(b=new Date(r)).setDate(r.getDate()-m),p=b.toDateString(),g=b.toISOString().split("T")[0],z.label=4;case 4:return z.trys.push([4,6,,7]),[4,G.load("day-data-".concat(p))];case 5:return(f=z.sent())&&"number"==typeof f.snusCount&&(c[g]||(c[g]={date:g,snusCount:f.snusCount})),[3,7];case 6:return z.sent(),[3,7];case 7:return m++,[3,3];case 8:return t.lastDate===n?c[s]={date:s,snusCount:t.dailyCount}:c[s]||(c[s]={date:s,snusCount:0}),0===(v=Object.values(c).filter((function(e){return e.snusCount>=0}))).length?(d(!1),[2]):(y=v.filter((function(e){return e.snusCount>0})),w=y.reduce((function(e,t){return e+t.snusCount}),0),N=y.length>0?Math.round(w/y.length):5,k=(null===(W=c[s])||void 0===W?void 0:W.snusCount)||0,C=v.filter((function(e){return a.some((function(t){return t.toISOString().split("T")[0]===e.date}))})),S=C.reduce((function(e,t){return e+t.snusCount}),0),A=v.filter((function(e){var t=new Date(e.date);return t.getMonth()===i&&t.getFullYear()===l})),D=A.reduce((function(e,t){return e+t.snusCount}),0),T=v.reduce((function(e,t){return e+t.snusCount}),0),P=Math.ceil(T/x),L=T*u,R=(M=k*u)/h*60,F=(O=S*u)/h*60,I=(E=D*u)/h*60,U=v.reduce((function(e,t){return e+Math.max(0,N-t.snusCount)}),0),H=v.length,o({todayCount:k,weekCount:S,monthCount:D,totalCount:T,packetsBought:P,costToday:M,costWeek:O,costMonth:E,costTotal:L,minutesToday:R,minutesWeek:F,minutesMonth:I,snusAvoided:U,baselineSnusPerDay:N,daysTracked:H}),[3,11]);case 9:return B=z.sent(),console.error("Error calculating snus impact:",B),[3,11];case 10:return d(!1),[7];case 11:return[2]}}))},new((s=void 0)||(s=Promise))((function(t,a){function i(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var r;e.done?t(e.value):(r=e.value,r instanceof s?r:new s((function(e){e(r)}))).then(i,o)}l((n=n.apply(e,r||[])).next())}));var e,r,s,n},j=function(e){var t=[],r=new Date(e),s=e.getDay(),n=0===s?6:s-1;r.setDate(e.getDate()-n);for(var a=0;a<7;a++){var i=new Date(r);i.setDate(r.getDate()+a),t.push(i)}return t},w=function(e){return"".concat(function(){switch(r.currency){case"USD":return"$";case"EUR":return"€";default:return"kr"}}()," ").concat(Math.round(e).toLocaleString())},N=function(e){if(e<60)return"".concat(Math.round(e),"min");var t=Math.floor(e/60),r=Math.round(e%60);return r>0?"".concat(t,"h ").concat(r,"m"):"".concat(t,"h")};return c?(0,s.jsx)(we,{className:"bg-black/60 border border-white/10 backdrop-blur-xl h-full overflow-hidden rounded-2xl",children:(0,s.jsx)(Ce,{className:"p-3",children:(0,s.jsx)("div",{className:"animate-pulse text-center text-white/60 text-sm",children:"Loading real data..."})})}):(0,s.jsx)(we,{className:"bg-black/60 border border-white/10 backdrop-blur-xl h-full overflow-hidden rounded-2xl",children:(0,s.jsxs)(Ce,{className:"p-3 h-full flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(Vs.A,{className:"h-4 w-4 text-orange-400"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-sm font-bold text-white",children:[m()," Impact"]}),(0,s.jsx)("p",{className:"text-xs text-gray-400",children:"Real usage analysis"})]})]}),(0,s.jsxs)(O,{className:"bg-orange-500/20 text-orange-400 px-2 py-1 text-xs rounded",children:[i.daysTracked," days tracked"]})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-center",children:[(0,s.jsx)("div",{className:"text-xs text-gray-400 mb-2",children:"Today"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-red-400",children:i.todayCount}),(0,s.jsx)("div",{className:"text-xs text-gray-400 mt-2",children:w(i.costToday)})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-center",children:[(0,s.jsx)("div",{className:"text-xs text-gray-400 mb-2",children:"Week"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-orange-400",children:i.weekCount}),(0,s.jsx)("div",{className:"text-xs text-gray-400 mt-2",children:w(i.costWeek)})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-center",children:[(0,s.jsx)("div",{className:"text-xs text-gray-400 mb-2",children:"Month"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:i.monthCount}),(0,s.jsx)("div",{className:"text-xs text-gray-400 mt-2",children:w(i.costMonth)})]})]})}),(0,s.jsx)("div",{className:"mb-4",children:(f="bg-red-500/10 border-red-500/20",v="text-red-400",i.packetsBought<5?(f="bg-green-500/10 border-green-500/20",v="text-green-400"):i.packetsBought>=5&&i.packetsBought<=8&&(f="bg-yellow-500/10 border-yellow-500/20",v="text-yellow-400"),(0,s.jsxs)("div",{className:"".concat(f," rounded-2xl p-4"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(Ks.A,{className:"h-3 w-3 ".concat(v)}),(0,s.jsx)("span",{className:"text-xs text-gray-400",children:"Total Damage"})]}),(0,s.jsxs)("span",{className:"text-xs ".concat(v),children:[i.packetsBought," packages"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-xs text-gray-400",children:["Total ",m().toLowerCase()]}),(0,s.jsx)("div",{className:"text-xl font-bold ".concat(v),children:i.totalCount.toLocaleString()})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"Total cost"}),(0,s.jsx)("div",{className:"text-xl font-bold ".concat(v),children:w(i.costTotal)})]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("div",{className:"text-xs text-gray-400 mb-2",children:"Packages bought:"}),(0,s.jsxs)("div",{className:"flex gap-0.5",children:[Array.from({length:Math.min(i.packetsBought,(null==r?void 0:r.previousMonthlyConsumption)||20)}).map((function(e,t){var r="bg-red-400/60 border-red-400";return i.packetsBought<5?r="bg-green-300/80 border-green-300":i.packetsBought>=5&&i.packetsBought<=8&&(r="bg-yellow-300/80 border-yellow-300"),(0,s.jsx)("div",{className:"flex-1 h-3 ".concat(r," rounded-sm")},"bought-".concat(t))})),(b=(null==r?void 0:r.previousMonthlyConsumption)||20,p=Math.max(0,b-i.packetsBought),g=Math.min(p,((null==r?void 0:r.previousMonthlyConsumption)||20)-i.packetsBought),Array.from({length:Math.max(0,g)}).map((function(e,t){return(0,s.jsx)("div",{className:"flex-1 h-3 bg-gray-600/40 border border-gray-500/50 rounded-sm"},"potential-".concat(t))})))]}),(0,s.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:[(0,s.jsxs)("span",{className:v,children:[i.packetsBought," bought"]}),(0,s.jsxs)("span",{className:"text-gray-400 ml-2",children:["/ ",(null==r?void 0:r.previousMonthlyConsumption)||20," previous monthly consumption"]})]})]})]}))}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("div",{className:"bg-gradient-to-r from-purple-500/10 via-pink-500/10 to-orange-500/10 border-2 border-purple-500/30 rounded-2xl p-5 relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/5 via-pink-500/5 to-orange-500/5 animate-pulse"}),(0,s.jsx)("div",{className:"relative z-10",children:(0,s.jsxs)("div",{className:"text-center mb-4",children:[(0,s.jsx)("div",{className:"text-xs font-bold text-purple-400 uppercase tracking-wider mb-2",children:"Reality Check"}),(0,s.jsxs)("div",{className:"text-sm text-gray-300 mb-3",children:["That ",w(i.costTotal)," could have bought:"]}),(0,s.jsxs)("div",{className:"bg-black/40 border border-white/20 rounded-2xl p-4",children:[(0,s.jsxs)("div",{className:"text-lg font-bold text-white leading-tight mb-2",children:[i.costTotal<250&&"☕ A few coffee shop visits",i.costTotal>=250&&i.costTotal<500&&"🛒 4 days of groceries",i.costTotal>=500&&i.costTotal<1e3&&"🍕 2+ restaurant meals",i.costTotal>=1e3&&i.costTotal<1500&&"💪 4 months gym membership",i.costTotal>=1500&&i.costTotal<2500&&"🎵 2 tickets to a concert",i.costTotal>=2500&&i.costTotal<5e3&&"🏠 Almost 1 month of rent",i.costTotal>=5e3&&i.costTotal<1e4&&"✈️ A weekend trip to Europe",i.costTotal>=1e4&&"🌍 A proper vacation abroad"]}),(0,s.jsxs)("div",{className:"text-xs text-purple-300 mt-3 italic",children:[i.costTotal<250&&"Small pleasures you're missing out on",i.costTotal>=250&&i.costTotal<500&&"Essential needs you could cover",i.costTotal>=500&&i.costTotal<1e3&&"Good times you could have had",i.costTotal>=1e3&&i.costTotal<1500&&"Health investments you could make",i.costTotal>=1500&&i.costTotal<2500&&"Memorable experiences you could create",i.costTotal>=2500&&i.costTotal<5e3&&"Serious life expenses you could handle",i.costTotal>=5e3&&i.costTotal<1e4&&"Amazing adventures you could take",i.costTotal>=1e4&&"Life-changing experiences you could afford"]})]})]})})]})}),(0,s.jsx)("div",{className:"mb-3",children:(0,s.jsxs)("div",{className:"bg-gradient-to-r from-blue-500/10 via-cyan-500/10 to-teal-500/10 border-2 border-blue-500/30 rounded-2xl p-4 relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/5 via-cyan-500/5 to-teal-500/5 animate-pulse"}),(0,s.jsx)("div",{className:"relative z-10",children:(0,s.jsxs)("div",{className:"text-center mb-3",children:[(0,s.jsx)("div",{className:"text-xs font-bold text-blue-400 uppercase tracking-wider mb-2",children:"Work Time Wasted"}),(0,s.jsxs)("div",{className:"text-xs text-gray-300 mb-3",children:["Your ",w(i.costTotal)," = precious work hours lost"]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[(0,s.jsxs)("div",{className:"bg-black/40 border border-white/20 rounded-2xl p-3",children:[(0,s.jsx)("div",{className:"text-sm font-bold text-blue-400",children:N(i.minutesWeek)}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"Week"})]}),(0,s.jsxs)("div",{className:"bg-black/40 border border-white/20 rounded-2xl p-3",children:[(0,s.jsx)("div",{className:"text-sm font-bold text-cyan-400",children:N(i.minutesMonth)}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"Month"})]}),(0,s.jsxs)("div",{className:"bg-black/40 border border-white/20 rounded-2xl p-3",children:[(0,s.jsx)("div",{className:"text-sm font-bold text-teal-400",children:N(i.costTotal/h*60)}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"Total"})]})]}),(0,s.jsxs)("div",{className:"text-xs text-blue-300 italic",children:[i.costTotal<100&&"Just a few coffee breaks worth of time",i.costTotal>=100&&i.costTotal<300&&"Almost a full work morning lost",i.costTotal>=300&&i.costTotal<500&&"A complete work day down the drain",i.costTotal>=500&&i.costTotal<1e3&&"Multiple work days you'll never get back",i.costTotal>=1e3&&i.costTotal<2e3&&"A full work week wasted",i.costTotal>=2e3&&i.costTotal<5e3&&"Weeks of your life traded for nothing",i.costTotal>=5e3&&"Months of work time sacrificed for temporary hits"]})]})})]})})]})]})})}var _s=r(85),$s=r(5333),Zs=r(211),Qs=r(9492),en=r(468),tn=r(9436),rn=function(){return rn=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},rn.apply(this,arguments)},sn=function(e,t,r){if(r||2===arguments.length)for(var s,n=0,a=t.length;n<a;n++)!s&&n in t||(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},nn=["💻","📱","🎵","🎬","🏃","☁️","🛡️","🏠","📚","🤖"],an=[{name:"Gray",value:"bg-gray-500",selected:"bg-gray-600"},{name:"Red",value:"bg-red-500",selected:"bg-red-600"},{name:"Orange",value:"bg-orange-500",selected:"bg-orange-600"},{name:"Green",value:"bg-green-500",selected:"bg-green-600"},{name:"Cyan",value:"bg-cyan-400",selected:"bg-cyan-500"},{name:"Blue",value:"bg-blue-500",selected:"bg-blue-600"},{name:"Purple",value:"bg-purple-500",selected:"bg-purple-600"}],on=["Entertainment","Productivity","Health & Fitness","Utilities","Food & Drink","Transportation","Other"],ln=["Credit Card","Debit Card","PayPal","Bank Transfer","Other"];function cn(e){var t=this,r=e.isOpen,a=e.onClose,i=e.onSubscriptionAdded,o=e.editingSubscription,l=e.onSubscriptionUpdated,c=e.userConfig,d=(0,n.useState)({name:"",price:"",icon:"💻",color:"bg-blue-500",startDate:(new Date).toISOString().split("T")[0],billingCycle:"monthly",category:"",paymentMethod:"",reminderEnabled:!0,isPaid:!0}),u=d[0],h=d[1],x=(0,n.useState)(!1),m=x[0],b=x[1],p=(0,n.useState)(!1),g=p[0],f=p[1],v=(0,n.useState)(!1),y=v[0],j=v[1];(0,n.useEffect)((function(){r?o&&h({name:o.name,price:o.price.toString(),icon:o.icon,color:o.color,startDate:o.startDate||o.renewalDate,billingCycle:o.billingCycle,category:o.category||"",paymentMethod:o.paymentMethod||"",reminderEnabled:o.reminderEnabled,isPaid:o.price>0}):(h({name:"",price:"",icon:"💻",color:"bg-blue-500",startDate:(new Date).toISOString().split("T")[0],billingCycle:"monthly",category:"",paymentMethod:"",reminderEnabled:!0,isPaid:!0}),b(!1),f(!1),j(!1))}),[r,o]);var N=function(){var e=new Date(u.startDate);e.setHours(0,0,0,0);var t=new Date;if(t.setHours(0,0,0,0),e>t){var r=new Date(e);return"monthly"===u.billingCycle?r.setMonth(r.getMonth()+1):"yearly"===u.billingCycle?r.setFullYear(r.getFullYear()+1):"weekly"===u.billingCycle&&r.setDate(r.getDate()+7),r.toISOString().split("T")[0]}var s=new Date(e);if("weekly"===u.billingCycle){var n=Math.floor((t.getTime()-e.getTime())/6048e5);s.setDate(e.getDate()+7*(n+1))}else if("monthly"===u.billingCycle){var a=e.getDate(),i=e.getMonth(),o=e.getFullYear();do{++i>11&&(i=0,o++),(s=new Date(o,i,1)).setDate(a),s.getDate()!==a&&(s=new Date(o,i+1,0))}while(s<=t)}else if("yearly"===u.billingCycle){for(var l=0,c=new Date(e);c<=t;)c.setFullYear(c.getFullYear()+1),l++;s.setFullYear(e.getFullYear()+l)}return s.toISOString().split("T")[0]};return(0,s.jsx)(w,{open:r,onOpenChange:a,children:(0,s.jsxs)(C,{className:"max-w-md bg-black/95 backdrop-blur-xl border border-white/20 text-white rounded-3xl p-0",children:[(0,s.jsx)(S,{className:"p-4 pb-3 border-b border-white/10",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)($,{variant:"ghost",size:"sm",onClick:a,className:"text-white hover:bg-white/10 p-2",children:[(0,s.jsx)(me.A,{className:"h-4 w-4 mr-1"}),"Back"]}),(0,s.jsx)(A,{className:"text-lg font-bold",children:o?"Edit Subscription":"Add Subscription"}),(0,s.jsx)("div",{className:"w-12"})," "]})}),(0,s.jsxs)("div",{className:"p-4 space-y-4 max-h-[75vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("button",{onClick:function(){return b(!m)},className:"w-12 h-12 ".concat(u.color," rounded-full flex items-center justify-center text-xl hover:opacity-80 transition-opacity"),children:u.icon}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(ie,{placeholder:"Subscription Name",value:u.name,onChange:function(e){return h((function(t){return rn(rn({},t),{name:e.target.value})}))},className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 text-base rounded-lg"})})]}),m&&(0,s.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:(0,s.jsx)("div",{className:"grid grid-cols-8 gap-1",children:nn.map((function(e){return(0,s.jsx)("button",{onClick:function(){h((function(t){return rn(rn({},t),{icon:e})})),b(!1)},className:"w-7 h-7 flex items-center justify-center text-base hover:bg-white/10 rounded-lg transition-colors",children:e},e)}))})}),(0,s.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:(0,s.jsx)("div",{className:"flex items-center justify-center space-x-2",children:an.map((function(e){return(0,s.jsx)("button",{onClick:function(){return h((function(t){return rn(rn({},t),{color:e.value})}))},className:"w-7 h-7 ".concat(e.value," rounded-full border-2 ").concat(u.color===e.value?"border-white":"border-transparent"," hover:scale-110 transition-transform")},e.name)}))})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)($,{onClick:function(){return h((function(e){return rn(rn({},e),{isPaid:!0})}))},variant:"outline",className:"".concat(u.isPaid?"bg-white/20 border-white/30 text-white":"bg-white/5 border-white/10 text-gray-400"," rounded-lg py-2 text-sm"),children:"Paid"}),(0,s.jsx)($,{onClick:function(){return h((function(e){return rn(rn({},e),{isPaid:!1})}))},variant:"outline",className:"".concat(u.isPaid?"bg-white/5 border-white/10 text-gray-400":"bg-white/20 border-white/30 text-white"," rounded-lg py-2 text-sm"),children:"Free Trial"})]}),u.isPaid&&(0,s.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(Zs.A,{className:"h-4 w-4 text-gray-400"}),(0,s.jsx)(ce,{className:"text-white text-sm",children:"Amount"}),(0,s.jsx)(ie,{type:"number",placeholder:"Enter amount",value:u.price,onChange:function(e){return h((function(t){return rn(rn({},t),{price:e.target.value})}))},className:"bg-transparent border-none text-white placeholder:text-gray-400 text-right flex-1 focus:ring-0 text-sm appearance-none [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none [-moz-appearance:textfield]"}),(0,s.jsx)("span",{className:"text-gray-400 text-sm",children:function(){if(!c)return"NOK (kr)";switch(c.currency){case"USD":return"USD ($)";case"EUR":return"EUR (€)";case"SEK":return"SEK (kr)";default:return"NOK (kr)"}}()})]})}),(0,s.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(He.A,{className:"h-4 w-4 text-gray-400"}),(0,s.jsx)(ce,{className:"text-white text-sm",children:"Start date"})]}),(0,s.jsx)(ie,{type:"date",value:u.startDate,onChange:function(e){return h((function(t){return rn(rn({},t),{startDate:e.target.value})}))},className:"bg-transparent border-none text-white text-right focus:ring-0 w-auto text-sm"})]})}),(0,s.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(Qs.A,{className:"h-4 w-4 text-gray-400"}),(0,s.jsx)(ce,{className:"text-white text-sm",children:"Billing cycle"})]}),(0,s.jsxs)("select",{value:u.billingCycle,onChange:function(e){return h((function(t){return rn(rn({},t),{billingCycle:e.target.value})}))},className:"bg-transparent border-none text-white text-right focus:ring-0 focus:outline-none text-sm",children:[(0,s.jsx)("option",{value:"weekly",className:"bg-black",children:"Weekly"}),(0,s.jsx)("option",{value:"monthly",className:"bg-black",children:"Monthly"}),(0,s.jsx)("option",{value:"yearly",className:"bg-black",children:"Yearly"})]})]})}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsxs)("button",{onClick:function(){return f(!g)},className:"w-full flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(en.A,{className:"h-4 w-4 text-gray-400"}),(0,s.jsx)(ce,{className:"text-white text-sm",children:"Category"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"text-gray-400 text-sm",children:u.category||"None"}),(0,s.jsx)(Le.A,{className:"h-3 w-3 text-gray-400"})]})]}),g&&(0,s.jsx)("div",{className:"mt-2 space-y-1",children:on.map((function(e){return(0,s.jsx)("button",{onClick:function(){h((function(t){return rn(rn({},t),{category:e})})),f(!1)},className:"w-full text-left px-2 py-1 text-white hover:bg-white/10 rounded-lg text-sm",children:e},e)}))})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsxs)("button",{onClick:function(){return j(!y)},className:"w-full flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(Zs.A,{className:"h-4 w-4 text-gray-400"}),(0,s.jsx)(ce,{className:"text-white text-sm",children:"Payment Method"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"text-gray-400 text-sm",children:u.paymentMethod||"None"}),(0,s.jsx)(Le.A,{className:"h-3 w-3 text-gray-400"})]})]}),y&&(0,s.jsx)("div",{className:"mt-2 space-y-1",children:ln.map((function(e){return(0,s.jsx)("button",{onClick:function(){h((function(t){return rn(rn({},t),{paymentMethod:e})})),j(!1)},className:"w-full text-left px-2 py-1 text-white hover:bg-white/10 rounded-lg text-sm",children:e},e)}))})]}),(0,s.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(tn.A,{className:"h-4 w-4 text-gray-400"}),(0,s.jsx)(ce,{className:"text-white text-sm",children:"Renewal reminder"})]}),(0,s.jsx)("button",{onClick:function(){return h((function(e){return rn(rn({},e),{reminderEnabled:!e.reminderEnabled})}))},className:"w-10 h-5 rounded-full transition-colors ".concat(u.reminderEnabled?"bg-green-500":"bg-gray-600"," relative"),children:(0,s.jsx)("div",{className:"w-4 h-4 bg-white rounded-full absolute top-0.5 transition-transform ".concat(u.reminderEnabled?"translate-x-5":"translate-x-0.5")})})]})}),(0,s.jsx)($,{onClick:function(){return e=t,r=void 0,n=function(){var e,t,r,s,n,c,d,h,x;return function(e,t){var r,s,n,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(r=1,s&&(n=2&o[0]?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(m){switch(m.label){case 0:if(!u.name.trim()||u.isPaid&&!u.price)return[2];if(e=N(),t=function(){var e=new Date;e.setHours(0,0,0,0);var t=N(),r=new Date(t);r.setHours(0,0,0,0);var s=r.getTime()-e.getTime(),n=Math.ceil(s/864e5);return Math.max(0,n)}(),!o)return[3,6];r=rn(rn({},o),{name:u.name.trim(),price:u.isPaid&&parseFloat(u.price)||0,renewalDate:e,startDate:u.startDate,icon:u.icon,color:u.color,category:u.category,paymentMethod:u.paymentMethod,billingCycle:u.billingCycle,reminderEnabled:u.reminderEnabled,daysUntilRenewal:t,status:t<=0?"overdue":t<=7?"upcoming":"active"}),m.label=1;case 1:return m.trys.push([1,4,,5]),[4,G.load("subscriptions")];case 2:return s=m.sent()||[],h=s.map((function(e){return e.id===o.id?r:e})),[4,G.save("subscriptions",h)];case 3:return m.sent(),l&&l(r),a(),[3,5];case 4:return n=m.sent(),console.error("Error updating subscription:",n),[3,5];case 5:return[3,11];case 6:c={id:Date.now().toString(),name:u.name.trim(),price:u.isPaid&&parseFloat(u.price)||0,renewalDate:e,startDate:u.startDate,icon:u.icon,color:u.color,status:t<=0?"overdue":t<=7?"upcoming":"active",daysUntilRenewal:t,category:u.category,paymentMethod:u.paymentMethod,billingCycle:u.billingCycle,reminderEnabled:u.reminderEnabled},m.label=7;case 7:return m.trys.push([7,10,,11]),[4,G.load("subscriptions")];case 8:return d=m.sent()||[],h=sn(sn([],d,!0),[c],!1),[4,G.save("subscriptions",h)];case 9:return m.sent(),i(c),a(),[3,11];case 10:return x=m.sent(),console.error("Error saving subscription:",x),[3,11];case 11:return[2]}}))},new((s=void 0)||(s=Promise))((function(t,a){function i(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var r;e.done?t(e.value):(r=e.value,r instanceof s?r:new s((function(e){e(r)}))).then(i,o)}l((n=n.apply(e,r||[])).next())}));var e,r,s,n},disabled:!u.name.trim()||u.isPaid&&!u.price,className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg text-base font-medium disabled:opacity-50 disabled:cursor-not-allowed mt-4",children:o?"Update Subscription":"Add Subscription"})]})]})})}function dn(e){var t,r,a,i=this,o=e.isOpen,l=e.onClose,c=e.subscription,d=(e.onSubscriptionUpdated,e.onSubscriptionDeleted),u=e.onEdit,h=e.userConfig,x=(0,n.useState)(!1),m=x[0],b=x[1];return c?(0,s.jsx)(w,{open:o,onOpenChange:l,children:(0,s.jsxs)(C,{className:"max-w-md bg-black text-white rounded-3xl p-0 overflow-hidden border border-white/20",children:[(0,s.jsxs)("div",{className:"".concat(c.color," p-6 relative"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)($,{variant:"ghost",size:"sm",onClick:l,className:"text-white/80 hover:text-white hover:bg-white/20 p-2 rounded-full",children:(0,s.jsx)(me.A,{className:"h-5 w-5"})}),(0,s.jsx)("button",{onClick:function(){return u(c)},className:"text-white/80 hover:text-white text-lg",children:"Edit"})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center mb-4",children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mb-4 shadow-lg",children:(0,s.jsx)("div",{className:"w-12 h-12 ".concat(c.color," rounded-full flex items-center justify-center text-2xl"),children:c.icon})}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:c.name}),(0,s.jsxs)("p",{className:"text-white/80 text-lg",children:["Renews on ",(a=c.renewalDate,new Date(a).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}))]})]}),(0,s.jsx)("div",{className:"bg-white/20 rounded-2xl p-4 backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-white font-semibold text-lg",children:function(){switch(c.billingCycle){case"weekly":return"Weekly";case"monthly":default:return"Monthly";case"yearly":return"Yearly"}}()}),(0,s.jsx)("div",{className:"text-white/70 text-sm",children:"Plan"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-white font-semibold text-lg",children:(t=c.price,r=function(){if(!h)return"kr";switch(h.currency){case"USD":return"$";case"EUR":return"€";default:return"kr"}}(),"$"===r||"€"===r?"".concat(r).concat(t.toFixed(2)):"".concat(t.toFixed(2).replace(".",",")," ").concat(r))}),(0,s.jsx)("div",{className:"text-white/70 text-sm",children:"Monthly"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-white font-semibold text-lg",children:"Active"}),(0,s.jsx)("div",{className:"text-white/70 text-sm",children:"Status"})]})]})})]}),(0,s.jsxs)("div",{className:"p-6 space-y-4",children:[(0,s.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(He.A,{className:"h-5 w-5 text-gray-400"}),(0,s.jsx)("span",{className:"text-white font-medium",children:"Next bill"})]}),(0,s.jsxs)("span",{className:"text-gray-400",children:["in ",c.daysUntilRenewal," days"]})]})}),(0,s.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(en.A,{className:"h-5 w-5 text-gray-400"}),(0,s.jsx)("span",{className:"text-white font-medium",children:"Category"})]}),(0,s.jsx)("span",{className:"text-gray-400",children:c.category||"Utilities"})]})}),(0,s.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(Zs.A,{className:"h-5 w-5 text-gray-400"}),(0,s.jsx)("span",{className:"text-white font-medium",children:"Payment method"})]}),(0,s.jsx)("span",{className:"text-gray-400",children:c.paymentMethod||"Vanlig Kort"})]})}),(0,s.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(tn.A,{className:"h-5 w-5 text-gray-400"}),(0,s.jsx)("span",{className:"text-white font-medium",children:"Renewal reminder"})]}),(0,s.jsx)("span",{className:"text-gray-400",children:c.reminderEnabled?"On":"None"})]})}),(0,s.jsx)("div",{className:"space-y-3 pt-4",children:(0,s.jsx)($,{onClick:function(){return b(!0)},className:"w-full bg-transparent hover:bg-red-500/20 text-red-400 py-4 rounded-2xl text-lg font-medium border border-red-500/30",children:"Delete Subscription"})})]}),m&&(0,s.jsx)("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-6",children:(0,s.jsxs)("div",{className:"bg-gray-900 rounded-2xl p-6 w-full max-w-sm",children:[(0,s.jsx)("h3",{className:"text-white text-lg font-bold mb-2",children:"Delete Subscription"}),(0,s.jsxs)("p",{className:"text-gray-400 mb-6",children:["Are you sure you want to delete ",c.name,"? This action cannot be undone."]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)($,{onClick:function(){return e=i,t=void 0,s=function(){var e;return function(e,t){var r,s,n,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(r=1,s&&(n=2&o[0]?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,d(c.id)];case 1:return t.sent(),l(),[3,3];case 2:return e=t.sent(),console.error("Error deleting subscription:",e),[3,3];case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(n,a){function i(e){try{l(s.next(e))}catch(e){a(e)}}function o(e){try{l(s.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}));var e,t,r,s},className:"w-full bg-red-500 hover:bg-red-600 text-white py-3 rounded-xl",children:"Delete"}),(0,s.jsx)($,{onClick:function(){return b(!1)},className:"w-full bg-white/10 hover:bg-white/20 text-white py-3 rounded-xl",children:"Cancel"})]})]})})]})}):null}var un=function(e,t,r,s){return new(r||(r=Promise))((function(n,a){function i(e){try{l(s.next(e))}catch(e){a(e)}}function o(e){try{l(s.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))},hn=function(e,t){var r,s,n,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(r=1,s&&(n=2&o[0]?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};function xn(e){var t=this,r=e.isOpen,a=e.onClose,i=e.userConfig,o=(0,n.useState)([]),l=o[0],c=o[1],d=(0,n.useState)(!0),u=d[0],h=d[1];(0,n.useEffect)((function(){r&&x()}),[r]);var x=function(){return un(t,void 0,void 0,(function(){var e,t;return hn(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,3,4]),[4,G.load("subscription-history")];case 1:return e=r.sent()||[],c(e),[3,4];case 2:return t=r.sent(),console.error("Error loading subscription history:",t),c([]),[3,4];case 3:return h(!1),[7];case 4:return[2]}}))}))},m=function(e){var t=function(){if(!i)return"kr";switch(i.currency){case"USD":return"$";case"EUR":return"€";default:return"kr"}}();return"$"===t||"€"===t?"".concat(t).concat(e.toFixed(0)):"".concat(e.toFixed(0).replace(".",",")," ").concat(t)},b=function(e){return new Date(e).toLocaleDateString("en-GB",{day:"numeric",month:"short"})},p=function(e){switch(e){case"weekly":return"Weekly";case"monthly":default:return"Monthly";case"yearly":return"Yearly"}};return u?(0,s.jsx)(w,{open:r,onOpenChange:a,children:(0,s.jsxs)(C,{className:"max-w-md bg-black/95 backdrop-blur-xl border border-white/20 text-white rounded-3xl p-6",children:[(0,s.jsx)(A,{className:"sr-only",children:"Loading Subscription History"}),(0,s.jsx)(D,{className:"sr-only",children:"Please wait while we load your subscription history"}),(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-gray-400",children:"Loading history..."})})]})}):(0,s.jsx)(w,{open:r,onOpenChange:a,children:(0,s.jsxs)(C,{className:"max-w-md bg-black/95 backdrop-blur-xl border border-white/20 text-white rounded-3xl p-0",children:[(0,s.jsxs)(S,{className:"p-4 pb-3 border-b border-white/10",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)($,{variant:"ghost",size:"sm",onClick:a,className:"text-white hover:bg-white/10 p-2",children:[(0,s.jsx)(me.A,{className:"h-4 w-4 mr-1"}),"Back"]}),(0,s.jsx)(A,{className:"text-lg font-bold",children:"Subscription History"}),(0,s.jsx)("div",{className:"w-12"})]}),(0,s.jsx)(D,{className:"sr-only",children:"View your cancelled subscription history with duration and payment details"})]}),(0,s.jsxs)("div",{className:"p-4 max-h-[70vh] overflow-y-auto",children:[l.length>0&&(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-lg font-bold text-white",children:l.length}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"Cancelled"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-lg font-bold text-white",children:m(l.reduce((function(e,t){return e+t.totalPaid}),0))}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"Total paid"})]})]})})}),0===l.length?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(_s.A,{className:"h-8 w-8 text-gray-400"})}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white mb-2",children:"No History Yet"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"Cancelled subscriptions will appear here with their lifecycle details."})]}):(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)("h4",{className:"text-sm font-bold text-white",children:"Cancelled Subscriptions"}),(0,s.jsxs)($,{onClick:function(){return un(t,void 0,void 0,(function(){var e;return hn(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,G.save("subscription-history",[])];case 1:return t.sent(),c([]),[3,3];case 2:return e=t.sent(),console.error("Error clearing history:",e),[3,3];case 3:return[2]}}))}))},variant:"ghost",size:"sm",className:"text-red-400 hover:text-red-300 hover:bg-red-500/20 p-1 text-xs",children:[(0,s.jsx)(se.A,{className:"h-3 w-3 mr-1"}),"Clear"]})]}),l.map((function(e){return(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 ".concat(e.color," rounded-full flex items-center justify-center text-sm"),children:e.icon}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-white",children:e.name}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:p(e.billingCycle)})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("div",{className:"text-sm font-bold text-white",children:m(e.price)}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"per month"})]})]}),(0,s.jsx)("div",{className:"bg-white/5 rounded-lg p-2 mt-2",children:(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"Started"}),(0,s.jsx)("div",{className:"text-xs font-medium text-white",children:b(e.startDate)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"Ended"}),(0,s.jsx)("div",{className:"text-xs font-medium text-white",children:b(e.endDate)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"Duration"}),(0,s.jsxs)("div",{className:"text-xs font-medium text-white",children:[e.durationDays,"d"]})]})]})}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-white/10",children:[(0,s.jsx)("span",{className:"text-xs text-gray-400",children:"Total paid"}),(0,s.jsx)("span",{className:"text-xs font-bold text-white",children:m(e.totalPaid)})]})]},e.id)}))]})]})]})})}var mn=function(){return mn=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},mn.apply(this,arguments)},bn=function(e,t,r,s){return new(r||(r=Promise))((function(n,a){function i(e){try{l(s.next(e))}catch(e){a(e)}}function o(e){try{l(s.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))},pn=function(e,t){var r,s,n,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(r=1,s&&(n=2&o[0]?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},gn=function(e,t,r){if(r||2===arguments.length)for(var s,n=0,a=t.length;n<a;n++)!s&&n in t||(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},fn=[{id:"demo-netflix",name:"Netflix",price:179,renewalDate:new Date(Date.now()+1296e6).toISOString().split("T")[0],startDate:new Date(Date.now()-2592e6).toISOString().split("T")[0],icon:"🎬",color:"bg-red-500",status:"active",daysUntilRenewal:15,category:"Entertainment",paymentMethod:"Credit Card",billingCycle:"monthly",reminderEnabled:!0}];function vn(e){var t,r=this,a=e.userConfig,i=(0,n.useState)([]),o=i[0],l=i[1],c=(0,n.useState)(0),d=c[0],u=c[1],h=(0,n.useState)(0),x=h[0],m=h[1],b=(0,n.useState)(0),p=b[0],g=b[1],f=(0,n.useState)(!1),v=f[0],y=f[1],j=(0,n.useState)(!1),w=j[0],N=j[1],k=(0,n.useState)(null),C=k[0],S=k[1],A=(0,n.useState)(null),D=A[0],T=A[1],P=(0,n.useState)(!0),M=P[0],O=P[1],E=(0,n.useState)("name"),L=E[0],R=E[1],F=(0,n.useState)(!1),I=F[0],U=F[1],H=(0,n.useState)(!1),B=H[0],W=H[1],z=[{value:"name",label:"Name"},{value:"price",label:"Price"},{value:"renewal",label:"Renewal"}],X=function(e){var t=function(){if(!a)return"kr";switch(a.currency){case"USD":return"$";case"EUR":return"€";default:return"kr"}}();return"$"===t||"€"===t?"".concat(t).concat(Math.round(e).toLocaleString()):"".concat(Math.round(e).toLocaleString()," ").concat(t)};(0,n.useEffect)((function(){Y()}),[]),(0,n.useEffect)((function(){o.length>0&&K()}),[o]);var Y=function(){return bn(r,void 0,void 0,(function(){var e,t,r,s;return pn(this,(function(n){switch(n.label){case 0:return n.trys.push([0,5,6,7]),[4,G.load("subscriptions")];case 1:return(e=n.sent())&&e.length>0?(t=e.map((function(e){return mn(mn({},e),{daysUntilRenewal:q(e.renewalDate),status:V(e.renewalDate)})})),l(t),[3,4]):[3,2];case 2:return r=fn.map((function(e){return mn(mn({},e),{daysUntilRenewal:q(e.renewalDate),status:V(e.renewalDate)})})),l(r),[4,G.save("subscriptions",r)];case 3:n.sent(),n.label=4;case 4:return[3,7];case 5:return s=n.sent(),console.error("Error loading subscriptions:",s),l([]),[3,7];case 6:return O(!1),[7];case 7:return[2]}}))}))},q=function(e){var t=new Date;t.setHours(0,0,0,0);var r=new Date(e);r.setHours(0,0,0,0);var s=r.getTime()-t.getTime();return Math.ceil(s/864e5)},V=function(e){var t=q(e);return t<0?"overdue":t<=7?"upcoming":"active"},K=function(){var e=o.reduce((function(e,t){return e+t.price}),0);u(e);var t=o.filter((function(e){return e.daysUntilRenewal<=30})).reduce((function(e,t){return e+t.price}),0);m(t);var r=(new Date).getMonth();g(e*(12-r))},J=function(e){var t=o.map((function(t){return t.id===e.id?e:t}));l(t)},_=o.filter((function(e){return e.daysUntilRenewal<=7})).sort((function(e,t){return e.daysUntilRenewal-t.daysUntilRenewal}));return M?(0,s.jsx)(we,{className:"bg-black/60 border border-white/10 backdrop-blur-xl h-full overflow-hidden rounded-2xl",children:(0,s.jsx)(Ce,{className:"p-3 h-full flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-gray-400",children:"Loading subscriptions..."})})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(we,{className:"bg-black/60 border border-white/10 backdrop-blur-xl h-full overflow-hidden rounded-2xl",children:(0,s.jsxs)(Ce,{className:"p-3 h-full flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(Qt.A,{className:"h-4 w-4 text-blue-400"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-bold text-white",children:"Recurring Payments"}),(0,s.jsx)("p",{className:"text-xs text-gray-400",children:"Monthly subscriptions"})]})]}),(0,s.jsxs)("button",{onClick:function(){return W(!0)},className:"bg-white/5 hover:bg-white/10 border border-white/10 text-white px-2 py-1 text-xs rounded flex items-center space-x-1 transition-colors",children:[(0,s.jsx)(_s.A,{className:"h-3 w-3"}),(0,s.jsx)("span",{children:"History"})]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-2",children:[(0,s.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:"Monthly avg"}),(0,s.jsx)("div",{className:"text-lg font-bold text-white",children:X(d)})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-2",children:[(0,s.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:"Active"}),(0,s.jsx)("div",{className:"text-lg font-bold text-white",children:o.length})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-2",children:[(0,s.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:"Due this month"}),(0,s.jsx)("div",{className:"text-lg font-bold text-white",children:X(x)})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-2",children:[(0,s.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:"Due this year"}),(0,s.jsx)("div",{className:"text-lg font-bold text-white",children:X(p)})]})]})]}),(0,s.jsx)("div",{className:"mb-3",children:(0,s.jsxs)($,{onClick:function(){return y(!0)},className:"w-full bg-white/10 hover:bg-white/20 text-white text-xs py-2 rounded-2xl",children:[(0,s.jsx)(Se.A,{className:"h-3 w-3 mr-1"}),"Add new"]})}),_.length>0&&(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("h4",{className:"text-sm font-bold text-white mb-2",children:"Up next"}),(0,s.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-2",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-6 h-6 ".concat(_[0].color," rounded-full flex items-center justify-center text-xs"),children:_[0].icon}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-white",children:_[0].name}),(0,s.jsxs)("div",{className:"text-xs text-orange-400",children:["In ",_[0].daysUntilRenewal,"d"]})]})]}),(0,s.jsx)("div",{className:"text-sm font-bold text-white",children:X(_[0].price)})]})})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h4",{className:"text-sm font-bold text-white",children:"Subscriptions"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{onClick:function(){return U(!I)},className:"flex items-center space-x-1 text-gray-400 hover:text-white transition-colors",children:[(0,s.jsx)($s.A,{className:"h-3 w-3"}),(0,s.jsx)("span",{className:"text-xs",children:null===(t=z.find((function(e){return e.value===L})))||void 0===t?void 0:t.label})]}),I&&(0,s.jsx)("div",{className:"absolute right-0 top-6 bg-gray-800 border border-white/20 rounded-2xl p-2 z-10 min-w-[80px]",children:z.map((function(e){return(0,s.jsx)("button",{onClick:function(){R(e.value),U(!1)},className:"w-full text-left px-2 py-1 text-xs rounded transition-colors ".concat(L===e.value?"bg-blue-500/20 text-blue-400":"text-gray-400 hover:text-white hover:bg-white/10"),children:e.label},e.value)}))})]})]}),(0,s.jsx)("div",{className:"space-y-2",children:function(){var e=gn([],o,!0);switch(L){case"name":return e.sort((function(e,t){return e.name.localeCompare(t.name)}));case"price":return e.sort((function(e,t){return t.price-e.price}));case"renewal":return e.sort((function(e,t){return e.daysUntilRenewal-t.daysUntilRenewal}));default:return e}}().map((function(e){var t=function(e){return e.daysUntilRenewal<=7?{text:"".concat(e.daysUntilRenewal,"d"),color:"text-orange-400"}:{text:(t=e.renewalDate,new Date(t).toLocaleDateString("nb-NO",{day:"numeric",month:"short"})),color:"text-gray-400"};var t}(e);return(0,s.jsx)("div",{onClick:function(){return S(e),void N(!0)},className:"bg-white/5 border border-white/10 rounded-2xl p-2 hover:bg-white/10 transition-all cursor-pointer",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-6 h-6 ".concat(e.color," rounded-full flex items-center justify-center text-xs"),children:e.icon}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-white",children:e.name}),(0,s.jsx)("div",{className:"text-xs ".concat(t.color),children:t.text})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("div",{className:"text-sm font-bold text-white",children:X(e.price)}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"Monthly"})]})]})},e.id)}))})]})]})}),(0,s.jsx)(cn,{isOpen:v,onClose:function(){y(!1),T(null)},onSubscriptionAdded:function(e){return bn(r,void 0,void 0,(function(){var t;return pn(this,(function(r){switch(r.label){case 0:return t=gn(gn([],o,!0),[e],!1),l(t),[4,G.save("subscriptions",t)];case 1:return r.sent(),[2]}}))}))},editingSubscription:D,onSubscriptionUpdated:function(e){J(e),T(null)},userConfig:a}),(0,s.jsx)(dn,{isOpen:w,onClose:function(){return N(!1)},subscription:C,onSubscriptionUpdated:J,onSubscriptionDeleted:function(e){return bn(r,void 0,void 0,(function(){var t,r,s,n,a,i,c,d,u,h;return pn(this,(function(x){switch(x.label){case 0:return x.trys.push([0,5,,6]),(t=o.find((function(t){return t.id===e})))?(r=new Date(t.renewalDate),s=new Date,n=Math.floor((s.getTime()-r.getTime())/864e5),a=t.price,i=Math.max(a,n/30*a),c={id:t.id,name:t.name,price:t.price,icon:t.icon,color:t.color,startDate:t.renewalDate,endDate:s.toISOString().split("T")[0],category:t.category,billingCycle:t.billingCycle,totalPaid:i,durationDays:Math.max(1,n)},[4,G.load("subscription-history")]):[3,3];case 1:return d=x.sent()||[],[4,G.save("subscription-history",gn(gn([],d,!0),[c],!1))];case 2:x.sent(),x.label=3;case 3:return u=o.filter((function(t){return t.id!==e})),l(u),[4,G.save("subscriptions",u)];case 4:return x.sent(),[3,6];case 5:return h=x.sent(),console.error("Error deleting subscription:",h),[3,6];case 6:return[2]}}))}))},onEdit:function(e){T(e),N(!1),y(!0)},userConfig:a}),B&&(0,s.jsx)(xn,{isOpen:B,onClose:function(){return W(!1)},userConfig:a})]})}var yn=r(1429);function jn(){var e=(0,n.useState)(!1),t=e[0],r=e[1];return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{onClick:function(){return r(!t)},className:"flex items-center gap-2 px-3 py-2 bg-black/20 hover:bg-black/30 rounded-lg transition-all duration-200 backdrop-blur-sm border border-white/10",children:[(0,s.jsx)(jt.A,{className:"w-4 h-4 text-white/70"}),(0,s.jsx)("span",{className:"text-sm text-white/80 font-medium",children:"How Financial Works"})]}),t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 z-40 bg-black/50 backdrop-blur-sm",onClick:function(){return r(!1)}}),(0,s.jsxs)("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50 w-full max-w-5xl max-h-[85vh] bg-black/90 backdrop-blur-md rounded-2xl border border-white/10 shadow-2xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(wt.A,{className:"w-6 h-6 text-green-400"}),(0,s.jsx)("h2",{className:"text-xl font-bold text-white",children:"Financial Tab - Your Money Management Center"})]}),(0,s.jsx)("button",{onClick:function(){return r(!1)},className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:(0,s.jsx)(v.A,{className:"w-5 h-5 text-white/70"})})]}),(0,s.jsx)("div",{className:"p-6 overflow-y-auto max-h-[70vh]",children:(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/20 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(h.A,{className:"w-6 h-6 text-green-400"}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"💰 What is the Financial Tab?"})]}),(0,s.jsxs)("div",{className:"space-y-4 text-white/80",children:[(0,s.jsx)("p",{className:"text-sm",children:"Financial is your comprehensive money tracking and awareness center. Monitor the true cost of your tracked habit and manage all your subscriptions in one place to maintain financial discipline."}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"📊 Habit Impact Tracker:"})," Real-time cost analysis and time-value calculations"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"💳 Subscription Tracker:"})," Complete subscription management with forecasting"]})]})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-red-500/10 to-orange-500/10 border border-red-500/20 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(yn.A,{className:"w-6 h-6 text-red-400"}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"📊 Snus Impact Tracker (Left Column)"})]}),(0,s.jsxs)("div",{className:"space-y-4 text-white/80",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-red-300 mb-2",children:"Financial Impact Analysis"}),(0,s.jsx)("p",{className:"text-sm",children:"Real-time calculation of your habit costs and their equivalent in work time using your actual hourly rate."}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs mt-2",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Live Data Integration:"})," Syncs with your main habit tracker automatically"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Multiple Time Periods:"})," Today, this week, this month, and total tracking"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Work Time Conversion:"})," Shows how many minutes you work to afford your habit"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Baseline Comparison:"})," Tracks usage avoided vs. your historical average"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-red-300 mb-2",children:"Precise Financial Calculations"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsx)("div",{children:(0,s.jsx)("strong",{children:"💰 Cost Inputs:"})}),(0,s.jsx)("div",{className:"ml-2",children:"• Your unit cost: Set in your profile as the cost per habit and per package"}),(0,s.jsx)("div",{className:"ml-2",children:"• Your hourly rate: Set in your profile for work time calculations"}),(0,s.jsx)("div",{className:"ml-2",children:"• Time per unit: How many minutes of work each unit of your habit costs you"}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)("strong",{children:"📦 Package Tracking:"})}),(0,s.jsx)("div",{className:"ml-2",children:"• Calculates total packages bought (rounds up for full packages)"}),(0,s.jsx)("div",{className:"ml-2",children:"• Uses your configured units per package and package cost"}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)("strong",{children:"⏰ Time Value Analysis:"})}),(0,s.jsx)("div",{className:"ml-2",children:"• Today: Exact minutes worked to afford today's habit"}),(0,s.jsx)("div",{className:"ml-2",children:"• Weekly/Monthly: Cumulative work time impact"}),(0,s.jsx)("div",{className:"ml-2",children:"• Visual representation of time vs. money"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-red-300 mb-2",children:"Smart Baseline System"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Historical Analysis:"})," Calculates your average daily habit usage"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Avoided Usage Tracking:"})," Shows units not taken vs. your baseline"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Progress Awareness:"})," Highlights reduction in usage over time"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Data Sources:"})," Uses all available habit data from daily logs"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-red-300 mb-2",children:"Data Integration"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Main Habit Tracker:"})," Real-time sync with daily habit counts"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Daily Logs:"})," Comprehensive historical data analysis"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Legacy Support:"})," Merges old and new data formats seamlessly"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Live Updates:"})," Refreshes automatically when your habit count changes"]})]})]}),(0,s.jsx)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:(0,s.jsxs)("p",{className:"text-sm",children:[(0,s.jsx)("strong",{children:"Financial Awareness:"})," Seeing your habit costs in work minutes makes the financial impact visceral and motivates reduction!"]})})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/20 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(Ks.A,{className:"w-6 h-6 text-blue-400"}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"💳 Subscription Tracker (Right Column)"})]}),(0,s.jsxs)("div",{className:"space-y-4 text-white/80",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-blue-300 mb-2",children:"Complete Subscription Management"}),(0,s.jsx)("p",{className:"text-sm",children:"Track all your recurring subscriptions with renewal monitoring, cost forecasting, and subscription lifecycle management."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-blue-300 mb-2",children:"Subscription Creation & Editing"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsx)("div",{children:(0,s.jsx)("strong",{children:"📝 Comprehensive Details:"})}),(0,s.jsx)("div",{className:"ml-2",children:"• Name, price, and renewal date"}),(0,s.jsx)("div",{className:"ml-2",children:"• Custom icons (💻📱🎵🎬🏃☁️🛡️🏠📚🤖) and colors"}),(0,s.jsx)("div",{className:"ml-2",children:"• Categories (Entertainment, Productivity, Health, etc.)"}),(0,s.jsx)("div",{className:"ml-2",children:"• Payment methods (Credit Card, PayPal, Bank Transfer, etc.)"}),(0,s.jsx)("div",{className:"ml-2",children:"• Billing cycles (Weekly, Monthly, Yearly)"}),(0,s.jsx)("div",{className:"ml-2",children:"• Reminder settings for upcoming renewals"}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)("strong",{children:"🔧 Smart Features:"})}),(0,s.jsx)("div",{className:"ml-2",children:"• Automatic renewal date calculation"}),(0,s.jsx)("div",{className:"ml-2",children:"• Edit existing subscriptions"}),(0,s.jsx)("div",{className:"ml-2",children:"• Free subscription tracking (price = 0)"}),(0,s.jsx)("div",{className:"ml-2",children:"• Start date handling for future subscriptions"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-blue-300 mb-2",children:"Renewal Monitoring & Status"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsx)("div",{children:(0,s.jsx)("strong",{children:"🚨 Status Indicators:"})}),(0,s.jsxs)("div",{className:"ml-2",children:["• ",(0,s.jsx)("span",{className:"text-green-400",children:"Active:"})," More than 7 days until renewal"]}),(0,s.jsxs)("div",{className:"ml-2",children:["• ",(0,s.jsx)("span",{className:"text-yellow-400",children:"Upcoming:"})," 7 days or less until renewal"]}),(0,s.jsxs)("div",{className:"ml-2",children:["• ",(0,s.jsx)("span",{className:"text-red-400",children:"Overdue:"})," Renewal date has passed"]}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)("strong",{children:"📅 Time Tracking:"})}),(0,s.jsx)("div",{className:"ml-2",children:"• Exact days until next renewal"}),(0,s.jsx)("div",{className:"ml-2",children:"• Handles negative days for overdue subscriptions"}),(0,s.jsx)("div",{className:"ml-2",children:"• Dynamic status updates based on current date"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-blue-300 mb-2",children:"Financial Forecasting"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsx)("div",{children:(0,s.jsx)("strong",{children:"💰 Cost Analysis:"})}),(0,s.jsx)("div",{className:"ml-2",children:"• Monthly Total: Sum of all monthly subscription costs"}),(0,s.jsx)("div",{className:"ml-2",children:"• Due This Month: Subscriptions renewing within 30 days"}),(0,s.jsx)("div",{className:"ml-2",children:"• Due This Year: Projected yearly cost from current subscriptions"}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)("strong",{children:"📊 Smart Calculations:"})}),(0,s.jsx)("div",{className:"ml-2",children:"• Handles different billing cycles (weekly/monthly/yearly)"}),(0,s.jsx)("div",{className:"ml-2",children:"• Pro-rates costs for remaining months in year"}),(0,s.jsx)("div",{className:"ml-2",children:"• Real-time total updates as subscriptions change"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-blue-300 mb-2",children:"Organization & Filtering"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsx)("div",{children:(0,s.jsx)("strong",{children:"🔍 Sorting Options:"})}),(0,s.jsx)("div",{className:"ml-2",children:"• By Name: Alphabetical subscription list"}),(0,s.jsx)("div",{className:"ml-2",children:"• By Price: Highest to lowest cost"}),(0,s.jsx)("div",{className:"ml-2",children:"• By Renewal: Soonest renewals first"}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)("strong",{children:"🗂️ Visual Organization:"})}),(0,s.jsx)("div",{className:"ml-2",children:"• Custom icons and colors for easy identification"}),(0,s.jsx)("div",{className:"ml-2",children:"• Category-based grouping"}),(0,s.jsx)("div",{className:"ml-2",children:"• Status-based visual cues"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-blue-300 mb-2",children:"Subscription Lifecycle"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsx)("div",{children:(0,s.jsx)("strong",{children:"🗑️ Subscription Deletion:"})}),(0,s.jsx)("div",{className:"ml-2",children:"• Automatic history entry creation"}),(0,s.jsx)("div",{className:"ml-2",children:"• Duration tracking (start to end date)"}),(0,s.jsx)("div",{className:"ml-2",children:"• Total paid estimation"}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)("strong",{children:"📜 History Management:"})}),(0,s.jsx)("div",{className:"ml-2",children:"• View past subscription history"}),(0,s.jsx)("div",{className:"ml-2",children:"• Track money spent on cancelled services"}),(0,s.jsx)("div",{className:"ml-2",children:"• Analyze subscription patterns over time"}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)("strong",{children:"💾 Data Persistence:"})}),(0,s.jsx)("div",{className:"ml-2",children:"• Automatic save to browser storage"}),(0,s.jsx)("div",{className:"ml-2",children:"• Separate active and history storage"}),(0,s.jsx)("div",{className:"ml-2",children:"• Data survives browser restarts"})]})]}),(0,s.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:(0,s.jsxs)("p",{className:"text-sm",children:[(0,s.jsx)("strong",{children:"Subscription Strategy:"})," Regular review helps identify unused subscriptions and optimize spending. Set reminders to evaluate value before renewals!"]})})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/20 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(He.A,{className:"w-6 h-6 text-purple-400"}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"🔧 Advanced Features"})]}),(0,s.jsxs)("div",{className:"space-y-4 text-white/80",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-purple-300 mb-2",children:"Subscription Details Dialog"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Full Information View:"})," Complete subscription details in modal"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Quick Actions:"})," Edit or delete subscriptions directly"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Renewal Information:"})," Detailed renewal date and status"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Visual Design:"})," Color-coded display with custom icons"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-purple-300 mb-2",children:"Subscription History Dialog"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Historical Analysis:"})," View all previously cancelled subscriptions"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Cost Tracking:"})," Total amount spent on each cancelled service"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Duration Analysis:"})," How long each subscription was active"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Financial Insights:"})," Identify spending patterns and trends"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-purple-300 mb-2",children:"Smart Date Calculations"}),(0,s.jsxs)("div",{className:"bg-black/40 rounded-lg p-3 text-xs",children:[(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Billing Cycle Logic:"})," Handles monthly edge cases (Feb 30th → Feb 28th)"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Future Subscriptions:"})," Supports subscriptions starting in the future"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Timezone Safety:"})," Avoids date calculation errors across timezones"]}),(0,s.jsxs)("div",{children:["• ",(0,s.jsx)("strong",{children:"Leap Year Support:"})," Correctly handles yearly renewals"]})]})]})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-indigo-500/10 to-blue-500/10 border border-indigo-500/20 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(Vs.A,{className:"w-6 h-6 text-indigo-400"}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"🔗 Financial Tab Integration"})]}),(0,s.jsxs)("div",{className:"space-y-3 text-white/80 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Real-time Habit Cost Tracking:"})," Habit Impact Tracker updates automatically as you log your habit in the main tab"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Independent Subscription Management:"})," Subscriptions operate independently for privacy and flexibility"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Comprehensive Data Sources:"})," Merges multiple data formats for complete historical analysis"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Financial Awareness Focus:"})," Both components emphasize cost consciousness and spending awareness"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Browser Storage:"})," All data persists locally in browser for privacy and speed"]})]})]})]})})]})]})]})}const wn=function(e){var t=e.userConfig;return(0,s.jsx)("div",{className:"h-screen pt-28 pb-16 overflow-hidden relative",children:(0,s.jsxs)("div",{className:"container mx-auto px-6 max-w-7xl h-full flex flex-col",children:[(0,s.jsx)("div",{className:"fixed bottom-6 right-6 z-20",children:(0,s.jsx)(jn,{})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 flex-1 min-h-0 mb-6",children:[(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"opacity-0 animate-slide-in-left h-[calc(100vh-12rem)]",style:{animationDelay:"200ms",animationFillMode:"forwards"},children:(0,s.jsx)(Js,{userConfig:t})})}),(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"opacity-0 animate-slide-in-right h-[calc(100vh-12rem)]",style:{animationDelay:"400ms",animationFillMode:"forwards"},children:(0,s.jsx)(vn,{userConfig:t})})})]})]})})};var Nn=function(){return Nn=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Nn.apply(this,arguments)},kn=function(e,t,r,s){return new(r||(r=Promise))((function(n,a){function i(e){try{l(s.next(e))}catch(e){a(e)}}function o(e){try{l(s.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))},Cn=function(e,t){var r,s,n,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(r=1,s&&(n=2&o[0]?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,s=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],s=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Sn={ambient:{id:"ambient",name:"Ambient Glow",description:"Colorful gradient spots with rich grain",rarity:"starter",rarityLabel:"Starter",levelRequired:1,unlockMessage:"Welcome to your journey! This signature theme grows with you.",backgroundColor:"#2a2a2a",gradientSpots:["absolute top-20 right-32 w-80 h-80 bg-gradient-to-r from-orange-400/45 via-amber-500/35 to-yellow-400/25 rounded-tl-3xl rounded-br-xl rounded-tr-2xl rounded-bl-2xl blur-3xl","absolute bottom-40 left-20 w-96 h-96 bg-gradient-to-br from-purple-500/35 via-pink-400/30 to-rose-400/20 rounded-tl-2xl rounded-br-3xl rounded-tr-xl rounded-bl-3xl blur-3xl","absolute top-1/2 right-20 w-64 h-64 bg-gradient-to-tl from-blue-400/50 via-cyan-300/40 to-teal-300/35 rounded-tl-xl rounded-br-2xl rounded-tr-3xl rounded-bl-xl blur-3xl","absolute bottom-20 right-1/3 w-72 h-72 bg-gradient-to-tr from-yellow-400/40 via-orange-300/35 to-red-400/25 rounded-tl-3xl rounded-br-2xl rounded-tr-xl rounded-bl-2xl blur-3xl","absolute top-32 left-1/3 w-56 h-56 bg-gradient-to-bl from-emerald-400/30 via-teal-300/25 to-green-400/15 rounded-tl-2xl rounded-br-xl rounded-tr-2xl rounded-bl-3xl blur-3xl","absolute top-2/3 right-1/2 w-44 h-44 bg-gradient-to-r from-rose-400/25 via-violet-400/35 to-purple-400/30 rounded-tl-xl rounded-br-3xl rounded-tr-2xl rounded-bl-xl blur-3xl"],grainOpacity:80,grainColors:"light"},minimal:{id:"minimal",name:"Minimal Dark",description:"Clean dark background with subtle grain",rarity:"common",rarityLabel:"Common",levelRequired:2,unlockMessage:"Clean and focused - perfect for deep work sessions.",backgroundColor:"#1a1a1a",gradientSpots:[],grainOpacity:30,grainColors:"light"},neon:{id:"neon",name:"Neon Nights",description:"Cyberpunk vibes with electric colors",rarity:"rare",rarityLabel:"Rare",levelRequired:7,unlockMessage:"Enter the digital realm. Your cyber-productivity awaits.",backgroundColor:"#0a0a0a",gradientSpots:["absolute top-10 left-20 w-72 h-72 bg-gradient-to-r from-cyan-400/35 via-blue-500/30 to-indigo-600/25 rounded-full blur-3xl","absolute bottom-20 right-32 w-80 h-80 bg-gradient-to-r from-pink-500/30 via-purple-600/25 to-violet-700/20 rounded-full blur-3xl","absolute top-1/2 left-1/4 w-64 h-64 bg-gradient-to-r from-green-400/25 via-emerald-500/20 to-teal-600/15 rounded-full blur-3xl"],grainOpacity:60,grainColors:"light"},warm:{id:"warm",name:"Warm Sunset",description:"Cozy orange and red tones",rarity:"common",rarityLabel:"Common",levelRequired:3,unlockMessage:"Embrace the warmth of productivity. Cozy vibes for long sessions.",backgroundColor:"#2d1b1b",gradientSpots:["absolute top-40 right-20 w-96 h-96 bg-gradient-to-r from-orange-500/35 via-red-400/30 to-rose-500/25 rounded-full blur-3xl","absolute bottom-32 left-32 w-80 h-80 bg-gradient-to-r from-amber-400/30 via-orange-600/25 to-red-500/20 rounded-full blur-3xl","absolute top-20 left-1/2 w-64 h-64 bg-gradient-to-r from-yellow-400/25 via-amber-500/20 to-orange-600/15 rounded-full blur-3xl"],grainOpacity:50,grainColors:"light"},cool:{id:"cool",name:"Cool Breeze",description:"Professional blues and teals",rarity:"rare",rarityLabel:"Rare",levelRequired:5,unlockMessage:"Professional excellence unlocked. Channel your inner business warrior.",backgroundColor:"#1a1f2e",gradientSpots:["absolute top-20 left-40 w-88 h-88 bg-gradient-to-r from-blue-400/30 via-indigo-500/25 to-purple-600/20 rounded-full blur-3xl","absolute bottom-40 right-20 w-72 h-72 bg-gradient-to-r from-teal-400/25 via-cyan-500/20 to-blue-600/15 rounded-full blur-3xl","absolute top-1/2 right-1/3 w-60 h-60 bg-gradient-to-r from-slate-400/20 via-blue-300/15 to-indigo-400/10 rounded-full blur-3xl"],grainOpacity:45,grainColors:"light"},mintlify:{id:"mintlify",name:"Mintlify Docs",description:"Documentation platform inspired green gradients",rarity:"epic",rarityLabel:"Epic",levelRequired:10,unlockMessage:"Developer tier achieved! Channel the power of clean documentation.",backgroundColor:"#0a0f0a",gradientSpots:["absolute top-32 right-20 w-96 h-96 bg-gradient-to-r from-emerald-400/40 via-teal-500/35 to-cyan-600/30 rounded-full blur-3xl","absolute bottom-20 left-32 w-80 h-80 bg-gradient-to-r from-cyan-400/35 via-emerald-600/30 to-green-700/25 rounded-full blur-3xl","absolute top-20 left-1/4 w-72 h-72 bg-gradient-to-r from-teal-300/30 via-green-500/25 to-emerald-600/20 rounded-full blur-3xl","absolute bottom-1/2 right-1/4 w-88 h-88 bg-gradient-to-r from-green-400/35 via-cyan-500/30 to-teal-600/25 rounded-full blur-3xl","absolute top-2/3 left-1/2 w-64 h-64 bg-gradient-to-r from-emerald-300/25 via-teal-400/20 to-green-500/15 rounded-full blur-3xl"],grainOpacity:65,grainColors:"light"},space:{id:"space",name:"Deep Space",description:"Cosmic elegance with deep purples and indigos",rarity:"legendary",rarityLabel:"Legendary",levelRequired:15,unlockMessage:"Cosmic mastery unlocked! Transcend earthly limits in the void.",backgroundColor:"#0b0c1a",gradientSpots:["absolute top-20 right-24 w-88 h-88 bg-gradient-to-r from-indigo-500/35 via-purple-600/30 to-violet-700/25 rounded-full blur-3xl","absolute bottom-32 left-20 w-96 h-96 bg-gradient-to-r from-violet-500/30 via-indigo-700/25 to-slate-800/20 rounded-full blur-3xl","absolute top-1/2 left-1/4 w-72 h-72 bg-gradient-to-r from-purple-400/25 via-slate-600/20 to-indigo-700/15 rounded-full blur-3xl","absolute bottom-20 right-1/3 w-80 h-80 bg-gradient-to-r from-indigo-400/30 via-purple-500/25 to-violet-600/20 rounded-full blur-3xl","absolute top-40 left-1/2 w-64 h-64 bg-gradient-to-r from-violet-400/20 via-indigo-500/18 to-purple-600/15 rounded-full blur-3xl","absolute bottom-1/2 right-20 w-56 h-56 bg-gradient-to-r from-purple-300/18 via-slate-500/15 to-indigo-600/12 rounded-full blur-3xl"],grainOpacity:55,grainColors:"light"},aurora:{id:"aurora",name:"Aurora Dreams",description:"Ethereal northern lights dancing across the sky",rarity:"mythic",rarityLabel:"Mythic",levelRequired:20,unlockMessage:"Witness the divine aurora! You have achieved transcendent focus.",backgroundColor:"#0a0e1a",gradientSpots:["absolute top-10 left-10 w-96 h-96 bg-gradient-to-r from-emerald-400/40 via-cyan-500/35 to-blue-600/30 rounded-full blur-3xl","absolute bottom-10 right-10 w-88 h-88 bg-gradient-to-r from-violet-500/35 via-pink-400/30 to-rose-500/25 rounded-full blur-3xl","absolute top-1/3 right-1/4 w-72 h-72 bg-gradient-to-r from-green-400/30 via-teal-500/25 to-cyan-600/20 rounded-full blur-3xl","absolute bottom-1/3 left-1/4 w-80 h-80 bg-gradient-to-r from-purple-400/25 via-indigo-500/20 to-violet-600/15 rounded-full blur-3xl"],grainOpacity:70,grainColors:"light"},phoenix:{id:"phoenix",name:"Phoenix Rising",description:"Rebirth through fire and determination",rarity:"mythic",rarityLabel:"Mythic",levelRequired:25,unlockMessage:"From ashes to glory! Your dedication burns eternal.",backgroundColor:"#1a0a0a",gradientSpots:["absolute top-20 right-20 w-96 h-96 bg-gradient-to-r from-red-500/45 via-orange-600/40 to-yellow-500/35 rounded-full blur-3xl","absolute bottom-20 left-20 w-88 h-88 bg-gradient-to-r from-amber-500/35 via-red-600/30 to-rose-700/25 rounded-full blur-3xl","absolute top-1/2 left-1/2 w-72 h-72 bg-gradient-to-r from-orange-400/30 via-yellow-500/25 to-amber-600/20 rounded-full blur-3xl"],grainOpacity:60,grainColors:"light"},quantum:{id:"quantum",name:"Quantum Flux",description:"Reality bends to your productive will",rarity:"mythic",rarityLabel:"Mythic",levelRequired:30,unlockMessage:"You have mastered the quantum realm of productivity.",backgroundColor:"#0f0f23",gradientSpots:["absolute top-16 right-16 w-80 h-80 bg-gradient-to-r from-cyan-400/40 via-blue-500/35 to-purple-600/30 rounded-full blur-3xl","absolute bottom-16 left-16 w-96 h-96 bg-gradient-to-r from-pink-500/35 via-violet-600/30 to-indigo-700/25 rounded-full blur-3xl","absolute top-1/3 left-1/3 w-64 h-64 bg-gradient-to-r from-emerald-400/25 via-cyan-500/20 to-blue-600/15 rounded-full blur-3xl","absolute bottom-1/3 right-1/3 w-72 h-72 bg-gradient-to-r from-purple-400/30 via-pink-500/25 to-rose-600/20 rounded-full blur-3xl"],grainOpacity:75,grainColors:"light"},godmode:{id:"godmode",name:"God Mode",description:"Transcendent power flows through every pixel",rarity:"transcendent",rarityLabel:"Transcendent",levelRequired:50,unlockMessage:"You have achieved the impossible. Welcome to divinity.",backgroundColor:"#1a1a1a",gradientSpots:["absolute top-12 right-12 w-96 h-96 bg-gradient-to-r from-yellow-400/50 via-orange-500/45 to-red-600/40 rounded-full blur-3xl","absolute bottom-12 left-12 w-88 h-88 bg-gradient-to-r from-purple-500/40 via-pink-600/35 to-rose-700/30 rounded-full blur-3xl","absolute top-1/4 left-1/2 w-80 h-80 bg-gradient-to-r from-cyan-400/35 via-blue-500/30 to-indigo-600/25 rounded-full blur-3xl","absolute bottom-1/4 right-1/2 w-72 h-72 bg-gradient-to-r from-emerald-400/30 via-teal-500/25 to-green-600/20 rounded-full blur-3xl","absolute top-1/2 right-1/4 w-64 h-64 bg-gradient-to-r from-violet-400/25 via-purple-500/20 to-indigo-600/15 rounded-full blur-3xl"],grainOpacity:85,grainColors:"light"},omnipotent:{id:"omnipotent",name:"Omnipotent",description:"Reality itself reshapes around your presence",rarity:"transcendent",rarityLabel:"Transcendent",levelRequired:100,unlockMessage:"You have become legend. The universe acknowledges your supremacy.",backgroundColor:"#000000",gradientSpots:["absolute top-8 right-8 w-full h-full bg-gradient-radial from-yellow-400/60 via-orange-500/45 via-red-600/35 via-purple-700/25 via-blue-800/15 to-transparent rounded-full blur-3xl","absolute bottom-8 left-8 w-96 h-96 bg-gradient-to-r from-cyan-400/40 via-emerald-500/35 to-teal-600/30 rounded-full blur-3xl","absolute top-1/3 left-1/3 w-88 h-88 bg-gradient-to-r from-pink-500/35 via-rose-600/30 to-red-700/25 rounded-full blur-3xl"],grainOpacity:90,grainColors:"light"}},An=["snus","tobacco","alcohol","gambling","other"],Dn=["NOK","USD","EUR","SEK"];function Tn(e){return Nn(Nn({},e),{addictionType:An.includes(e.addictionType)?e.addictionType:"snus",currency:Dn.includes(e.currency)?e.currency:"NOK"})}var Pn=document.getElementById("root");(0,a.H)(Pn).render((0,s.jsx)(n.StrictMode,{children:(0,s.jsx)((function(){var e=this,t=(0,n.useState)("home"),r=t[0],a=t[1],l=(0,n.useState)(null),c=l[0],d=l[1],u=(0,n.useState)(!1),h=u[0],x=u[1],m=(0,n.useState)(!1),b=m[0],f=m[1],v=(0,n.useState)(!1),y=v[0],j=v[1],w=(0,n.useState)(!1),N=w[0],k=w[1],C=(0,n.useState)(null),S=C[0],A=C[1];return(0,n.useEffect)((function(){kn(e,void 0,void 0,(function(){return Cn(this,(function(e){try{d(Sn.ambient),k(!0),console.log("Demo app initialized, opening onboarding")}catch(e){console.warn("Failed to initialize app:",e),d(Sn.ambient),k(!0)}finally{j(!0)}return[2]}))}))}),[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("style",{children:"\n          @keyframes zoomIn {\n            0% {\n              transform: scale(0.95);\n              opacity: 0;\n            }\n            100% {\n              transform: scale(1);\n              opacity: 1;\n            }\n          }\n        "}),y&&c?(0,s.jsxs)("div",{className:"fixed inset-0 overflow-auto transition-all duration-700 ease-out",style:{backgroundColor:c.backgroundColor,animation:"zoomIn 0.6s ease-out",transform:"scale(1)",opacity:1},children:[c.gradientSpots.length>0&&(0,s.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:c.gradientSpots.map((function(e,t){return(0,s.jsx)("div",{className:e},"".concat(c.id,"-spot-").concat(t))}))}),(0,s.jsx)("div",{className:"absolute inset-0 pointer-events-none z-1",style:{opacity:c.grainOpacity/100,backgroundImage:"space"===c.id?"\n                  radial-gradient(circle at 15% 25%, rgba(255,255,255,0.9) 1px, transparent 1px),\n                  radial-gradient(circle at 85% 15%, rgba(255,255,255,0.7) 1px, transparent 1px),\n                  radial-gradient(circle at 45% 65%, rgba(255,255,255,0.8) 1px, transparent 1px),\n                  radial-gradient(circle at 75% 85%, rgba(255,255,255,0.6) 1px, transparent 1px),\n                  radial-gradient(circle at 25% 75%, rgba(255,255,255,0.9) 1px, transparent 1px),\n                  radial-gradient(circle at 92% 45%, rgba(255,255,255,0.5) 1px, transparent 1px),\n                  radial-gradient(circle at 8% 55%, rgba(255,255,255,0.7) 1px, transparent 1px),\n                  radial-gradient(circle at 55% 25%, rgba(255,255,255,0.6) 1px, transparent 1px),\n                  radial-gradient(circle at 35% 90%, rgba(255,255,255,0.8) 1px, transparent 1px),\n                  radial-gradient(circle at 65% 10%, rgba(255,255,255,0.5) 1px, transparent 1px),\n                  radial-gradient(circle at 18% 42%, rgba(255,255,255,0.4) 2px, transparent 2px),\n                  radial-gradient(circle at 78% 68%, rgba(255,255,255,0.5) 2px, transparent 2px),\n                  radial-gradient(circle at 50% 50%, rgba(255,255,255,0.3) 1.5px, transparent 1.5px),\n                  radial-gradient(circle at 88% 78%, rgba(255,255,255,0.6) 1.5px, transparent 1.5px),\n                  radial-gradient(circle at 12% 88%, rgba(255,255,255,0.4) 1.5px, transparent 1.5px)\n                ":"mintlify"===c.id?"\n                  radial-gradient(circle at 20% 20%, rgba(52, 211, 153, 0.15) 1px, transparent 1px),\n                  radial-gradient(circle at 40% 40%, rgba(52, 211, 153, 0.10) 1px, transparent 1px),\n                  radial-gradient(circle at 60% 20%, rgba(52, 211, 153, 0.12) 1px, transparent 1px),\n                  radial-gradient(circle at 80% 40%, rgba(52, 211, 153, 0.08) 1px, transparent 1px),\n                  radial-gradient(circle at 20% 60%, rgba(52, 211, 153, 0.14) 1px, transparent 1px),\n                  radial-gradient(circle at 40% 80%, rgba(52, 211, 153, 0.09) 1px, transparent 1px),\n                  radial-gradient(circle at 60% 60%, rgba(52, 211, 153, 0.11) 1px, transparent 1px),\n                  radial-gradient(circle at 80% 80%, rgba(52, 211, 153, 0.07) 1px, transparent 1px),\n                  radial-gradient(circle at 10% 30%, rgba(6, 182, 212, 0.10) 1px, transparent 1px),\n                  radial-gradient(circle at 30% 50%, rgba(6, 182, 212, 0.08) 1px, transparent 1px),\n                  radial-gradient(circle at 50% 30%, rgba(6, 182, 212, 0.12) 1px, transparent 1px),\n                  radial-gradient(circle at 70% 50%, rgba(6, 182, 212, 0.09) 1px, transparent 1px),\n                  radial-gradient(circle at 90% 30%, rgba(6, 182, 212, 0.06) 1px, transparent 1px)\n                ":"\n                  radial-gradient(circle at 20% 30%, rgba(255,255,255,0.12) 1px, transparent 1px),\n                  radial-gradient(circle at 80% 70%, rgba(255,255,255,0.10) 1px, transparent 1px),\n                  radial-gradient(circle at 40% 80%, rgba(0,0,0,0.15) 1px, transparent 1px),\n                  radial-gradient(circle at 90% 20%, rgba(255,255,255,0.08) 1px, transparent 1px),\n                  radial-gradient(circle at 10% 90%, rgba(0,0,0,0.12) 1px, transparent 1px)\n                ",backgroundSize:"space"===c.id?"200px 200px, 180px 180px, 160px 160px, 220px 220px, 190px 190px, 170px 170px, 210px 210px, 160px 160px, 180px 180px, 200px 200px, 240px 240px, 220px 220px, 160px 160px, 190px 190px, 210px 210px":"mintlify"===c.id?"60px 60px, 80px 80px, 60px 60px, 80px 80px, 60px 60px, 80px 80px, 60px 60px, 80px 80px, 70px 70px, 90px 90px, 70px 70px, 90px 90px, 70px 70px":"80px 80px, 95px 95px, 70px 70px, 85px 85px, 90px 90px"}}),(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsx)(p,{currentView:r,onViewChange:a,currentTheme:c}),function(){switch(r){case"home":default:return(0,s.jsx)(kt,{userConfig:S});case"productivity":return(0,s.jsx)(tr,{userConfig:S});case"personal":return(0,s.jsx)(ks,{userConfig:S});case"vision":return(0,s.jsx)(qs,{userConfig:S});case"financial":return(0,s.jsx)(wn,{userConfig:S})}}()]}),(0,s.jsx)("div",{className:"fixed top-6 left-6 z-20",children:(0,s.jsxs)("button",{onClick:function(){return f(!0)},className:"flex items-center gap-2 px-4 py-2 bg-black/20 hover:bg-black/30 rounded-xl transition-all duration-200 backdrop-blur-sm border border-white/10 hover:border-white/20 hover:scale-105 group",children:[(0,s.jsx)(i.A,{className:"w-5 h-5 text-white/70 group-hover:text-white/90 transition-colors"}),(0,s.jsx)("span",{className:"text-sm text-white/80 group-hover:text-white/90 font-medium transition-colors",children:"Settings"})]})}),(0,s.jsx)("div",{className:"fixed top-6 right-6 z-20",children:(0,s.jsxs)("button",{onClick:function(){return x(!0)},className:"flex items-center gap-2 px-4 py-2 bg-black/20 hover:bg-black/30 rounded-xl transition-all duration-200 backdrop-blur-sm border border-white/10 hover:border-white/20 hover:scale-105 group",children:[(0,s.jsx)(o.A,{className:"w-5 h-5 text-white/70 group-hover:text-white/90 transition-colors"}),(0,s.jsx)("span",{className:"text-sm text-white/80 group-hover:text-white/90 font-medium transition-colors",children:c.name}),(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-gradient-to-r from-purple-400 to-pink-400 animate-pulse"})]})}),(0,s.jsx)(V,{isOpen:h,onClose:function(){return x(!1)},themes:Sn,currentTheme:c,onThemeChange:function(t){return function(t){return kn(e,void 0,void 0,(function(){return Cn(this,(function(e){return console.log("Changing theme to:",t),d(Sn[t]),x(!1),[2]}))}))}(t)}}),(0,s.jsx)(xe,{isOpen:b,onClose:function(){return f(!1)},userConfig:null!=S?S:void 0,onConfigUpdate:function(e){A(Tn(e))}}),(0,s.jsx)(ve,{isOpen:N,onClose:function(){return k(!1)},onComplete:function(e){A(Tn(e)),k(!1),console.log("Onboarding completed with config:",e)}}),(0,s.jsx)("div",{className:"fixed bottom-6 left-6 z-20",children:(0,s.jsx)(g,{})})]},c.id):(0,s.jsx)("div",{className:"fixed inset-0 flex items-center justify-center",style:{backgroundColor:"#1a1a1a"},children:(0,s.jsx)("div",{className:"text-white/60 text-sm animate-pulse",children:"Loading your workspace..."})})]})}),{})}))}},n={};function a(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}};return s[e](r,r.exports,a),r.exports}a.m=s,e=[],a.O=(t,r,s,n)=>{if(!r){var i=1/0;for(d=0;d<e.length;d++){for(var[r,s,n]=e[d],o=!0,l=0;l<r.length;l++)(!1&n||i>=n)&&Object.keys(a.O).every((e=>a.O[e](r[l])))?r.splice(l--,1):(o=!1,n<i&&(i=n));if(o){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[r,s,n]},r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(e,s){if(1&s&&(e=this(e)),8&s)return e;if("object"==typeof e&&e){if(4&s&&e.__esModule)return e;if(16&s&&"function"==typeof e.then)return e}var n=Object.create(null);a.r(n);var i={};t=t||[null,r({}),r([]),r(r)];for(var o=2&s&&e;"object"==typeof o&&!~t.indexOf(o);o=r(o))Object.getOwnPropertyNames(o).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,a.d(n,i),n},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={792:0};a.O.j=t=>0===e[t];var t=(t,r)=>{var s,n,[i,o,l]=r,c=0;if(i.some((t=>0!==e[t]))){for(s in o)a.o(o,s)&&(a.m[s]=o[s]);if(l)var d=l(a)}for(t&&t(r);c<i.length;c++)n=i[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(d)},r=self.webpackChunknew_tab_demo=self.webpackChunknew_tab_demo||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),a.nc=void 0;var i=a.O(void 0,[96],(()=>a(4565)));i=a.O(i)})();